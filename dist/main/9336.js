"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[9336],{89955:(U,A,l)=>{l.d(A,{s:()=>r});const r={url_module:{auth:"module_auth",official:"module_official",master:"module_master",resepsionis:"module_resepsionis",perawat:"module_perawat",dokter:"module_dokter",rekamMedis:"module_rekam_medis",export:"module_export",master_node:"module_master_node",gudangTransaksi:"modul_gudang_transaksi",modulImportFile:"modul_import_file",modulLaporan:"modul_laporan"}}},79336:(U,A,l)=>{l.r(A),l.d(A,{DaftarRuangModule:()=>Lt});var r=l(69808),v=l(23007),T=l(65415),b=l(2454),h=l.n(b),a=l(65620);const N=(0,a.PH)("[DAFTAR_RUANG] add initial",(0,a.Ky)()),S=(0,a.PH)("[DAFTAR_RUANG] add success",(0,a.Ky)()),G=(0,a.PH)("[DAFTAR_RUANG] add failure ",(0,a.Ky)()),J=(0,a.PH)("[DAFTAR_RUANG] update initial",(0,a.Ky)()),j=(0,a.PH)("[DAFTAR_RUANG] update success",(0,a.Ky)()),q=(0,a.PH)("[DAFTAR_RUANG] update failure",(0,a.Ky)()),Y=(0,a.PH)("[DAFTAR_RUANG] get byid initial",(0,a.Ky)()),X=(0,a.PH)("[DAFTAR_RUANG] get byid success",(0,a.Ky)()),K=(0,a.PH)("[DAFTAR_RUANG] get byid failure",(0,a.Ky)()),Q=(0,a.PH)("[DAFTAR_RUANG] delete initial",(0,a.Ky)()),W=(0,a.PH)("[DAFTAR_RUANG] delete success",(0,a.Ky)()),H=(0,a.PH)("[DAFTAR_RUANG] delete failure",(0,a.Ky)()),nt=(0,a.PH)("[DAFTAR_RUANG] clear data "),tt=(0,a.PH)("[DAFTAR_RUANG] table data");var t=l(5e3),et=l(72620),O=l(50072),V=l(33399);function ot(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().clickBtnAdd()}),t._UZ(1,"i",15),t._uU(2," Tambah Ruang"),t.qZA()}}const st=function(){return["Ruang dan Jadwal"]};let rt=(()=>{class i{constructor(e,n,d,c){this.daftarRuangService=e,this.router=n,this.store=d,this.spinner=c,this.datatableElement=T.G,this.dtOptions={},this.btnDetail=!1,this.btnDelete=!1,this.btnEdit=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1,this.getState=this.store.select("masterData_ruangDanJadwal_daftarRuang")}ngOnInit(){let e=JSON.parse(localStorage.getItem("currentUser"));e=e.menu_right,this.btnAdd=this.btnDelete=this.btnEdit=-1!=e.findIndex(n=>"MGRJDR2"==n.kode),this.btnDetail=this.view=-1!=e.findIndex(n=>"MGRJDR1"==n.kode),this.view||h().fire("Warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"}),this.dtOptions=this.showDataTables(this.btnEdit),this.getState.subscribe(n=>{this.reloadTable=n.reloadTable,!0===this.reloadTable&&this.reLoadData()})}editData(e){this.router.navigate(["master-data","ruang-dan-jadwal","daftar-ruang","edit",e.id_ruang])}clickBtnAdd(){this.router.navigate(["master-data","ruang-dan-jadwal","daftar-ruang","add"])}nonAktif(e){h().fire({title:"Apakah anda yakin akan menghapus data ini ?",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Ya, hapus saja!",cancelButtonText:"Tidak, Batalkan"}).then(n=>{n.value&&(this.spinner.show("spinner1"),this.store.dispatch(Q({payload:{id:e.id_ruang}})),setTimeout(()=>{this.spinner.show("spinner1")},400))})}reLoadData(){this.datatableElement.dtInstance.then(e=>{e.ajax.reload()})}showDataTables(e){return this.spinner.show("spinner1"),{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(n,d)=>{this.daftarRuangService.getDataTables(n).subscribe(c=>{d({draw:c.response.draw,recordsTotal:c.response.recordsTotal,recordsFiltered:c.response.recordsFiltered,data:c.response.data}),this.spinner.hide("spinner1")})},columns:[{orderable:!1,searchable:!1,render:(n,d,c,f)=>f.row+1+f.settings._iDisplayStart},{data:"nama_ruang"},{orderable:!1,searchable:!1,render:(n,d,c,f)=>e?'<button class="btn btn-sm btn-ubah update-data">Edit</button>\n                    <button class="btn nonaktif-data btn-hapus btn-sm">Hapus</button>':""}],rowCallback:(n,d,c)=>{const f=this;return $("td .update-data",n).on("click",()=>{f.editData(d)}),$("td .nonaktif-data",n).on("click",()=>{f.nonAktif(d)}),n}}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(et.d),t.Y36(v.F0),t.Y36(a.yh),t.Y36(O.t2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-view"]],viewQuery:function(e,n){if(1&e&&t.Gf(T.G,5),2&e){let d;t.iGM(d=t.CRH())&&(n.datatableElement=d.first)}},decls:30,vars:8,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button","class","btn btn-tambah btn-lg",3,"click",4,"ngIf"],[1,"card"],[1,"header"],[1,"body"],["width","100%","datatable","",1,"table","table-striped","table-sm","table-striped","table-bordered","table-sm",3,"dtOptions"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-tambah","btn-lg",3,"click"],[1,"fas","fa-plus"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Daftar Ruang"),t.qZA(),t.TgZ(6,"div",5)(7,"div",6),t.YNc(8,ot,3,0,"button",7),t._UZ(9,"br")(10,"br"),t.TgZ(11,"div",8)(12,"div",9)(13,"h2")(14,"strong"),t._uU(15,"Daftar Ruang"),t.qZA()()(),t.TgZ(16,"div",10)(17,"table",11)(18,"thead")(19,"tr")(20,"th"),t._uU(21,"No"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Nama Ruang"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Aksi"),t.qZA()()(),t._UZ(26,"tbody"),t.qZA()()()()()(),t.TgZ(27,"ngx-spinner",12)(28,"p",13),t._uU(29," Loading... "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("title","Master Data")("items",t.DdM(7,st))("active_item","Daftar Ruang"),t.xp6(5),t.Q6J("ngIf",n.btnAdd),t.xp6(9),t.Q6J("dtOptions",n.dtOptions),t.xp6(10),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[V.L,r.O5,T.G,O.Ro],styles:[""]}),i})();var m=l(93075);class C{}var it=l(156);const lt=["selectPoliklinik"];function dt(i,s){1&i&&(t.TgZ(0,"div",36),t._uU(1," Nama ruang tidak boleh kosong "),t.qZA())}function ut(i,s){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id_poliklinik),t.xp6(1),t.Oqu(e.nama_poliklinik)}}function ct(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",38),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().HapusPoliklinikFromDump(c.id_poliklinik)}),t._uU(7,"Hapus"),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.nama_poliklinik)}}function pt(i,s){if(1&i&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.AsE("",e.field," : ",e.message,"")}}function mt(i,s){if(1&i&&(t.TgZ(0,"div",39),t._uU(1),t.YNc(2,pt,3,2,"ul",28),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMessage.metaData.message," "),t.xp6(1),t.Q6J("ngForOf",e.errorMessage.response)}}const ft=function(){return["Ruang dan Jadwal","Daftar Ruang"]},gt=function(){return["../../view"]},ht=function(i,s){return{"fa-spin fa-spinner pulse":i,"fa-check":s}},bt=["selectPoliklinik"];function kt(i,s){1&i&&(t.TgZ(0,"div",36),t._uU(1," Nama ruang tidak boleh kosong "),t.qZA())}function vt(i,s){if(1&i&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e.id_poliklinik),t.xp6(1),t.Oqu(e.nama_poliklinik)}}function Tt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",38),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().HapusPoliklinikFromDump(c.id_poliklinik)}),t._uU(7,"Hapus"),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.nama_poliklinik)}}function At(i,s){if(1&i&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.AsE("",e.field," : ",e.message,"")}}function Rt(i,s){if(1&i&&(t.TgZ(0,"div",39),t._uU(1),t.YNc(2,At,3,2,"ul",28),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMessage.metaData.message," "),t.xp6(1),t.Q6J("ngForOf",e.errorMessage.response)}}const Dt=function(){return["Ruang dan Jadwal","Daftar Ruang"]},yt=function(){return["../view"]},Et=function(i,s){return{"fa-spin fa-spinner pulse":i,"fa-check":s}},Zt=[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:rt},{path:"edit/:id",component:(()=>{class i{constructor(e,n,d,c,f){this.fb=e,this.daftarPoliklinikService=n,this.store=d,this.activatedRoute=c,this.spinner=f,this.submitted=!1,this.listPoliklinik=[],this.dumpPoliklinik=new m.Oe([]),this.daftarRuang=new C,this.getState=this.store.select("masterData_ruangDanJadwal_daftarRuang")}ngOnInit(){this.spinner.show("spinner1"),this.loadPoliklinik(),this.formTambah=this.fb.group({nama_ruang:["",[m.kI.required]]}),this.activatedRoute.params.subscribe(e=>{e&&this.store.dispatch(Y({payload:{id:e.id}}))}),this.getState.subscribe(e=>{this.daftarRuang=e.daftarRuang,this.isEdit=e.isEdit,this.isLoadingButton=e.isLoadingButton,this.errorMessage=e.errorMessage,this.submitButton=e.submitButton,null!=this.daftarRuang&&this.isEdit&&(this.formTambah.patchValue({nama_ruang:this.daftarRuang.nama_ruang}),null!=this.daftarRuang.detail&&(this.daftarRuang.detail.length>0&&this.daftarRuang.detail.forEach(n=>{const d=new m.cw({});d.addControl("id_poliklinik",new m.NI(n.id_poliklinik)),d.addControl("nama_poliklinik",new m.NI(n.nama_poliklinik)),d.addControl("id_ruang_detail",new m.NI("")),this.dumpPoliklinik.push(d)}),this.spinner.hide("spinner1")),this.spinner.hide("spinner1"))})}SubmitForm(){if(this.submitted=!0,this.formTambah.invalid)return;this.spinner.show("spinner1");let e=new C;e.id_klinik=this.daftarRuang.id_klinik,e.id_ruang=this.daftarRuang.id_ruang,e.nama_ruang=this.formTambah.value.nama_ruang,e.detail=this.dumpPoliklinik.value,this.store.dispatch(J({payload:e})),setTimeout(()=>{this.spinner.hide("spinner1")},400)}addDetailRuang(){let e=this.selectPoliklinik.nativeElement.value;if(""!=e){let n=this.listPoliklinik.findIndex((d,c)=>d.id_poliklinik==e);if(n>=0){let d=this.listPoliklinik[n];const c=new m.cw({});this.dumpPoliklinik.value.findIndex((z,Bt)=>z.id_poliklinik==d.id_poliklinik)>=0?alert("Sepertinya anda sudah menambahkan data ini"):(c.addControl("id_poliklinik",new m.NI(d.id_poliklinik)),c.addControl("nama_poliklinik",new m.NI(d.nama_poliklinik)),c.addControl("id_ruang_detail",new m.NI("")),this.dumpPoliklinik.push(c))}}}HapusPoliklinikFromDump(e){let n=this.dumpPoliklinik.value.findIndex((d,c)=>d.id_poliklinik==e);n>=0&&this.dumpPoliklinik.removeAt(n)}loadPoliklinik(){this.daftarPoliklinikService.getByAkunKlinik().subscribe(e=>{this.listPoliklinik=e.response,this.spinner.hide("spinner1")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.qu),t.Y36(it.r),t.Y36(a.yh),t.Y36(v.gz),t.Y36(O.t2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit"]],viewQuery:function(e,n){if(1&e&&t.Gf(lt,5),2&e){let d;t.iGM(d=t.CRH())&&(n.selectPoliklinik=d.first)}},decls:60,vars:20,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-kembali","btn-lg",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"card"],[3,"formGroup","submit"],[1,"header"],[1,"body"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-9"],["type","text","placeholder","Nama Ruang","formControlName","nama_ruang",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"col-sm-7"],[1,"form-select"],["selectPoliklinik",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2"],["type","button",1,"btn","btn-simpan",3,"click"],[1,"fa","fa-plus"],[1,"m-3","row"],[1,"table","table-striped","table-bordered","table-sm"],[4,"ngFor","ngForOf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"footer"],[1,"text-center","mb-3"],["type","submit","color","primary",1,"btn","btn-simpan","btn-lg",3,"disabled"],[1,"fa",3,"ngClass"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[1,"form-text","text-danger"],[3,"value"],["type","button",1,"btn","btn-hapus","btn-sm",3,"click"],["role","alert",1,"alert","alert-danger"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Edit Ruang"),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"button",7),t._UZ(9,"i",8),t._uU(10," Kembali"),t.qZA(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"div",9)(14,"form",10),t.NdJ("submit",function(){return n.SubmitForm()}),t.TgZ(15,"div",11)(16,"h2")(17,"strong"),t._uU(18,"Edit Ruang"),t.qZA()()(),t.TgZ(19,"div",12)(20,"div",13)(21,"label",14),t._uU(22,"Nama Ruang *"),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",16),t.YNc(25,dt,2,0,"div",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28,"Poliklinik"),t.qZA(),t.TgZ(29,"div",18)(30,"select",19,20)(32,"option",21),t._uU(33,"Pilih Poliklinik"),t.qZA(),t.YNc(34,ut,2,2,"option",22),t.qZA()(),t.TgZ(35,"div",23)(36,"button",24),t.NdJ("click",function(){return n.addDetailRuang()}),t._UZ(37,"i",25),t._uU(38," Tambah"),t.qZA()()(),t.TgZ(39,"div",26)(40,"table",27)(41,"thead")(42,"tr")(43,"th"),t._uU(44,"No"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Nama Poliklinik"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Aksi"),t.qZA()()(),t.TgZ(49,"tbody"),t.YNc(50,ct,8,2,"tr",28),t.qZA()()(),t.YNc(51,mt,3,2,"div",29),t.qZA(),t.TgZ(52,"div",30)(53,"div",31)(54,"button",32),t._UZ(55,"i",33),t._uU(56," Simpan "),t.qZA()()()()()()()(),t.TgZ(57,"ngx-spinner",34)(58,"p",35),t._uU(59," Loading... "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("title","Master Data")("items",t.DdM(15,ft))("active_item","Edit Ruang"),t.xp6(5),t.Q6J("routerLink",t.DdM(16,gt)),t.xp6(6),t.Q6J("formGroup",n.formTambah),t.xp6(10),t.ekj("border-danger",n.formTambah.controls.nama_ruang.hasError("required")&&n.submitted),t.xp6(1),t.Q6J("ngIf",n.formTambah.controls.nama_ruang.hasError("required")&&n.submitted),t.xp6(9),t.Q6J("ngForOf",n.listPoliklinik),t.xp6(16),t.Q6J("ngForOf",n.dumpPoliklinik.value),t.xp6(1),t.Q6J("ngIf",null!=n.errorMessage),t.xp6(3),t.Q6J("disabled",n.isLoadingButton),t.xp6(1),t.Q6J("ngClass",t.WLB(17,ht,n.isLoadingButton,!n.isLoadingButton)),t.xp6(2),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[V.L,v.rH,m._Y,m.JL,m.sg,m.Fj,m.JJ,m.u,r.O5,m.YN,m.Kr,r.sg,r.mk,O.Ro],styles:[""]}),i})()},{path:"add",component:(()=>{class i{constructor(e,n,d,c){this.fb=e,this.daftarPoliklinikService=n,this.store=d,this.spinner=c,this.listPoliklinik=[],this.dumpPoliklinik=new m.Oe([]),this.submitted=!1,this.daftarRuang=new C,this.getState=this.store.select("masterData_ruangDanJadwal_daftarRuang")}ngOnInit(){this.spinner.show("spinner1"),this.loadPoliklinik(),this.formTambah=this.fb.group({nama_ruang:["",[]]}),this.getState.subscribe(e=>{this.daftarRuang=e.daftarRuang,this.errorMessage=e.errorMessage,this.submitButton=e.submitButton,this.isLoadingButton=e.isLoadingButton})}SubmitForm(){if(this.submitted=!0,this.formTambah.invalid)return;this.spinner.show("spinner1");let e=new C;e.nama_ruang=this.formTambah.value.nama_ruang,e.detail=this.dumpPoliklinik.value,this.store.dispatch(N({payload:e})),setTimeout(()=>{this.spinner.hide("spinner1")},400)}addDetailRuang(){let e=this.selectPoliklinik.nativeElement.value;if(""!=e){let n=this.listPoliklinik.findIndex((d,c)=>d.id_poliklinik==e);if(n>=0){let d=this.listPoliklinik[n];const c=new m.cw({});this.dumpPoliklinik.value.findIndex((z,Bt)=>z.id_poliklinik==d.id_poliklinik)>=0?alert("Sepertinya anda sudah menambahkan data ini"):(c.addControl("id_poliklinik",new m.NI(d.id_poliklinik)),c.addControl("nama_poliklinik",new m.NI(d.nama_poliklinik)),this.dumpPoliklinik.push(c))}}}HapusPoliklinikFromDump(e){let n=this.dumpPoliklinik.value.findIndex((d,c)=>d.id_poliklinik==e);n>=0&&this.dumpPoliklinik.removeAt(n)}loadPoliklinik(){this.daftarPoliklinikService.getByAkunKlinik().subscribe(e=>{this.listPoliklinik=e.response,this.spinner.hide("spinner1")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.qu),t.Y36(it.r),t.Y36(a.yh),t.Y36(O.t2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add"]],viewQuery:function(e,n){if(1&e&&t.Gf(bt,5),2&e){let d;t.iGM(d=t.CRH())&&(n.selectPoliklinik=d.first)}},decls:60,vars:20,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-kembali","btn-lg",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"card"],[3,"formGroup","submit"],[1,"header"],[1,"body"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-9"],["type","text","placeholder","Nama Ruang","formControlName","nama_ruang",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"col-sm-7"],[1,"form-select"],["selectPoliklinik",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2"],["type","button",1,"btn","btn-simpan",3,"click"],[1,"fa","fa-plus"],[1,"m-3","row"],[1,"table","table-striped","table-bordered","table-sm"],[4,"ngFor","ngForOf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"footer"],[1,"text-center","mb-3"],["type","submit","color","primary",1,"btn","btn-simpan","btn-lg",3,"disabled"],[1,"fa",3,"ngClass"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[1,"form-text","text-danger"],[3,"value"],["type","button",1,"btn","btn-hapus","btn-sm",3,"click"],["role","alert",1,"alert","alert-danger"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Tambah Ruang"),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"button",7),t._UZ(9,"i",8),t._uU(10," Kembali"),t.qZA(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"div",9)(14,"form",10),t.NdJ("submit",function(){return n.SubmitForm()}),t.TgZ(15,"div",11)(16,"h2")(17,"strong"),t._uU(18,"Tambah Ruang"),t.qZA()()(),t.TgZ(19,"div",12)(20,"div",13)(21,"label",14),t._uU(22,"Nama Ruang *"),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",16),t.YNc(25,kt,2,0,"div",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28,"Poliklinik"),t.qZA(),t.TgZ(29,"div",18)(30,"select",19,20)(32,"option",21),t._uU(33,"Pilih Poliklinik"),t.qZA(),t.YNc(34,vt,2,2,"option",22),t.qZA()(),t.TgZ(35,"div",23)(36,"button",24),t.NdJ("click",function(){return n.addDetailRuang()}),t._UZ(37,"i",25),t._uU(38," Tambah"),t.qZA()()(),t.TgZ(39,"div",26)(40,"table",27)(41,"thead")(42,"tr")(43,"th"),t._uU(44,"No"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Nama Poliklinik"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Aksi"),t.qZA()()(),t.TgZ(49,"tbody"),t.YNc(50,Tt,8,2,"tr",28),t.qZA()()(),t.YNc(51,Rt,3,2,"div",29),t.qZA(),t.TgZ(52,"div",30)(53,"div",31)(54,"button",32),t._UZ(55,"i",33),t._uU(56," Simpan "),t.qZA()()()()()()()(),t.TgZ(57,"ngx-spinner",34)(58,"p",35),t._uU(59," Loading... "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("title","Master Data")("items",t.DdM(15,Dt))("active_item","Tambah Ruang"),t.xp6(5),t.Q6J("routerLink",t.DdM(16,yt)),t.xp6(6),t.Q6J("formGroup",n.formTambah),t.xp6(10),t.ekj("border-danger",n.formTambah.controls.nama_ruang.hasError("required")&&n.submitted),t.xp6(1),t.Q6J("ngIf",n.formTambah.controls.nama_ruang.hasError("required")&&n.submitted),t.xp6(9),t.Q6J("ngForOf",n.listPoliklinik),t.xp6(16),t.Q6J("ngForOf",n.dumpPoliklinik.value),t.xp6(1),t.Q6J("ngIf",null!=n.errorMessage),t.xp6(3),t.Q6J("disabled",n.isLoadingButton),t.xp6(1),t.Q6J("ngClass",t.WLB(17,Et,n.isLoadingButton,!n.isLoadingButton)),t.xp6(2),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[V.L,v.rH,m._Y,m.JL,m.sg,m.Fj,m.JJ,m.u,r.O5,m.YN,m.Kr,r.sg,r.mk,O.Ro],styles:[""]}),i})()}];let Ut=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[v.Bz.forChild(Zt)],v.Bz]}),i})();var Pt=l(60795),_=l(36642),Ot=l(16270),M=l(63900),w=l(54004),x=l(70262),at=l(18505),L=l(39646);let Ct=(()=>{class i{constructor(e,n,d){this.actions$=e,this.daftarRuangService=n,this.router=d,this.urlBacktoView=["master-data","ruang-dan-jadwal","daftar-ruang","view"],this.Toast=h().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:c=>{c.addEventListener("mouseenter",h().stopTimer),c.addEventListener("mouseleave",h().resumeTimer)}}),this.addInitial$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(N),(0,M.w)(c=>this.daftarRuangService.insert(c.payload).pipe((0,w.U)(f=>S({payload:f.response})),(0,x.K)(f=>(0,L.of)(G({message:f}))))))),this.addSuccess$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(S),(0,at.b)(c=>{h().fire({title:"Data berhasil disimpan",icon:"success",showCancelButton:!1,allowOutsideClick:!1,confirmButtonText:"Ya, lanjutkan!"}).then(f=>{this.router.navigate(this.urlBacktoView)})})),{dispatch:!1}),this.addFailure$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(G)),{dispatch:!1}),this.updateInitial$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(J),(0,M.w)(c=>this.daftarRuangService.update(c.payload.id_ruang,c.payload).pipe((0,w.U)(f=>j({payload:f.response})),(0,x.K)(f=>(0,L.of)(q({message:f}))))))),this.updateSuccess$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(j),(0,at.b)(c=>{h().fire({title:"Data berhasil disimpan",icon:"success",showCancelButton:!1,allowOutsideClick:!1,confirmButtonText:"Ya, lanjutkan!"}).then(f=>{this.router.navigate(this.urlBacktoView)})})),{dispatch:!1}),this.updateFailure$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(q)),{dispatch:!1}),this.getByIdInitial$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(Y),(0,M.w)(c=>this.daftarRuangService.show(c.payload.id).pipe((0,w.U)(f=>X({payload:f.response})),(0,x.K)(f=>(0,L.of)(K({message:f}))))))),this.getByIdFailure$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(K)),{dispatch:!1}),this.deleteInitial$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(Q),(0,M.w)(c=>this.daftarRuangService.delete(c.payload.id).pipe((0,w.U)(f=>W({payload:f.response})),(0,x.K)(f=>(0,L.of)(H({message:f}))))))),this.deleteSuccess$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(W),(0,w.U)(c=>(this.Toast.fire({icon:"success",title:"Data berhasil dihapus"}),tt())))),this.deleteFailure$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(H)),{dispatch:!1})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(_.eX),t.LFG(et.d),t.LFG(v.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();const Mt=(0,a.Lq)({daftarRuang:null,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1},(0,a.on)(N,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!0,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,a.on)(S,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,daftarRuang:s.payload})),(0,a.on)(G,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:s.message,isEdit:!1,reloadTable:!1})),(0,a.on)(J,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!0,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,a.on)(j,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,daftarRuang:s.payload})),(0,a.on)(q,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:s.message,isEdit:!1,reloadTable:!1})),(0,a.on)(Y,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:null,isEdit:!1,daftarRuang:new C})),(0,a.on)(X,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:null,isEdit:!0,daftarRuang:s.payload,reloadTable:!1})),(0,a.on)(K,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:s.message,isEdit:!1,reloadTable:!1})),(0,a.on)(Q,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:null,isEdit:!1,reloadTable:!1,daftarRuang:new C})),(0,a.on)(W,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:null,isEdit:!1,reloadTable:!0})),(0,a.on)(H,(i,s)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:s.message,isEdit:!1,reloadTable:!1})),(0,a.on)(tt,(i,s)=>Object.assign(Object.assign({},i),{reloadTable:!0})),(0,a.on)(nt,(i,s)=>Object.assign(Object.assign({},i),{daftarRuang:new C,errorMessage:null,isEdit:!1,reloadTable:!1,isLoadingButton:!1})));function xt(i,s){return Mt(i,s)}let Lt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[r.ez,Ut,m.UX,Pt.K,T.T,O.ef,m.u5,a.Aw.forFeature("masterData_ruangDanJadwal_daftarRuang",xt),_.sQ.forFeature([Ct]),Ot.z]]}),i})()},76334:(U,A,l)=>{l.d(A,{m:()=>T});var r=l(5e3),v=l(95305);let T=(()=>{class b{constructor(a){this.authService=a}getUrlModule(a){return this.authService.currentUserValue.repo.find(u=>u.key_repo==a).url_repo}list24Hours(a=60,p="05:00"){let o=this.generateHoursInterval(0,1440,a),u=o.findIndex(R=>R==p),g=o.slice(u,o.length-1),k=o.slice(0,u);return g.concat(k)}generateHoursInterval(a,p,o){const u=[];for(let R=0;a<1440&&!(a>p);R++){var g=Math.floor(a/60),k=a%60;u[R]=("0"+g%24).slice(-2)+":"+("0"+k).slice(-2),a+=o}return u}}return b.\u0275fac=function(a){return new(a||b)(r.LFG(v.e))},b.\u0275prov=r.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},72620:(U,A,l)=>{l.d(A,{d:()=>h});var r=l(89955),v=l(5e3),T=l(76334),b=l(40520);let h=(()=>{class a{constructor(o,u){this.generalService=o,this.http=u,this.urlBaseName="data-ruang",this.URL_MODULE=this.generalService.getUrlModule(r.s.url_module.master)}getDataTables(o){return this.http.post(this.URL_MODULE+"/"+this.urlBaseName+"/get-datatables",o)}getAll(){return this.http.get(this.URL_MODULE+"/"+this.urlBaseName+"/get-all")}insert(o){return this.http.post(this.URL_MODULE+"/"+this.urlBaseName,o)}update(o,u){return this.http.put(this.URL_MODULE+"/"+this.urlBaseName+"/"+o,u)}show(o){return this.http.get(this.URL_MODULE+"/"+this.urlBaseName+"/get-byid/"+o)}delete(o){return this.http.delete(this.URL_MODULE+"/"+this.urlBaseName+"/"+o)}getSelectOption(o){return this.http.post(this.URL_MODULE+"/"+this.urlBaseName+"/get-select-option",o)}prosesSelectDaftarRuang(o,u){return"open"==u?(o.search="",o.get_data=10):"last_page"==u?o.get_data=o.get_data+10:"search"==u&&(o.get_data=10),this.getSelectOption(o)}}return a.\u0275fac=function(o){return new(o||a)(v.LFG(T.m),v.LFG(b.eN))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},16270:(U,A,l)=>{l.d(A,{z:()=>T});var r=l(69808),v=l(5e3);let T=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=v.oAB({type:b}),b.\u0275inj=v.cJS({imports:[[r.ez]]}),b})()},33399:(U,A,l)=>{l.d(A,{L:()=>a});var r=l(5e3),v=l(23007),T=l(66541),b=l(69808);function h(p,o){if(1&p&&(r.TgZ(0,"li",9),r._uU(1),r.qZA()),2&p){const u=o.$implicit;r.xp6(1),r.Oqu(u)}}let a=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275cmp=r.Xpm({type:p,selectors:[["app-breadcrumb"]],inputs:{title:"title",items:"items",active_item:"active_item"},decls:12,vars:4,consts:[[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[3,"routerLink"],["name","home",1,"breadcrumb-icon"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"]],template:function(u,g){1&u&&(r.TgZ(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"h4",3),r._uU(5),r.qZA()(),r.TgZ(6,"li",4)(7,"a",5),r._UZ(8,"i-feather",6),r.qZA()(),r.YNc(9,h,2,1,"li",7),r.TgZ(10,"li",8),r._uU(11),r.qZA()()()()),2&u&&(r.xp6(5),r.Oqu(g.title),r.xp6(2),r.Q6J("routerLink","/admin/welcome"),r.xp6(2),r.Q6J("ngForOf",g.items),r.xp6(2),r.Oqu(g.active_item))},directives:[v.yS,T.uy,b.sg],styles:[""]}),p})()},60795:(U,A,l)=>{l.d(A,{K:()=>b});var r=l(32471),v=l(65415),T=l(5e3);let b=(()=>{class h{}return h.\u0275fac=function(p){return new(p||h)},h.\u0275mod=T.oAB({type:h}),h.\u0275inj=T.cJS({imports:[[r.m,v.T]]}),h})()},65415:(U,A,l)=>{l.d(A,{G:()=>T,T:()=>h});var r=l(5e3),T=function(){function a(p,o,u){this.el=p,this.vcr=o,this.renderer=u,this.dtOptions={}}return a.prototype.ngOnInit=function(){var p=this;this.dtTrigger?this.dtTrigger.subscribe(function(o){p.displayTable(o)}):this.displayTable(null)},a.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},a.prototype.displayTable=function(p){var o=this;p&&(this.dtOptions=p),this.dtInstance=new Promise(function(u,g){Promise.resolve(o.dtOptions).then(function(k){0===Object.keys(k).length&&0===$("tbody tr",o.el.nativeElement).length?g("Both the table and dtOptions cannot be empty"):setTimeout(function(){var y={rowCallback:function(E,D,P){if(k.columns){var Z=k.columns;o.applyNgPipeTransform(E,Z),o.applyNgRefTemplate(E,Z,D)}k.rowCallback&&k.rowCallback(E,D,P)}};y=Object.assign({},k,y),o.dt=$(o.el.nativeElement).DataTable(y),u(o.dt)})})})},a.prototype.applyNgPipeTransform=function(p,o){o.filter(function(g){return g.ngPipeInstance&&!g.ngTemplateRef}).forEach(function(g){var k=g.ngPipeInstance,R=g.ngPipeArgs||[],y=o.findIndex(function(Z){return Z.data===g.data}),E=p.childNodes.item(y),D=$(E).text(),P=k.transform.apply(k,function(a,p,o){if(o||2===arguments.length)for(var k,u=0,g=p.length;u<g;u++)(k||!(u in p))&&(k||(k=Array.prototype.slice.call(p,0,u)),k[u]=p[u]);return a.concat(k||Array.prototype.slice.call(p))}([D],R,!1));$(E).text(P)})},a.prototype.applyNgRefTemplate=function(p,o,u){var g=this;o.filter(function(R){return R.ngTemplateRef&&!R.ngPipeInstance}).forEach(function(R){var y=R.ngTemplateRef,E=y.ref,D=y.context,P=o.findIndex(function(F){return F.data===R.data}),Z=p.childNodes.item(P);$(Z).html("");var B=Object.assign({},D,null==D?void 0:D.userData,{adtData:u}),I=g.vcr.createEmbeddedView(E,B);g.renderer.appendChild(Z,I.rootNodes[0])})},a.\u0275fac=function(o){return new(o||a)(r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(r.Qsj))},a.\u0275dir=r.lG2({type:a,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),a}(),b=l(69808),h=function(){function a(){}return a.forRoot=function(){return{ngModule:a}},a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=r.oAB({type:a}),a.\u0275inj=r.cJS({imports:[[b.ez]]}),a}()}}]);