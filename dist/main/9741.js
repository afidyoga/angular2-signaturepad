"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[9741],{86307:(D,_,l)=>{l.d(_,{m:()=>f});var p=l(5e3),b=l(95305);let f=(()=>{class c{constructor(m){this.authService=m}getUrlModule(m){return this.authService.currentUserValue.repo.find(k=>k.key_repo==m).url_repo}}return c.\u0275fac=function(m){return new(m||c)(p.LFG(b.e))},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},49741:(D,_,l)=>{l.r(_),l.d(_,{DefektaModule:()=>Je});var p=l(69808),b=l(15861),f=l(2454),c=l.n(f);class d{}var u=l(65415),o=l(65620);const j=(0,o.PH)("[OBAT] add initial",(0,o.Ky)()),B=(0,o.PH)("[OBAT] add success",(0,o.Ky)()),I=(0,o.PH)("[OBAT] add failure ",(0,o.Ky)()),M=(0,o.PH)("[OBAT] update initial",(0,o.Ky)()),L=(0,o.PH)("[OBAT] update success",(0,o.Ky)()),U=(0,o.PH)("[OBAT] update failure",(0,o.Ky)()),H=(0,o.PH)("[OBAT] get byid initial",(0,o.Ky)()),R=(0,o.PH)("[OBAT] get byid success",(0,o.Ky)()),N=(0,o.PH)("[OBAT] get byid failure",(0,o.Ky)()),Q=(0,o.PH)("[OBAT] delete initial",(0,o.Ky)()),P=(0,o.PH)("[OBAT] delete success",(0,o.Ky)()),F=(0,o.PH)("[OBAT] delete failure",(0,o.Ky)()),de=(0,o.PH)("[OBAT] clear data "),w=(0,o.PH)("[OBAT] table data");var J=l(8202),e=l(5e3),v=l(93075),ce=l(88544),ue=l(44151),he=l(51531),Y=l(50072),pe=l(89955),fe=l(86307),me=l(40520);let z=(()=>{class s{constructor(t,a){this.generalService=t,this.http=a,this.urlBase="defekta-obat",this.urlModule=this.generalService.getUrlModule(pe.s.url_module.gudangTransaksi)}show(t){return this.http.get(this.urlModule+"/"+this.urlBase+"/get-byid/"+t)}listDatatables(t){return this.http.post(this.urlModule+"/"+this.urlBase+"/get-datatables",t)}add(t){return this.http.post(this.urlModule+"/"+this.urlBase+"/create",t)}update(t){return this.http.put(this.urlModule+"/"+this.urlBase+"/update-belum-order",t)}delete(t){return this.http.delete(this.urlModule+"/"+this.urlBase+"/delete/"+t)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(fe.m),e.LFG(me.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var ge=l(60269),G=l(23007),_e=l(33399),be=l(51693),K=l(24376),x=l(41777);const W="400ms cubic-bezier(0.4,0.0,0.2,1)",ve=[(0,x.oB)({height:0,visibility:"hidden"}),(0,x.jt)(W,(0,x.oB)({height:"*",visibility:"visible"}))],ke=[(0,x.oB)({height:"*",visibility:"visible"}),(0,x.jt)(W,(0,x.oB)({height:0,visibility:"hidden"}))];let ye=(()=>{class s{constructor(t,a,i){this._el=t,this._renderer=a,this.collapsed=new e.vpe,this.collapses=new e.vpe,this.expanded=new e.vpe,this.expands=new e.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=i.build(ke),this._factoryExpandAnimation=i.build(ve)}set display(t){this._display=t,"none"!==t?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(t){this.collapseNewValue=t,(!this._player||this._isAnimationDone)&&(this.isExpanded=t,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(t,a){if(!t||!this._stylesLoaded)return n=>n();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const i=a===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.destroy(),this._player=i.create(this._el.nativeElement),this._player.play(),n=>{var g;return null===(g=this._player)||void 0===g?void 0:g.onDone(n)}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(x._j))},s.\u0275dir=e.lG2({type:s,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(t,a){2&t&&(e.uIk("aria-hidden",a.isCollapsed),e.ekj("collapse",a.isCollapse)("in",a.isExpanded)("show",a.isExpanded)("collapsing",a.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),s})(),Ce=(()=>{class s{static forRoot(){return{ngModule:s,providers:[]}}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({}),s})();function Te(s,r){if(1&s&&(e.TgZ(0,"ng-option",26),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.Q6J("value",t.id_supplier),e.xp6(1),e.Oqu(t.nama_supplier)}}function xe(s,r){1&s&&(e.TgZ(0,"div",27),e._uU(1," PBF/Suplier tidak boleh kosong "),e.qZA())}function Ae(s,r){1&s&&(e.TgZ(0,"div",27),e._uU(1," Jumlah dan satuan tidak boleh kosong "),e.qZA())}function De(s,r){if(1&s&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&s){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" Stok tida cukup, jumlah tidak boleh lebih dari ",t.stok," ")}}function Me(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",42)(1,"label",34),e._uU(2,"Jumlah"),e.qZA(),e.TgZ(3,"div",43)(4,"input",44),e.NdJ("keypress",function(i){return e.CHM(t),e.oxw(2).isNumber(i)})("ngModelChange",function(i){e.CHM(t);const n=e.oxw().index;return e.oxw().jumlah[n]=i}),e.qZA(),e.TgZ(5,"ng-select",45),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw().index;return e.oxw().satuan[n]=i}),e.qZA()(),e.TgZ(6,"div",46),e.YNc(7,Ae,2,0,"div",19),e.YNc(8,De,2,1,"div",19),e.qZA()()}if(2&s){const t=e.oxw(),a=t.index,i=t.$implicit,n=e.oxw();e.xp6(4),e.Q6J("ngModel",n.jumlah[a])("max",i.stok),e.xp6(1),e.Q6J("ngModel",n.satuan[a])("virtualScroll",!0)("items",n.optionKemasan[a].obat_kemasan)("searchable",!0)("clearable",!0),e.xp6(2),e.Q6J("ngIf",(null==n.jumlah[a]||n.jumlah[a]<=0||""==n.satuan[a])&&n.submitted),e.xp6(1),e.Q6J("ngIf",n.jumlah[a]>i.stok&&n.submitted)}}function we(s,r){1&s&&(e.TgZ(0,"div",47),e._uU(1," Harga beli tidak boleh kosong "),e.qZA())}function Oe(s,r){1&s&&(e.TgZ(0,"div",27),e._uU(1," Diskon tidak boleh kosong "),e.qZA())}function Se(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"div",28),e.NdJ("click",function(){const n=e.CHM(t).index;return e.oxw().showCollapse(n)}),e.TgZ(2,"h4",29)(3,"b"),e._uU(4),e.qZA()(),e.TgZ(5,"span",30),e._UZ(6,"i"),e.qZA()(),e.TgZ(7,"div",31),e.YNc(8,Me,9,9,"div",32),e.TgZ(9,"div",33)(10,"label",34),e._uU(11,"Harga beli"),e.qZA(),e.TgZ(12,"input",35),e.NdJ("keypress",function(i){return e.CHM(t),e.oxw().isNumber(i)})("ngModelChange",function(i){const g=e.CHM(t).index;return e.oxw().harga[g]=i}),e.qZA(),e.YNc(13,we,2,0,"div",36),e.qZA(),e.TgZ(14,"div",33)(15,"label",34),e._uU(16,"Diskon"),e.qZA(),e.TgZ(17,"div",37)(18,"input",38),e.NdJ("keypress",function(i){return e.CHM(t),e.oxw().isNumber(i)})("ngModelChange",function(i){const g=e.CHM(t).index;return e.oxw().diskon[g]=i}),e.qZA(),e.TgZ(19,"select",39),e.NdJ("ngModelChange",function(i){const g=e.CHM(t).index;return e.oxw().jenis_diskon[g]=i}),e.TgZ(20,"option",40),e._uU(21,"%"),e.qZA(),e.TgZ(22,"option",41),e._uU(23,"Rp"),e.qZA()()(),e.YNc(24,Oe,2,0,"div",19),e.qZA()()()}if(2&s){const t=r.$implicit,a=r.index,i=e.oxw();e.xp6(4),e.hij(" ",t.nama_obat,""),e.xp6(2),e.Tol(i.isCollapsed[a]?"fa fa-chevron-down":"fa fa-chevron-up"),e.xp6(1),e.Q6J("collapse",i.isCollapsed[a])("isAnimated",!0),e.xp6(1),e.Q6J("ngIf",null!=i.optionKemasan[a]),e.xp6(4),e.Q6J("options",i.optionsCur)("ngModel",i.harga[a]),e.xp6(1),e.Q6J("ngIf",null==i.harga[a]&&i.submitted),e.xp6(5),e.Q6J("ngModel",i.diskon[a]),e.xp6(1),e.Q6J("ngModel",i.jenis_diskon[a]),e.xp6(5),e.Q6J("ngIf",(null==i.diskon[a]||null==i.jenis_diskon[a])&&i.submitted)}}const Ee=function(){return["Defekta Obat"]};let V=(()=>{class s{constructor(t,a,i,n,g,y,Ye,$e,Ge){this.fb=t,this.validate=a,this.modalService=i,this.ModulObatService=n,this.spinner=g,this.store=y,this.ModulDefektaObatService=Ye,this.modulSupplierService=$e,this.router=Ge,this.dataChecked=[],this.btnAction=!1,this.submitted=!1,this.arrData=[{title:"Amoxin 500 mg"},{title:"Amoxin 500 mg"}],this.datatableElement=u.G,this.optionsCur={align:"left",allowNegative:!0,allowZero:!0,decimal:",",precision:2,prefix:"Rp ",suffix:"",thousands:".",nullable:!0,min:null,max:null,inputMode:J.fF.NATURAL},this.jumlah=[],this.pbf=null,this.satuan=[],this.diskon=[],this.jenis_diskon=[],this.harga=[],this.optionKemasan=[],this.optionPbf=[],this.dtOptions={},this.dataBarang=new d,this.checked=!1,this.defaultData=[],this.params_get={last_data:"0",get_data:"10",search:""},this.params={last_data:"0",get_data:"10",search:""},this.btnDetail=!1,this.btnDelete=!1,this.btnEdit=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1,this.isCollapsed=[]}ngOnInit(){this.spinner.show("spinner1");let t=JSON.parse(localStorage.getItem("currentUser"));t=t.menu_right,this.btnDetail=this.view=-1!=t.findIndex(a=>"IVDFOB1"==a.kode),this.view||c().fire("Warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"}),this.getState=this.store.select("defekta_obat"),this.dtOptions=this.showDataTables(),this.getState.subscribe(a=>{null!=a&&(this.reloadTable=a.reloadTable,!0===this.reloadTable&&this.reLoadData())}),setTimeout(()=>{this.spinner.hide("spinner1")},400)}prosesSelectPBF(t,a){if("search"==a?(this.optionPbf=[],this.params_get.search=t.term,this.params_get.last_data="0"):this.params_get.search="","last_page"==a){let i=parseInt(this.params_get.last_data)+parseInt(this.params_get.get_data);this.params_get.last_data=i.toString()}else this.params_get.last_data="0";this.modulSupplierService.get(this.params).subscribe(i=>{i&&(0==this.optionPbf.length?this.optionPbf=i.response:i.response.map(n=>{this.optionPbf.findIndex(y=>y.id_supplier==n.id_supplier)<0&&this.optionPbf.push(n)}))})}reLoadData(){this.datatableElement.dtInstance.then(t=>{t.ajax.reload()})}isNumber(t){return this.validate.Number(t)}showDataTables(){return{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(t,a)=>{this.ModulDefektaObatService.listDatatables(t).subscribe(i=>{this.defaultData=i.response.data,a({draw:i.response.draw,recordsTotal:i.response.recordsTotal,recordsFiltered:i.response.recordsFiltered,data:i.response.data})})},columns:[{orderable:!1,searchable:!1,render:(t,a,i,n)=>'<input type="checkbox" name="checkbox'+(n.row+1+n.settings._iDisplayStar)+'" class="checkbox option-checkbox mr-2" />'},{orderable:!1,searchable:!1,render:(t,a,i,n)=>n.row+1+n.settings._iDisplayStart},{data:"nama_obat"},{data:"status_beli_defekta",render:(t,a,i,n)=>null==t||"belum"==t?"Belum":'<i class="fas fa-check-circle text-success"></i> Sudah <a href="javascript:void(0);" class="text-warning ubah btn-link"><i class="fas fa-pen"></i></a>'},{data:"stok"},{data:"stok",render:(t,a,i,n)=>0},{data:"stok",render:(t,a,i,n)=>0},{data:"stok",render:(t,a,i,n)=>0}],rowCallback:(t,a,i)=>{const n=this;return $("td .option-checkbox",t).on("click",()=>{n.checkBoxClick(a)}),$("td .ubah",t).on("click",()=>{n.ubah(a)}),t}}}checkedAll(t){t.target.checked?(this.dataChecked=this.defaultData,$("td .option-checkbox").prop("checked",!0)):(this.dataChecked=[],$("td .option-checkbox").prop("checked",!1))}checkBoxClick(t){const a=this.dataChecked.findIndex(i=>i===t);$("input[name='all']").prop("checked",!1),-1==a?this.dataChecked.push(t):this.dataChecked.splice(a,1),this.btnAction=this.dataChecked.length>0}ubah(t){c().fire({title:"Apa anda yakin?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, lanjutkan!"}).then(a=>{a&&(this.spinner.show("spinner1"),this.store.dispatch(M({payload:{obat:[{id_obat:t.id_obat}]}})),setTimeout(()=>{this.spinner.hide("spinner1")},400),this.reLoadData(),this.dtOptions=this.showDataTables())})}open(t){this.modalService.open(t)}modalClose(t){this.modalService.close(t)}blmDiperiksa(){this.dataChecked.length<=0?c().fire("Warning","Please checked option","warning"):c().fire({title:"Apa anda yakin?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, lanjutkan!"}).then(t=>{if(t.isConfirmed){this.spinner.show("spinner1");let a={obat:[]};this.dataChecked.forEach(i=>{a.obat.push({id_obat:i.id_obat})}),this.store.dispatch(M({payload:a})),setTimeout(()=>{this.spinner.hide("spinner1")},400),this.reLoadData(),this.dtOptions=this.showDataTables(),this.dataChecked=[],$("td .option-checkbox").prop("checked",!1)}})}simpan(){this.submitted=!1,setTimeout(()=>{this.submitted=!0},400);let t=this.getValue();null!=t&&(this.store.dispatch(j({payload:t})),this.dtOptions=this.showDataTables(),this.reLoadData(),$("td .option-checkbox").prop("checked",!1),this.dataChecked=[],this.modalClose("sudahOrder"))}getValue(){let t=!1,a={id_supplier:this.pbf,obat:[]};return null==this.pbf&&(t=!0),this.dataChecked.map((i,n)=>{null==this.jumlah[n]||this.jumlah[n]<=0||""==this.satuan[n]||null==this.harga[n]||null==this.diskon[n]||null==this.jenis_diskon[n]?t=!0:a.obat.push({id_obat:i.id_obat,satuan:this.satuan[n],satuan_qty:this.jumlah[n],satuan_harga:this.harga[n],jenis_diskon:this.jenis_diskon[n],diskon_value:this.diskon[n]})}),t?null:a}showCollapse(t){this.isCollapsed[t]=!this.isCollapsed[t]}sdhDiperiksa(){var t=this;return(0,b.Z)(function*(){t.dataChecked.length<=0?c().fire("Warning","Please checked option","warning"):(t.spinner.show("spinner1"),t.jenis_diskon=[],t.diskon=[],t.jumlah=[],t.pbf=null,t.isCollapsed=[],yield t.dataChecked.map(function(){var a=(0,b.Z)(function*(i,n){yield t.ModulObatService.show(i.id_obat).subscribe(g=>{t.harga.push(g.response.harga_pokok),t.optionKemasan[n]=g.response,t.satuan.push(i.kemasan_terkecil_singkatan),t.diskon.push("0"),t.isCollapsed.push(0!=t.isCollapsed.length),t.jumlah.push(0),t.jenis_diskon.push("persen")})});return function(i,n){return a.apply(this,arguments)}}()),setTimeout(()=>{t.spinner.hide("spinner1"),t.open("sudahOrder")},200*t.dataChecked.length))})()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.qu),e.Y36(ce.p),e.Y36(ue.Z),e.Y36(he.g),e.Y36(Y.t2),e.Y36(o.yh),e.Y36(z),e.Y36(ge.O),e.Y36(G.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-defekta"]],viewQuery:function(t,a){if(1&t&&e.Gf(u.G,5),2&t){let i;e.iGM(i=e.CRH())&&(a.datatableElement=i.first)}},decls:55,vars:13,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-tambah","btn-lg","mb-3","mx-2",3,"click"],[1,"card"],[1,"body"],[1,"table-responsive"],["width","100%","datatable","",1,"table","table-striped","table-bordered","table-sm",3,"dtOptions"],["type","checkbox","name","all","value","0",1,"checkbox","mr-2",3,"change"],["id","sudahOrder"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],["name","pbf","bindLabel","nama_supplier","bindValue","id_supplier","placeholder","Pilih Supplier",2,"flex","1 1 auto",3,"ngModel","virtualScroll","searchable","clearable","ngModelChange","search","scrollToEnd","open"],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-simpan",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[3,"value"],[1,"form-text","text-danger"],[1,"card-header",2,"cursor","pointer",3,"click"],[2,"width","70%"],[2,"float","right","position","relative","top","-25px"],[1,"card-body",3,"collapse","isAnimated"],["class","row mb-2",4,"ngIf"],[1,"row","mb-2","px-3"],[1,"px-1"],["type","text","name","harga","readonly","","currencyMask","",1,"form-control",3,"options","ngModel","keypress","ngModelChange"],["class","form-text text-danger col-md-12",4,"ngIf"],[1,"d-flex"],["type","text","value","0","min","0",1,"form-control",3,"ngModel","keypress","ngModelChange"],["value","persen","name","jenis_diskon",1,"form-control","mx-2",3,"ngModel","ngModelChange"],["value","persen"],["value","rupiah"],[1,"row","mb-2"],[1,"d-flex","px-2"],["type","text","value","0","min","0","name","jumlah",1,"form-control","mx-2",3,"ngModel","max","keypress","ngModelChange"],["name","satuan","bindLabel","nama_kemasan","bindValue","nama_kemasan","placeholder","Pilih Kemasan",2,"flex","1 1 auto",3,"ngModel","virtualScroll","items","searchable","clearable","ngModelChange"],[1,"col-md-12"],[1,"form-text","text-danger","col-md-12"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Defekta Obat"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e.NdJ("click",function(){return a.blmDiperiksa()}),e._uU(9," Belum order "),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return a.sdhDiperiksa()}),e._uU(11," Sudah order "),e.qZA(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr")(18,"th")(19,"input",12),e.NdJ("change",function(n){return a.checkedAll(n)}),e.qZA()(),e.TgZ(20,"th"),e._uU(21,"No"),e.qZA(),e.TgZ(22,"th"),e._uU(23," Barang "),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Status Order"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Sisa Stok"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Stok Minimum"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Prioritas"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Rata2 Laku"),e.qZA()()(),e._UZ(34,"tbody"),e.qZA()(),e.TgZ(35,"jw-modal",13)(36,"div",14)(37,"h4",15),e._uU(38,"Tandai Sudah Order"),e.qZA()(),e.TgZ(39,"div",16)(40,"label"),e._uU(41,"PBF/Suplier"),e.qZA(),e.TgZ(42,"ng-select",17),e.NdJ("ngModelChange",function(n){return a.pbf=n})("search",function(n){return a.prosesSelectPBF(n,"search")})("scrollToEnd",function(n){return a.prosesSelectPBF(n,"last_page")})("open",function(n){return a.prosesSelectPBF(n,"open")}),e.YNc(43,Te,2,2,"ng-option",18),e.qZA(),e.YNc(44,xe,2,0,"div",19),e.qZA(),e.TgZ(45,"div",8),e.YNc(46,Se,25,12,"div",20),e.qZA(),e.TgZ(47,"div",21)(48,"button",22),e.NdJ("click",function(){return a.simpan()}),e._uU(49,"Simpan"),e.qZA(),e.TgZ(50,"button",23),e.NdJ("click",function(){return a.modalClose("sudahOrder")}),e._uU(51,"Keluar"),e.qZA()()()()()()()(),e.TgZ(52,"ngx-spinner",24)(53,"p",25),e._uU(54," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Defekta Obat")("items",e.DdM(12,Ee)),e.xp6(12),e.Q6J("dtOptions",a.dtOptions),e.xp6(27),e.Q6J("ngModel",a.pbf)("virtualScroll",!0)("searchable",!0)("clearable",!0),e.xp6(1),e.Q6J("ngForOf",a.optionPbf),e.xp6(1),e.Q6J("ngIf",null==a.pbf&&a.submitted),e.xp6(2),e.Q6J("ngForOf",a.dataChecked),e.xp6(6),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[_e.L,u.G,be.z,K.w9,v.JJ,v.On,p.sg,K.jq,p.O5,ye,v.Fj,J.g1,v.EJ,v.YN,v.Kr,Y.Ro],styles:[""]}),s})();var h=l(36642),Ze=l(16270),je=l(83918);const Be=[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:V}];let X=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[G.Bz.forChild(Be)],G.Bz]}),s})();var Ie=l(67236),Le=l(60795);const Ne=(0,o.Lq)({defekta:null,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1},(0,o.on)(j,(s,r)=>Object.assign(Object.assign({},s),{isLoadingButton:!0,errorMessage:null,reloadTable:!1,isEdit:!1})),(0,o.on)(B,(s,r)=>Object.assign(Object.assign({},s),{isLoadingButton:!1,reloadTable:!1,errorMessage:null})),(0,o.on)(I,(s,r)=>Object.assign(Object.assign({},s),{errorMessage:r.message,reloadTable:!1,isLoadingButton:!1})),(0,o.on)(M,(s,r)=>Object.assign(Object.assign({},s),{isLoadingButton:!0,errorMessage:null,reloadTable:!1,isEdit:!1})),(0,o.on)(L,(s,r)=>Object.assign(Object.assign({},s),{reloadTable:!1,isLoadingButton:!1,errorMessage:null})),(0,o.on)(U,(s,r)=>Object.assign(Object.assign({},s),{errorMessage:r.message,reloadTable:!1,isLoadingButton:!1})),(0,o.on)(H,(s,r)=>Object.assign(Object.assign({},s),{defekta:new d,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,o.on)(R,(s,r)=>Object.assign(Object.assign({},s),{defekta:r.payload,isEdit:!0,reloadTable:!1,errorMessage:null})),(0,o.on)(N,(s,r)=>Object.assign(Object.assign({},s),{errorMessage:r.message,reloadTable:!1,isLoadingButton:!1})),(0,o.on)(Q,(s,r)=>Object.assign(Object.assign({},s),{defekta:new d,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,o.on)(P,(s,r)=>Object.assign(Object.assign({},s),{reloadTable:!1,errorMessage:null,isEdit:!1})),(0,o.on)(F,(s,r)=>Object.assign(Object.assign({},s),{errorMessage:r.message,reloadTable:!1,isLoadingButton:!1})),(0,o.on)(w,(s,r)=>Object.assign(Object.assign({},s),{defekta:new d,reloadTable:!0})),(0,o.on)(de,(s,r)=>Object.assign(Object.assign({},s),{defekta:new d,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1})));function Pe(s,r){return Ne(s,r)}var O=l(63900),A=l(54004),S=l(70262),E=l(39646);let Fe=(()=>{class s{constructor(t,a){this.actions$=t,this.ModulDefektaObatService=a,this.Toast=c().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",c().stopTimer),i.addEventListener("mouseleave",c().resumeTimer)}}),this.addInitial$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(j),(0,O.w)(i=>this.ModulDefektaObatService.add(i.payload).pipe((0,A.U)(n=>B({payload:n.response})),(0,S.K)(n=>(0,E.of)(I({message:n}))))))),this.addSuccess$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(B),(0,A.U)(i=>(this.Toast.fire({icon:"success",title:"Data berhasil disimpan"}),w())))),this.addFailure$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(I)),{dispatch:!1}),this.updateInitial$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(M),(0,O.w)(i=>this.ModulDefektaObatService.update(i.payload).pipe((0,A.U)(n=>L({payload:n.response})),(0,S.K)(n=>(0,E.of)(U({message:n}))))))),this.updateSuccess$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(L),(0,A.U)(i=>(this.Toast.fire({icon:"success",title:"Data berhasil disimpan"}),w())))),this.updateFailure$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(U)),{dispatch:!1}),this.getByIdInitial$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(H),(0,O.w)(i=>this.ModulDefektaObatService.show(i.payload.id).pipe((0,A.U)(n=>R({payload:n.response})),(0,S.K)(n=>(0,E.of)(N({message:n}))))))),this.getByIdFailure$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(N)),{dispatch:!1}),this.deleteInitial$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(Q),(0,O.w)(i=>this.ModulDefektaObatService.delete(i.payload.id).pipe((0,A.U)(n=>P({payload:n.response})),(0,S.K)(n=>(0,E.of)(F({message:n}))))))),this.deleteSuccess$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(P),(0,A.U)(i=>(this.Toast.fire({icon:"success",title:"Data berhasil dihapus"}),w())))),this.deleteFailure$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(F)),{dispatch:!1})}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(h.eX),e.LFG(z))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})(),Je=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s,bootstrap:[V]}),s.\u0275inj=e.cJS({imports:[[p.ez,v.u5,v.UX,Y.ef,Ze.z,je.IJ,X,Le.K,X,u.T,v.UX,Ie.kn.forRoot(),J.Ud,K.A0,Ce,o.Aw.forFeature("defekta-obat",Pe),h.sQ.forFeature([Fe])]]}),s})()},88544:(D,_,l)=>{l.d(_,{p:()=>b});var p=l(5e3);let b=(()=>{class f{isNumber(d){return d.match(/^[0-9]+$/)?d:d.replace(/[^0-9]/g,"")}isAlpha(d){return d.match(/^[A-Za-z]+$/)?d:d.replace(/[^A-Za-z]/g,"")}Number(d){const m=d.which?d.which:d.keyCode;return!(46!=m||d.target.value.indexOf(".")>-1)||!(m>31&&(m<48||m>57))}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},51693:(D,_,l)=>{l.d(_,{z:()=>c});var p=l(5e3),b=l(44151);const f=["*"];let c=(()=>{class d{constructor(u,o){this.modalService=u,this.el=o,this.element=o.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",u=>{}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){document.body.classList.remove("jw-modal-open"),this.element.classList.add("close"),setTimeout(()=>{this.element.classList.remove("close"),this.element.style.display="none"},900)}}return d.\u0275fac=function(u){return new(u||d)(p.Y36(b.Z),p.Y36(p.SBq))},d.\u0275cmp=p.Xpm({type:d,selectors:[["jw-modal"]],inputs:{id:"id"},ngContentSelectors:f,decls:4,vars:0,consts:[[1,"jw-modal"],[1,"jw-modal-body"],[1,"jw-modal-background"]],template:function(u,o){1&u&&(p.F$t(),p.TgZ(0,"div",0)(1,"div",1),p.Hsn(2),p.qZA()(),p._UZ(3,"div",2))},styles:["jw-modal{display:none}jw-modal .open{display:none}jw-modal .jw-modal{position:fixed;inset:0;background-color:#eeeeee8e;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{animation:fadein .5s;padding:10px 20px;background:#fff;margin:30px auto;width:650px;border-radius:2%;position:relative;z-index:1050}@media (max-width: 767px){jw-modal .jw-modal .jw-modal-body{margin:30px auto;width:calc(100% - 25px)}}jw-modal .jw-modal .jw-modal-body-lg{padding:20px;background:#fff;margin:40px auto;width:900px auto}jw-modal .jw-modal-background{position:fixed;inset:0;background-color:#eeeeee8e;opacity:.75;z-index:900}jw-modal.close .jw-modal .jw-modal-body{animation:unfoldOut .5s .3s cubic-bezier(.165,.84,.44,1) forwards}body.jw-modal-open{overflow:hidden}body.jw-modal-close{overflow:hidden;animation:unfoldOut .5s .3s cubic-bezier(.165,.84,.44,1) forwards}@keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes unfoldIn{0%{transform:scaleY(.005) scaleX(0)}50%{transform:scaleY(.005) scaleX(1)}to{transform:scaleY(1) scaleX(1)}}@keyframes unfoldOut{0%{transform:scaleY(1) scaleX(1)}50%{transform:scaleY(.005) scaleX(1)}to{transform:scaleY(.005) scaleX(0)}}\n"],encapsulation:2}),d})()},44151:(D,_,l)=>{l.d(_,{Z:()=>b});var p=l(5e3);let b=(()=>{class f{constructor(){this.modals=[]}add(d){this.modals.push(d)}remove(d){this.modals=this.modals.filter(m=>m.id!==d)}open(d){this.modals.find(u=>u.id===d).open()}close(d){this.modals.find(u=>u.id===d).close()}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},15861:(D,_,l)=>{function p(f,c,d,m,u,o,k){try{var T=f[o](k),C=T.value}catch(Z){return void d(Z)}T.done?c(C):Promise.resolve(C).then(m,u)}function b(f){return function(){var c=this,d=arguments;return new Promise(function(m,u){var o=f.apply(c,d);function k(C){p(o,m,u,k,T,"next",C)}function T(C){p(o,m,u,k,T,"throw",C)}k(void 0)})}}l.d(_,{Z:()=>b})}}]);