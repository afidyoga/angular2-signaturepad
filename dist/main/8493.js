"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[8493],{86307:(I,b,s)=>{s.d(b,{m:()=>u});var f=s(5e3),d=s(95305);let u=(()=>{class c{constructor(l){this.authService=l}getUrlModule(l){return this.authService.currentUserValue.repo.find(S=>S.key_repo==l).url_repo}}return c.\u0275fac=function(l){return new(l||c)(f.LFG(d.e))},c.\u0275prov=f.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},4830:(I,b,s)=>{s.r(b),s.d(b,{KonsolidasiDataModule:()=>Qe});var f=s(69808),d=s(65620),u=s(36642),c=s(24376),_=s(16270),l=s(65415),g=s(93075),M=s(67236),S=s(8202),x=s(23007),C=s(2454),v=s.n(C);const Z=(0,d.PH)("[KONSOLIDASI DATA] add initial",(0,d.Ky)()),R=(0,d.PH)("[KONSOLIDASI DATA] add success",(0,d.Ky)()),E=(0,d.PH)("[KONSOLIDASI DATA] add failure ",(0,d.Ky)()),K=(0,d.PH)("[KONSOLIDASI DATA] clear data "),F=(0,d.PH)("[KONSOLIDASI DATA] table data");var e=s(5e3),Q=s(88388),k=s(44151),D=s(50072),V=s(89955),Y=s(86307),J=s(40520);let w=(()=>{class i{constructor(t,n){this.generalService=t,this.http=n,this.urlBase="konsolidasi-data",this.urlModule=this.generalService.getUrlModule(V.s.url_module.rekamMedis)}show(t){return this.http.get(this.urlModule+"/"+this.urlBase+"/get-antrian-byid/"+t)}listDatatables(t){return this.http.post(this.urlModule+"/"+this.urlBase+"/datatable-list-konsolidasi",t)}listDatatablesRiwayat(t){return this.http.post(this.urlModule+"/"+this.urlBase+"/datatable-riwayat-konsolidasi",t)}add(t,n){return this.http.post(this.urlModule+"/"+this.urlBase+"/merge-antrian/"+n,t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Y.m),e.LFG(J.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var O=s(33399);function G(i,a){if(1&i&&(e.TgZ(0,"ng-option",23),e._uU(1),e.qZA()),2&i){const t=a.$implicit,n=e.oxw();e.Q6J("value",t)("disabled",n.check(1,t.id_pasien)),e.xp6(1),e.Oqu(t.full_rm+" | "+t.nama)}}function W(i,a){1&i&&(e.TgZ(0,"div",24),e._uU(1,"*From merge tidak boleh kosong"),e.qZA())}function X(i,a){if(1&i&&(e.TgZ(0,"ng-option",25),e._uU(1),e.qZA()),2&i){const t=a.$implicit,n=e.oxw();e.Q6J("disabled",n.check(2,t.id_pasien))("value",t),e.xp6(1),e.Oqu(t.full_rm+" | "+t.nama)}}function ee(i,a){1&i&&(e.TgZ(0,"div",24),e._uU(1,"*To merge tidak boleh kosong"),e.qZA())}function te(i,a){if(1&i&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",26)(3,"table",27)(4,"thead")(5,"tr")(6,"th"),e._uU(7,"No"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Tanggal Kunjungan "),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Sesi Antrian"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"No Antrian"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Status"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Aksi"),e.qZA()()(),e._UZ(18,"tbody"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("dtOptions",t.dtOptions)}}const ie=function(){return[]},U=function(){return{standalone:!0}};let ne=(()=>{class i{constructor(t,n,r,o,p,m){this.router=t,this.DataPasienService=n,this.modalService=r,this.spinner=o,this.modulKonsolidasi=p,this.store=m,this.datatableElement=l.G,this.dtOptions={},this.params={last_data:"0",get_data:"10",search:""},this.listPasien=[],this.toMerge="",this.fromMerge="",this.submitted=!1,this.idAntrianFrom="",this.btnDetail=!1,this.btnDelete=!1,this.btnEdit=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1}ngOnInit(){let t=JSON.parse(localStorage.getItem("currentUser"));t=t.menu_right,this.btnAdd=this.btnDelete=this.btnEdit=-1!=t.findIndex(n=>"RMMDKS2"==n.kode),this.btnDetail=this.view=-1!=t.findIndex(n=>"RMMDKS1"==n.kode),this.view||v().fire("Warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"})}prosesSelectPasien(t,n){if(this.loadingPasien=!0,"search"==n?(this.listPasien=[],this.params.search=t.term,this.params.last_data="0"):this.params.search="","last_page"==n){let o=parseInt(this.params.last_data)+parseInt(this.params.get_data);this.params.last_data=o.toString()}else this.params.last_data="0";"last_page"==n&&(this.params.get_data=this.params.get_data+10),this.DataPasienService.getSelectOption(this.params).subscribe(o=>{this.loadingPasien=!1,o&&(0==this.listPasien.length?this.listPasien=o.response:o.response.map(p=>{this.listPasien.findIndex(y=>y.id_pasien==p.id_pasien)<0&&this.listPasien.push(p)}))})}cari(){if(this.submitted=!1,setTimeout(()=>{this.submitted=!0},300),0==this.fromMerge.length||0==this.toMerge.length)return!1;this.dtOptions=this.showDataTables(this.fromMerge,this.toMerge,this.btnEdit)}check(t,n){let r=!1;return r=1==t?this.toMerge==n:this.fromMerge==n,r}merge(t){v().fire({title:"Apa anda yakin?",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Ya, lanjutkan!"}).then(n=>{n&&(this.store.dispatch(Z({payload:{id_pasien_from:this.fromMerge,id_pasien_target:this.toMerge},id:t.id_antrian})),this.cari())})}reLoadData(){this.datatableElement.dtInstance.then(t=>{t.ajax.reload()})}showDataTables(t,n,r){return this.spinner.show("spinner1"),{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(o,p)=>{o.id_pasien_from=t,o.id_pasien_target=n,this.modulKonsolidasi.listDatatables(o).subscribe(m=>{this.spinner.hide("spinner1"),p({draw:m.response.draw,recordsTotal:m.response.recordsTotal,recordsFiltered:m.response.recordsFiltered,data:m.response.data})})},columns:[{orderable:!1,searchable:!1,render:(o,p,m,y)=>y.row+1+y.settings._iDisplayStart},{data:"tgl_antrian",render(o,p,m,y){let T=new Date(o),Ve=T.getMonth()+1>10?T.getMonth()+1:"0"+(T.getMonth()+1);return(T.getDate()>10?T.getDate():"0"+T.getDate())+"/"+Ve+"/"+T.getFullYear()}},{data:"nama_sesi"},{data:"no_antrian"},{data:"status_antrian"},{orderable:!1,searchable:!1,render:(o,p,m,y)=>r?'<button class="btn btn-sm btn-info merge">Merge</button>':""}],rowCallback:(o,p,m)=>{const y=this;return $("td .merge",o).on("click",()=>{y.merge(p)}),o}}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.F0),e.Y36(Q.H),e.Y36(k.Z),e.Y36(D.t2),e.Y36(w),e.Y36(d.yh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(l.G,5),2&t){let r;e.iGM(r=e.CRH())&&(n.datatableElement=r.first)}},decls:32,vars:24,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"body"],[1,"row","mb-2"],[1,"col-2"],[1,"col-9"],["name","fromMerge","bindLabel","nama","bindValue","id_pasien","placeholder","Pilih Pasien",2,"flex","1 1 auto",3,"ngModel","virtualScroll","searchable","clearable","loading","ngModelOptions","ngModelChange","search","scrollToEnd","open"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["name","toMerge","bindLabel","nama","bindValue","id_pasien","placeholder","Pilih Pasien",2,"flex","1 1 auto",3,"ngModel","virtualScroll","searchable","clearable","loading","ngModelOptions","ngModelChange","search","scrollToEnd","open"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"footer","px-4","pb-3","pt-3"],[1,"btn","btn-lg","btn-primary",3,"click"],[1,"fas","fa-search"],["class","card",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[3,"value","disabled"],[1,"text-danger"],[3,"disabled","value"],[1,"table-responsive"],["width","100%","datatable","",1,"table","table-striped","table-bordered","table-sm",3,"dtOptions"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Konsolidasi Data"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e._uU(12,"From Merge"),e.qZA(),e.TgZ(13,"div",11)(14,"ng-select",12),e.NdJ("ngModelChange",function(o){return n.fromMerge=o})("search",function(o){return n.prosesSelectPasien(o,"search")})("scrollToEnd",function(o){return n.prosesSelectPasien(o,"last_page")})("open",function(o){return n.prosesSelectPasien(o,"open")}),e.YNc(15,G,2,3,"ng-option",13),e.qZA(),e.YNc(16,W,2,0,"div",14),e.qZA()(),e.TgZ(17,"div",9)(18,"label",10),e._uU(19,"To Merge"),e.qZA(),e.TgZ(20,"div",11)(21,"ng-select",15),e.NdJ("ngModelChange",function(o){return n.toMerge=o})("search",function(o){return n.prosesSelectPasien(o,"search")})("scrollToEnd",function(o){return n.prosesSelectPasien(o,"last_page")})("open",function(o){return n.prosesSelectPasien(o,"open")}),e.YNc(22,X,2,3,"ng-option",16),e.qZA(),e.YNc(23,ee,2,0,"div",14),e.qZA()()(),e.TgZ(24,"div",17)(25,"button",18),e.NdJ("click",function(){return n.cari()}),e._UZ(26,"i",19),e._uU(27," Cari"),e.qZA()()(),e.YNc(28,te,19,1,"div",20),e.qZA()()(),e.TgZ(29,"ngx-spinner",21)(30,"p",22),e._uU(31," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Konsolidasi Data")("items",e.DdM(21,ie)),e.xp6(11),e.Q6J("ngModel",n.fromMerge)("virtualScroll",!0)("searchable",!0)("clearable",!0)("loading",n.loadingPasien)("ngModelOptions",e.DdM(22,U)),e.xp6(1),e.Q6J("ngForOf",n.listPasien),e.xp6(1),e.Q6J("ngIf",n.submitted&&""==n.fromMerge),e.xp6(5),e.Q6J("ngModel",n.toMerge)("virtualScroll",!0)("searchable",!0)("clearable",!0)("loading",n.loadingPasien)("ngModelOptions",e.DdM(23,U)),e.xp6(1),e.Q6J("ngForOf",n.listPasien),e.xp6(1),e.Q6J("ngIf",n.submitted&&""==n.toMerge),e.xp6(5),e.Q6J("ngIf",""!=n.fromMerge&&""!=n.toMerge&&n.submitted),e.xp6(1),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[O.L,c.w9,g.JJ,g.On,f.sg,c.jq,f.O5,l.G,D.Ro],styles:[""]}),i})();function ae(i,a){if(1&i&&(e.TgZ(0,"table")(1,"tr")(2,"td"),e._uU(3," Nama Sesi "),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.TgZ(6,"tr")(7,"td"),e._uU(8," No Antrian "),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()(),e.TgZ(11,"tr")(12,"td"),e._uU(13," Status Antrian "),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()(),e.TgZ(16,"tr")(17,"td"),e._uU(18," Status Merge "),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()(),e.TgZ(21,"tr")(22,"td"),e._uU(23," Tanggal Antrian "),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij(": ",t.dataDetail.nama_sesi,""),e.xp6(5),e.hij(": ",t.dataDetail.no_antrian,""),e.xp6(5),e.hij(": ",t.dataDetail.status_antrian,""),e.xp6(5),e.hij(": ",t.dataDetail.status_merge?"Berhasil":"Gagal",""),e.xp6(5),e.hij(": ",t.tglConvert(t.dataDetail.tgl_antrian),"")}}function re(i,a){if(1&i&&(e.TgZ(0,"table")(1,"tr")(2,"td"),e._uU(3," Nama Dokter "),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.TgZ(6,"tr")(7,"td"),e._uU(8," BHP "),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()(),e.TgZ(11,"tr")(12,"td"),e._uU(13," Biaya Dokter "),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij(": ",t.dataDetail.dokter_umum.akun_dokter.nama_lengkap,""),e.xp6(5),e.hij(": ",t.dataDetail.dokter_umum.bhp,""),e.xp6(5),e.hij(": ",t.dataDetail.dokter_umum.biaya_dokter,"")}}function oe(i,a){if(1&i&&(e.TgZ(0,"table")(1,"tr")(2,"td"),e._uU(3," JM/JT "),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.TgZ(6,"tr")(7,"td"),e._uU(8," Planning "),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()(),e.TgZ(11,"tr")(12,"td"),e._uU(13," Obyektif Dokter "),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij(": ",t.dataDetail.dokter_umum.jm+"/"+t.dataDetail.dokter_umum.jt,""),e.xp6(5),e.hij(": ",t.dataDetail.dokter_umum.planning,""),e.xp6(5),e.hij(": ",t.dataDetail.dokter_umum.obyektif_dokter,"")}}function se(i,a){if(1&i&&(e.TgZ(0,"table")(1,"tr")(2,"td"),e._uU(3," Resep Obat "),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.TgZ(6,"tr")(7,"td"),e._uU(8," Tindakan "),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()(),e.TgZ(11,"tr")(12,"td"),e._uU(13," Lain-lain "),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij(": ",t.dataDetail.dokter_umum.resep_obat,""),e.xp6(5),e.hij(": ",t.dataDetail.dokter_umum.tindakan,""),e.xp6(5),e.hij(": ",t.dataDetail.dokter_umum.lain_lain,"")}}function le(i,a){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&i){const t=a.$implicit,n=a.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.kode),e.xp6(2),e.Oqu(t.nama_en),e.xp6(2),e.Oqu(t.nama_id)}}function pe(i,a){if(1&i&&(e.TgZ(0,"table")(1,"tr")(2,"td"),e._uU(3," Alergi "),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.TgZ(6,"tr")(7,"td"),e._uU(8," BB/TB "),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()(),e.TgZ(11,"tr")(12,"td"),e._uU(13," Catatan Khusus "),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij(": ",t.dataDetail.perawat.alergi,""),e.xp6(5),e.hij(": ",t.dataDetail.perawat.bb+"/"+t.dataDetail.perawat.tb,""),e.xp6(5),e.hij(": ",t.dataDetail.perawat.catatan_khusus,"")}}function de(i,a){if(1&i&&(e.TgZ(0,"table")(1,"tr")(2,"td"),e._uU(3," Diastol/Sistol "),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.TgZ(6,"tr")(7,"td"),e._uU(8," Hambatan "),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()(),e.TgZ(11,"tr")(12,"td"),e._uU(13," HR/RR/Status HR "),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij(": ",t.dataDetail.perawat.diastole+"/"+t.dataDetail.perawat.sistole,""),e.xp6(5),e.hij(": ",t.dataDetail.perawat.hambatan,""),e.xp6(5),e.hij(": ",t.dataDetail.perawat.hr+"/"+t.dataDetail.perawat.rr+"/"+t.status_hr,"")}}function ce(i,a){if(1&i&&(e.TgZ(0,"table")(1,"tr")(2,"td"),e._uU(3," Keterangan RR "),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.TgZ(6,"tr")(7,"td"),e._uU(8," Suhu "),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()(),e.TgZ(11,"tr")(12,"td"),e._uU(13," Keluhan "),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij(": ",t.dataDetail.perawat.keterangan_rr,""),e.xp6(5),e.hij(": ",t.dataDetail.perawat.suhu,""),e.xp6(5),e.hij(": ",t.dataDetail.perawat.keluhan,"")}}function ue(i,a){if(1&i&&(e.TgZ(0,"table")(1,"tr")(2,"td"),e._uU(3," Lain-lain "),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij(": ",t.dataDetail.perawat.pxfisik,"")}}const me=function(){return["Riwayat Konsolidasi Data"]};let he=(()=>{class i{constructor(t,n,r,o,p){this.router=t,this.modalService=n,this.modulKonsolidasi=r,this.store=o,this.activatedRoute=p,this.fromMerge=[],this.datatableElement=l.G,this.dtOptions={},this.dataDetail=null}ngOnInit(){this.activatedRoute.params.subscribe(t=>{t&&this.modulKonsolidasi.show(t.id).subscribe(n=>{"0000"==n.metaData.response_code?(console.log(n.response),this.dataDetail=n.response):v().fire("Error",n.metaData.message,"error").then(()=>{this.router.navigate(["konsolidasi-data","riwayat"])})})})}tglConvert(t){let n=new Date(t),r=n.getMonth()+1>10?n.getMonth()+1:"0"+(n.getMonth()+1);return(n.getDate()>10?n.getDate():"0"+n.getDate())+"/"+r+"/"+n.getFullYear()}modalClose(){this.modalService.close("modalFormContent")}modalOpen(){this.modalService.open("modalFormContent")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.F0),e.Y36(k.Z),e.Y36(w),e.Y36(d.yh),e.Y36(x.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(l.G,5),2&t){let r;e.iGM(r=e.CRH())&&(n.datatableElement=r.first)}},decls:54,vars:13,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"body"],[4,"ngIf"],[1,"row","mb-2"],[1,"col-md-4"],[1,"table","table-striped","table-bordered","table-sm","mb-4"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Detail Konsolidasi Data"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e.YNc(10,ae,26,5,"table",9),e._UZ(11,"br")(12,"br"),e.TgZ(13,"h3")(14,"b"),e._uU(15,"DOKTER"),e.qZA()(),e.TgZ(16,"div",10)(17,"div",11),e.YNc(18,re,16,3,"table",9),e.qZA(),e.TgZ(19,"div",11),e.YNc(20,oe,16,3,"table",9),e.qZA(),e.TgZ(21,"div",11),e.YNc(22,se,16,3,"table",9),e.qZA()(),e.TgZ(23,"h3")(24,"b"),e._uU(25,"ASESSMENT"),e.qZA()(),e.TgZ(26,"table",12)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"No"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Kode"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Nama (EN)"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Nama (ID)"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,le,9,4,"tr",13),e.qZA()(),e.TgZ(39,"h3")(40,"b"),e._uU(41,"PERAWAT"),e.qZA()(),e.TgZ(42,"div",10)(43,"div",11),e.YNc(44,pe,16,3,"table",9),e.qZA(),e.TgZ(45,"div",11),e.YNc(46,de,16,3,"table",9),e.qZA(),e.TgZ(47,"div",11),e.YNc(48,ce,16,3,"table",9),e.qZA()(),e.TgZ(49,"div",10)(50,"div",11),e.YNc(51,ue,6,1,"table",9),e.qZA(),e._UZ(52,"div",11)(53,"div",11),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.Q6J("title","Konsolidasi Data")("items",e.DdM(12,me))("active_item","Detail"),e.xp6(7),e.Q6J("ngIf",null!=n.dataDetail),e.xp6(8),e.Q6J("ngIf",null!=n.dataDetail),e.xp6(2),e.Q6J("ngIf",null!=n.dataDetail),e.xp6(2),e.Q6J("ngIf",null!=n.dataDetail),e.xp6(16),e.Q6J("ngForOf",n.dataDetail.dokter_umum.assessment),e.xp6(6),e.Q6J("ngIf",null!=n.dataDetail),e.xp6(2),e.Q6J("ngIf",null!=n.dataDetail),e.xp6(2),e.Q6J("ngIf",null!=n.dataDetail),e.xp6(3),e.Q6J("ngIf",null!=n.dataDetail))},directives:[O.L,f.O5,f.sg],styles:[""]}),i})();const _e=function(){return["Riwayat Konsolidasi Data"]},fe=[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:ne},{path:"riwayat",component:(()=>{class i{constructor(t,n,r,o,p){this.router=t,this.modalService=n,this.spinner=r,this.modulKonsolidasi=o,this.store=p,this.fromMerge=[],this.datatableElement=l.G,this.dtOptions={},this.dataDetail=null,this.btnDetail=!1,this.btnDelete=!1,this.btnEdit=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1,this.optionMerge=[{code:"23245",nama:"Apriyanto"},{code:"56476",nama:"Supriyadi"},{code:"67576",nama:"Abdurahman"}],this.customeData=[{TanggalKunjungan:"08/08/2022",JenisAntri:"Regular",SesiAntrian:"24","No Antrian":"2",CekKesehatan:"Sudah",Status:"Step 4 merge"}]}ngOnInit(){let t=JSON.parse(localStorage.getItem("currentUser"));t=t.menu_right,this.btnDetail=this.view=-1!=t.findIndex(n=>"RMMDRK1"==n.kode),this.view||v().fire("Warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"}),this.dtOptions=this.showDataTables(this.btnDetail)}detail(t){this.router.navigate(["konsolidasi-data","detail",t.id_antrian])}reLoadData(){this.datatableElement.dtInstance.then(t=>{t.ajax.reload()})}showDataTables(t){return this.spinner.show("spinner1"),{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(n,r)=>{this.modulKonsolidasi.listDatatablesRiwayat(n).subscribe(o=>{r({draw:o.response.draw,recordsTotal:o.response.recordsTotal,recordsFiltered:o.response.recordsFiltered,data:o.response.data}),this.spinner.hide("spinner1")})},columns:[{orderable:!1,searchable:!1,render:(n,r,o,p)=>p.row+1+p.settings._iDisplayStart},{data:"tgl_antrian",render(n,r,o,p){let m=new Date(n),y=m.getMonth()+1>10?m.getMonth()+1:"0"+(m.getMonth()+1);return(m.getDate()>10?m.getDate():"0"+m.getDate())+"/"+y+"/"+m.getFullYear()}},{data:"pasien_from",render:(n,r,o,p)=>"Nama: "+n.nama+"<br>Nama Panggilan: "+n.nama_panggilan+"<br> No RM :"+n.full_rm},{data:"pasien_target",render:(n,r,o,p)=>"Nama: "+n.nama+"<br>Nama Panggilan: "+n.nama_panggilan+"<br> No RM :"+n.full_rm},{orderable:!1,searchable:!1,render:(n,r,o,p)=>t?'<button class="btn btn-sm btn-info detail">Detail</button>':""}],rowCallback:(n,r,o)=>{const p=this;return $("td .detail",n).on("click",()=>{p.detail(r)}),n}}}modalClose(){this.modalService.close("modalFormContent")}modalOpen(){this.modalService.open("modalFormContent")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.F0),e.Y36(k.Z),e.Y36(D.t2),e.Y36(w),e.Y36(d.yh))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(l.G,5),2&t){let r;e.iGM(r=e.CRH())&&(n.datatableElement=r.first)}},decls:28,vars:6,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"body"],[1,"table-responsive"],["width","100%","datatable","",1,"table","table-striped","table-bordered","table-sm",3,"dtOptions"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Riwayat Konsolidasi Data"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th"),e._uU(15,"No"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Tanggal Kunjungan "),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Pasien From"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Pasien Target"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Aksi"),e.qZA()()(),e._UZ(24,"tbody"),e.qZA()()()()()()(),e.TgZ(25,"ngx-spinner",11)(26,"p",12),e._uU(27," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Konsolidasi Data")("items",e.DdM(5,_e)),e.xp6(8),e.Q6J("dtOptions",n.dtOptions),e.xp6(14),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[O.L,l.G,D.Ro],styles:[""]}),i})()},{path:"detail/:id",component:he}];let ge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[x.Bz.forChild(fe)],x.Bz]}),i})();var ve=s(60795),Se=s(47429),xe=s(50226);let be=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[xe.vT]]}),i})();var Me=s(47423),A=s(90508),ye=s(25245),Te=s(77579);s(41777);let P=(()=>{class i{constructor(){this.changes=new Te.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Re={provide:P,deps:[[new e.FiY,new e.tp0,P]],useFactory:function Pe(i){return i||new P}};let Fe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Re,A.rD],imports:[[A.BQ,f.ez,Se.eL,Me.ot,be,ye.Ps,A.si],A.BQ]}),i})();var Ue=s(67322);class B{}const Be=(0,d.Lq)({Konsolidasi:null,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1},(0,d.on)(Z,(i,a)=>Object.assign(Object.assign({},i),{isLoadingButton:!0,errorMessage:null,reloadTable:!1,isEdit:!1})),(0,d.on)(R,(i,a)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,reloadTable:!1,errorMessage:null})),(0,d.on)(E,(i,a)=>Object.assign(Object.assign({},i),{errorMessage:a.message,reloadTable:!1,isLoadingButton:!1})),(0,d.on)(F,(i,a)=>Object.assign(Object.assign({},i),{Konsolidasi:new B,reloadTable:!0})),(0,d.on)(K,(i,a)=>Object.assign(Object.assign({},i),{Konsolidasi:new B,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1})));function Ne(i,a){return Be(i,a)}var ze=s(63900),He=s(54004),je=s(70262),qe=s(39646);let Ke=(()=>{class i{constructor(t,n,r){this.actions$=t,this.ModulKonsolidasiService=n,this.router=r,this.urlBacktoView=["barang","stok","view"],this.Toast=v().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",v().stopTimer),o.addEventListener("mouseleave",v().resumeTimer)}}),this.addInitial$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(Z),(0,ze.w)(o=>this.ModulKonsolidasiService.add(o.payload,o.id).pipe((0,He.U)(p=>(this.Toast.fire("0000"!=p.metaData.response_code?{icon:"error",title:p.metaData.message}:{icon:"success",title:"Data berhasil disimpan"}),F())),(0,je.K)(p=>(0,qe.of)(E({message:p}))))))),this.addSuccess$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(R)),{dispatch:!1}),this.addFailure$=(0,u.GW)(()=>this.actions$.pipe((0,u.l4)(E)),{dispatch:!1})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.eX),e.LFG(w),e.LFG(x.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),Qe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[f.ez,ge,Fe,D.ef,Ue.lN,ve.K,c.A0,_.z,l.T,g.u5,g.UX,M.kn.forRoot(),S.Ud,d.Aw.forFeature("konsolidasi",Ne),u.sQ.forFeature([Ke])]]}),i})()},76334:(I,b,s)=>{s.d(b,{m:()=>u});var f=s(5e3),d=s(95305);let u=(()=>{class c{constructor(l){this.authService=l}getUrlModule(l){return this.authService.currentUserValue.repo.find(S=>S.key_repo==l).url_repo}list24Hours(l=60,g="05:00"){let M=this.generateHoursInterval(0,1440,l),S=M.findIndex(v=>v==g),x=M.slice(S,M.length-1),C=M.slice(0,S);return x.concat(C)}generateHoursInterval(l,g,M){const S=[];for(let v=0;l<1440&&!(l>g);v++){var x=Math.floor(l/60),C=l%60;S[v]=("0"+x%24).slice(-2)+":"+("0"+C).slice(-2),l+=M}return S}}return c.\u0275fac=function(l){return new(l||c)(f.LFG(d.e))},c.\u0275prov=f.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},16270:(I,b,s)=>{s.d(b,{z:()=>u});var f=s(69808),d=s(5e3);let u=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=d.oAB({type:c}),c.\u0275inj=d.cJS({imports:[[f.ez]]}),c})()},44151:(I,b,s)=>{s.d(b,{Z:()=>d});var f=s(5e3);let d=(()=>{class u{constructor(){this.modals=[]}add(_){this.modals.push(_)}remove(_){this.modals=this.modals.filter(l=>l.id!==_)}open(_){this.modals.find(g=>g.id===_).open()}close(_){this.modals.find(g=>g.id===_).close()}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);