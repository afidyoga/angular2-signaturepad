"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[9192],{19192:(C,f,o)=>{o.r(f),o.d(f,{JadwalLiburModule:()=>qe});var g=o(69808),b=o(23007),_=o(65415),s=o(65620);const O=(0,s.PH)("[JADWAL_LIBUR] add initial",(0,s.Ky)()),B=(0,s.PH)("[JADWAL_LIBUR] add success",(0,s.Ky)()),I=(0,s.PH)("[JADWAL_LIBUR] add failure ",(0,s.Ky)()),k=(0,s.PH)("[JADWAL_LIBUR] update initial",(0,s.Ky)()),x=(0,s.PH)("[JADWAL_LIBUR] update success",(0,s.Ky)()),F=(0,s.PH)("[JADWAL_LIBUR] update failure",(0,s.Ky)()),Y=(0,s.PH)("[JADWAL_LIBUR] get byid initial",(0,s.Ky)()),K=(0,s.PH)("[JADWAL_LIBUR] get byid success",(0,s.Ky)()),N=(0,s.PH)("[JADWAL_LIBUR] get byid failure",(0,s.Ky)()),R=(0,s.PH)("[JADWAL_LIBUR] delete initial",(0,s.Ky)()),q=(0,s.PH)("[JADWAL_LIBUR] delete success",(0,s.Ky)()),G=(0,s.PH)("[JADWAL_LIBUR] delete failure",(0,s.Ky)()),re=(0,s.PH)("[JADWAL_LIBUR] clear data"),H=(0,s.PH)("[JADWAL_LIBUR] table data");var le=o(2454),J=o.n(le),E=o(15439),e=o(5e3),oe=o(89955),de=o(76334),ue=o(40520);let z=(()=>{class i{constructor(t,a){this.generalService=t,this.http=a,this.urlBaseName="jadwal-libur",this.URL_MODULE=this.generalService.getUrlModule(oe.s.url_module.master)}getDataTables(t){return this.http.post(this.URL_MODULE+"/"+this.urlBaseName+"/get-datatables",t)}getAll(){return this.http.get(this.URL_MODULE+"/"+this.urlBaseName+"/get-all")}insert(t){return this.http.post(this.URL_MODULE+"/"+this.urlBaseName,t)}update(t,a){return this.http.put(this.URL_MODULE+"/"+this.urlBaseName+"/"+t,a)}show(t){return this.http.get(this.URL_MODULE+"/"+this.urlBaseName+"/get-byid/"+t)}delete(t){return this.http.delete(this.URL_MODULE+"/"+this.urlBaseName+"/"+t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(de.m),e.LFG(ue.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var S=o(50072),P=o(33399);const ce=function(){return["../add"]};function pe(i,n){1&i&&(e.TgZ(0,"button",14),e._UZ(1,"i",15),e._uU(2," Tambah Jadwal Libur"),e.qZA()),2&i&&e.Q6J("routerLink",e.DdM(1,ce))}const he=function(){return["Ruang dan Jadwal"]};let me=(()=>{class i{constructor(t,a,l,r){this.jadwalLiburService=t,this.store=a,this.router=l,this.spinner=r,this.datatableElement=_.G,this.dtOptions={},this.btnDetail=!1,this.btnDelete=!1,this.btnEdit=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1,this.getState=this.store.select("masterData_ruangDanJadwal_jadwalLibur")}ngOnInit(){let t=JSON.parse(localStorage.getItem("currentUser"));t=t.menu_right,this.btnAdd=this.btnDelete=this.btnEdit=-1!=t.findIndex(a=>"MGRJJL2"==a.kode),this.btnDetail=this.view=-1!=t.findIndex(a=>"MGRJJL1"==a.kode),this.view||J().fire("Warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"}),this.dtOptions=this.showDataTables(this.btnEdit),this.getState.subscribe(a=>{this.reloadTable=a.reloadTable,!0===this.reloadTable&&this.reLoadData()})}editData(t){this.router.navigate(["master-data","ruang-dan-jadwal","jadwal-libur","edit",t.id_jadwal_libur])}nonAktif(t){J().fire({title:"Apakah anda yakin akan menghapus data ini ?",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Ya, hapus saja!",cancelButtonText:"Tidak, Batalkan"}).then(a=>{a.value&&(this.spinner.show("spinner1"),this.store.dispatch(R({payload:{id:t.id_jadwal_libur}})),setTimeout(()=>{this.spinner.hide("spinner1")},400))})}reLoadData(){this.datatableElement.dtInstance.then(t=>{t.ajax.reload()})}showDataTables(t){return this.spinner.show("spinner1"),{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(a,l)=>{this.jadwalLiburService.getDataTables(a).subscribe(r=>{l({draw:r.response.draw,recordsTotal:r.response.recordsTotal,recordsFiltered:r.response.recordsFiltered,data:r.response.data}),this.spinner.hide("spinner1")})},columns:[{orderable:!1,searchable:!1,render:(a,l,r,c)=>c.row+1+c.settings._iDisplayStart},{data:"tgl_libur",render:(a,l,r,c)=>E(a).format("DD-MM-YYYY")},{data:"keterangan_libur"},{orderable:!1,searchable:!1,render:(a,l,r,c)=>t?'<div style="white-space: nowrap;">\n                      <button class="btn btn-sm btn-ubah update-data ">Edit</button>\n                      <button class="btn nonaktif-data btn-hapus btn-sm">Hapus</button>\n                    <div>':""}],rowCallback:(a,l,r)=>{const c=this;return $("td .update-data",a).on("click",()=>{c.editData(l)}),$("td .nonaktif-data",a).on("click",()=>{c.nonAktif(l)}),a}}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z),e.Y36(s.yh),e.Y36(b.F0),e.Y36(S.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view"]],viewQuery:function(t,a){if(1&t&&e.Gf(_.G,5),2&t){let l;e.iGM(l=e.CRH())&&(a.datatableElement=l.first)}},decls:32,vars:8,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button","class","btn btn-tambah btn-lg",3,"routerLink",4,"ngIf"],[1,"card"],[1,"header"],[1,"body"],["width","100%","datatable","",1,"table","table-sm","table-striped","table-bordered","table-sm",3,"dtOptions"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-tambah","btn-lg",3,"routerLink"],[1,"fas","fa-plus"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Jadwal Libur"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6),e.YNc(8,pe,3,2,"button",7),e._UZ(9,"br")(10,"br"),e.TgZ(11,"div",8)(12,"div",9)(13,"h2")(14,"strong"),e._uU(15,"Jadwal Libur"),e.qZA()()(),e.TgZ(16,"div",10)(17,"table",11)(18,"thead")(19,"tr")(20,"th"),e._uU(21,"No"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Tgl. Libur"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Ket. Libur"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Aksi"),e.qZA()()(),e._UZ(28,"tbody"),e.qZA()()()()()(),e.TgZ(29,"ngx-spinner",12)(30,"p",13),e._uU(31," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Master Data")("items",e.DdM(7,he))("active_item","Jadwal Libur"),e.xp6(5),e.Q6J("ngIf",a.btnAdd),e.xp6(9),e.Q6J("dtOptions",a.dtOptions),e.xp6(12),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[P.L,g.O5,b.rH,_.G,S.Ro],styles:[""]}),i})();var u=o(93075);class T{}var V=o(78568),D=o(67236),W=o(24376);function be(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," Tanggal libur tidak boleh kosong "),e.qZA())}function ge(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," Keterangan libur tidak boleh kosong "),e.qZA())}function _e(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"button",35),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().HapusJadwalSesiFromDump(r.id_jadwal_sesi)}),e._uU(7,"Hapus"),e.qZA()()()}if(2&i){const t=n.$implicit,a=n.index;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.Oqu(t.nama_sesi)}}function fe(i,n){if(1&i&&(e.TgZ(0,"ul")(1,"li"),e._uU(2),e.qZA()()),2&i){const t=n.$implicit;e.xp6(2),e.AsE("",t.field," : ",t.message,"")}}function we(i,n){if(1&i&&(e.TgZ(0,"div",36),e._uU(1),e.YNc(2,fe,3,2,"ul",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage.metaData.message," "),e.xp6(1),e.Q6J("ngForOf",t.errorMessage.response)}}const Le=function(){return["Ruang dan Jadwal","Jadwal Libur"]},ve=function(){return["../../view"]},Je=function(){return{adaptivePosition:!0,dateInputFormat:"DD-MM-YYYY",returnFocusToInput:!0}},Se=function(){return{standalone:!0}},Te=function(i,n){return{"fa-spin fa-spinner pulse":i,"fa-check":n}};function Ue(i,n){1&i&&(e.TgZ(0,"div",37),e._uU(1," Tanggal libur tidak boleh kosong "),e.qZA())}function De(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"button",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().HapusJadwalSesiFromDump(r.id_jadwal_sesi)}),e._uU(7,"Hapus"),e.qZA()()()}if(2&i){const t=n.$implicit,a=n.index;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.Oqu(t.nama_sesi)}}function Ze(i,n){if(1&i&&(e.TgZ(0,"ul")(1,"li"),e._uU(2),e.qZA()()),2&i){const t=n.$implicit;e.xp6(2),e.AsE("",t.field," : ",t.message,"")}}function Ee(i,n){if(1&i&&(e.TgZ(0,"div",39),e._uU(1),e.YNc(2,Ze,3,2,"ul",29),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage.metaData.message," "),e.xp6(1),e.Q6J("ngForOf",t.errorMessage.response)}}const je=function(){return["Ruang dan Jadwal","Jadwal Libur"]},Me=function(){return["../view"]},ye=function(){return{adaptivePosition:!0,dateInputFormat:"DD-MM-YYYY",returnFocusToInput:!0}},Ce=function(){return{standalone:!0}},Oe=function(i,n){return{"fa-spin fa-spinner pulse":i,"fa-check":n}},Be=[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:me},{path:"edit/:id",component:(()=>{class i{constructor(t,a,l,r,c){this.fb=t,this.jadwalSesiService=a,this.store=l,this.activatedRoute=r,this.spinner=c,this.listJadwalSesi=[],this.jadwalLibur=new T,this.dumpJadwalSesi=new u.Oe([]),this.lastDataSelectJadwalSesi=0,this.selectJadwalSesi={last_data:0,get_data:10,search:""},this.idListJadwalSesi=null,this.getState=this.store.select("masterData_ruangDanJadwal_jadwalLibur")}ngOnInit(){this.formTambah=this.fb.group({tgl_libur:["",[]],keterangan_libur:["",[]]}),this.activatedRoute.params.subscribe(t=>{t&&(this.spinner.show("spinner1"),this.store.dispatch(Y({payload:{id:t.id}})))}),this.getState.subscribe(t=>{this.errorMessage=t.errorMessage,this.submitButton=t.submitButton,this.isLoadingButton=t.isLoadingButton,this.isEdit=t.isEdit,this.jadwalLibur=t.jadwalLibur,!0===this.isEdit&&(this.formTambah.patchValue({tgl_libur:E(this.jadwalLibur.tgl_libur).format("DD-MM-YYYY"),keterangan_libur:this.jadwalLibur.keterangan_libur}),null!=this.jadwalLibur.detail&&(this.jadwalLibur.detail.length>0&&(this.jadwalLibur.detail.forEach(a=>{const l=new u.cw({});l.addControl("id_jadwal_sesi",new u.NI(a.id_jadwal_sesi)),l.addControl("nama_sesi",new u.NI(a.nama_sesi)),l.addControl("id_jadwal_libur_detail",new u.NI("")),this.dumpJadwalSesi.push(l)}),this.spinner.hide("spinner1")),this.spinner.hide("spinner1")))})}searchlistJadwalSesi(t){this.selectJadwalSesi.search=t.term,this.jadwalSesiService.getSelectOption(this.selectJadwalSesi).subscribe(a=>{this.listJadwalSesi=a.response})}scrollEndListJadwalSesi(){this.selectJadwalSesi.last_data=this.selectJadwalSesi.last_data+10,this.jadwalSesiService.getSelectOption(this.selectJadwalSesi).subscribe(t=>{this.listJadwalSesi=t.response})}openListJadwalSesi(t){this.selectJadwalSesi.search="",this.jadwalSesiService.getSelectOption(this.selectJadwalSesi).subscribe(a=>{this.listJadwalSesi=a.response})}addDetailJadwalLibur(){let t=this.idListJadwalSesi;if(""!=t){let a=this.listJadwalSesi.findIndex((l,r)=>l.id_jadwal_sesi==t);if(a>=0){let l=this.listJadwalSesi[a];const r=new u.cw({});this.dumpJadwalSesi.value.findIndex((Q,Ge)=>Q.id_jadwal_sesi==l.id_jadwal_sesi)>=0?alert("Sepertinya anda sudan menambahkan data ini"):(r.addControl("id_jadwal_sesi",new u.NI(l.id_jadwal_sesi)),r.addControl("nama_sesi",new u.NI(l.nama_sesi)),r.addControl("id_jadwal_libur_detail",new u.NI("")),this.dumpJadwalSesi.push(r))}}}HapusJadwalSesiFromDump(t){let a=this.dumpJadwalSesi.value.findIndex((l,r)=>l.id_jadwal_sesi==t);a>=0&&this.dumpJadwalSesi.removeAt(a)}SubmitForm(){if(this.submitted=!0,this.formTambah.invalid)return;this.spinner.show("spinner1");let t=new T;t.id_jadwal_libur=this.jadwalLibur.id_jadwal_libur,t.id_klinik=this.jadwalLibur.id_klinik,t.tgl_libur=E(this.formTambah.value.tgl_libur).format("YYYY-MM-DD"),t.keterangan_libur=this.formTambah.value.keterangan_libur,t.detail=this.dumpJadwalSesi.value,this.store.dispatch(k({payload:t})),setTimeout(()=>{this.spinner.hide("spinner1")},400)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.qu),e.Y36(V.l),e.Y36(s.yh),e.Y36(b.gz),e.Y36(S.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit"]],decls:62,vars:32,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-kembali","btn-lg",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"card"],[3,"formGroup","submit"],[1,"header"],[1,"body"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-9"],["type","text","bsDatepicker","","readonly","","formControlName","tgl_libur",1,"form-control",3,"outsideClick","bsConfig"],["class","form-text text-danger",4,"ngIf"],["cols","5","rows","5","formControlName","keterangan_libur",1,"form-control"],[1,"col-sm-8"],["bindLabel","nama_sesi","bindValue","id_jadwal_sesi","placeholder","Jadwal Sesi",3,"virtualScroll","items","searchable","ngModel","ngModelOptions","clearable","ngModelChange","search","scrollToEnd","open"],[1,"col-sm-2"],["type","button",1,"btn","btn-simpan",3,"click"],[1,"fa","fa-plus"],[1,"row","m-3"],[1,"table","table-striped","table-bordered","table-sm"],[4,"ngFor","ngForOf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"footer"],[1,"text-center","mb-3"],["type","submit","color","primary",1,"btn","btn-simpan","btn-lg",3,"disabled"],[1,"fa",3,"ngClass"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[1,"form-text","text-danger"],["type","button",1,"btn","btn-hapus","btn-sm",3,"click"],["role","alert",1,"alert","alert-danger"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Edit Jadwal Libur"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e._UZ(9,"i",8),e._uU(10," Kembali"),e.qZA(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"form",10),e.NdJ("submit",function(){return a.SubmitForm()}),e.TgZ(15,"div",11)(16,"h2")(17,"strong"),e._uU(18,"Tambah Jadwal library_music"),e.qZA()()(),e.TgZ(19,"div",12)(20,"div",13)(21,"label",14),e._uU(22,"Tanggal Libur *"),e.qZA(),e.TgZ(23,"div",15),e._UZ(24,"input",16),e.YNc(25,be,2,0,"div",17),e.qZA()(),e.TgZ(26,"div",13)(27,"label",14),e._uU(28,"Keterangan Libur *"),e.qZA(),e.TgZ(29,"div",15),e._UZ(30,"textarea",18),e.YNc(31,ge,2,0,"div",17),e.qZA()(),e.TgZ(32,"div",13)(33,"label",14),e._uU(34,"Jadwal Sesi"),e.qZA(),e.TgZ(35,"div",19)(36,"ng-select",20),e.NdJ("ngModelChange",function(r){return a.idListJadwalSesi=r})("search",function(r){return a.searchlistJadwalSesi(r)})("scrollToEnd",function(){return a.scrollEndListJadwalSesi()})("open",function(r){return a.openListJadwalSesi(r)}),e.qZA()(),e.TgZ(37,"div",21)(38,"button",22),e.NdJ("click",function(){return a.addDetailJadwalLibur()}),e._UZ(39,"i",23),e._uU(40," Tambah"),e.qZA()()(),e.TgZ(41,"div",24)(42,"table",25)(43,"thead")(44,"tr")(45,"th"),e._uU(46,"No"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Nama Jadwal Sesi"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Aksi"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,_e,8,2,"tr",26),e.qZA()()(),e.YNc(53,we,3,2,"div",27),e.qZA(),e.TgZ(54,"div",28)(55,"div",29)(56,"button",30),e._UZ(57,"i",31),e._uU(58," Simpan "),e.qZA()()()()()()()(),e.TgZ(59,"ngx-spinner",32)(60,"p",33),e._uU(61," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Master Data")("items",e.DdM(25,Le))("active_item","Edit Jadwal Libur"),e.xp6(5),e.Q6J("routerLink",e.DdM(26,ve)),e.xp6(6),e.Q6J("formGroup",a.formTambah),e.xp6(10),e.ekj("border-danger",a.formTambah.controls.tgl_libur.hasError("required")&&a.submitted),e.Q6J("outsideClick",!0)("bsConfig",e.DdM(27,Je)),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.tgl_libur.hasError("required")&&a.submitted),e.xp6(5),e.ekj("border-danger",a.formTambah.controls.keterangan_libur.hasError("required")&&a.submitted),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.keterangan_libur.hasError("required")&&a.submitted),e.xp6(5),e.Q6J("virtualScroll",!0)("items",a.listJadwalSesi)("searchable",!0)("ngModel",a.idListJadwalSesi)("ngModelOptions",e.DdM(28,Se))("clearable",!0),e.xp6(16),e.Q6J("ngForOf",a.dumpJadwalSesi.value),e.xp6(1),e.Q6J("ngIf",null!=a.errorMessage),e.xp6(3),e.Q6J("disabled",a.isLoadingButton),e.xp6(1),e.Q6J("ngClass",e.WLB(29,Te,a.isLoadingButton,!a.isLoadingButton)),e.xp6(2),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[P.L,b.rH,u._Y,u.JL,u.sg,D.Y5,u.Fj,D.Np,u.JJ,u.u,g.O5,W.w9,u.On,g.sg,g.mk,S.Ro],styles:[""]}),i})()},{path:"add",component:(()=>{class i{constructor(t,a,l,r){this.fb=t,this.jadwalSesiService=a,this.store=l,this.spinner=r,this.listJadwalSesi=[],this.jadwalLibur=new T,this.dumpJadwalSesi=new u.Oe([]),this.lastDataSelectJadwalSesi=0,this.selectJadwalSesi={last_data:0,get_data:10,search:""},this.idListJadwalSesi=null,this.minDate=new Date,this.getState=this.store.select("masterData_ruangDanJadwal_jadwalLibur")}ngOnInit(){this.minDate.setDate(this.minDate.getDate()+1),this.formTambah=this.fb.group({tgl_libur:["",[u.kI.required]],keterangan_libur:["",[]]}),this.getState.subscribe(t=>{this.errorMessage=t.errorMessage,this.submitButton=t.submitButton,this.isLoadingButton=t.isLoadingButton})}onFocus(t){document.getElementById(t).click()}addDetailJadwalLibur(){let t=this.idListJadwalSesi;if(""!=t){let a=this.listJadwalSesi.findIndex((l,r)=>l.id_jadwal_sesi==t);if(a>=0){let l=this.listJadwalSesi[a];const r=new u.cw({});this.dumpJadwalSesi.value.findIndex((Q,Ge)=>Q.id_jadwal_sesi==l.id_jadwal_sesi)>=0?alert("Sepertinya anda sudan menambahkan data ini"):(r.addControl("id_jadwal_sesi",new u.NI(l.id_jadwal_sesi)),r.addControl("nama_sesi",new u.NI(l.nama_sesi)),this.dumpJadwalSesi.push(r))}}}HapusJadwalSesiFromDump(t){let a=this.dumpJadwalSesi.value.findIndex((l,r)=>l.id_jadwal_sesi==t);a>=0&&this.dumpJadwalSesi.removeAt(a)}searchlistJadwalSesi(t){this.selectJadwalSesi.search=t.term,this.jadwalSesiService.getSelectOption(this.selectJadwalSesi).subscribe(a=>{this.listJadwalSesi=a.response})}scrollEndListJadwalSesi(){this.selectJadwalSesi.get_data=this.selectJadwalSesi.get_data+10,this.jadwalSesiService.getSelectOption(this.selectJadwalSesi).subscribe(t=>{this.listJadwalSesi=t.response})}openListJadwalSesi(t){this.selectJadwalSesi.search="",this.jadwalSesiService.getSelectOption(this.selectJadwalSesi).subscribe(a=>{this.listJadwalSesi=a.response})}SubmitForm(){if(this.submitted=!0,this.formTambah.invalid)return;this.spinner.show("spinner1");let t=new T;t.id_jadwal_libur=this.jadwalLibur.id_jadwal_libur,t.id_klinik=this.jadwalLibur.id_klinik,t.tgl_libur=E(this.formTambah.value.tgl_libur).format("YYYY-MM-DD"),t.keterangan_libur=this.formTambah.value.keterangan_libur,t.detail=this.dumpJadwalSesi.value,this.store.dispatch(O({payload:t})),setTimeout(()=>{this.spinner.hide("spinner1")},400)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.qu),e.Y36(V.l),e.Y36(s.yh),e.Y36(S.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add"]],decls:62,vars:32,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-kembali","btn-lg","mb-3",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"card"],[3,"formGroup","submit"],[1,"header"],[1,"body"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-9"],[1,"input-group"],["type","text","bsDatepicker","","placeholder","Tanggal Libur","autocomplete","off","formControlName","tgl_libur","id","tgl2",1,"form-control",3,"minDate","bsConfig","outsideClick"],[1,"input-group-text",2,"cursor","pointer","background","white","border-left","0px",3,"click"],[1,"fa","fa-calendar"],["class","form-text text-danger",4,"ngIf"],["cols","5","rows","5","formControlName","keterangan_libur",1,"form-control"],[1,"col-sm-8"],["bindLabel","nama_sesi","bindValue","id_jadwal_sesi","placeholder","Jadwal Sesi",3,"virtualScroll","items","searchable","ngModel","ngModelOptions","clearable","ngModelChange","search","scrollToEnd","open"],[1,"col-sm-2"],["type","button",1,"btn","btn-simpan",3,"click"],[1,"fa","fa-plus"],[1,"row","m-3"],[1,"table","table-striped","table-bordered","table-sm"],[4,"ngFor","ngForOf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"footer"],[1,"text-center","mb-3"],["type","submit","color","primary",1,"btn","btn-simpan","btn-lg",3,"disabled"],[1,"fa",3,"ngClass"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[1,"form-text","text-danger"],["type","button",1,"btn","btn-hapus","btn-sm",3,"click"],["role","alert",1,"alert","alert-danger"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Tambah Jadwal Libur"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e._UZ(9,"i",8),e._uU(10," Kembali"),e.qZA(),e.TgZ(11,"div",9)(12,"form",10),e.NdJ("submit",function(){return a.SubmitForm()}),e.TgZ(13,"div",11)(14,"h2")(15,"strong"),e._uU(16,"Tambah Jadwal Libur"),e.qZA()()(),e.TgZ(17,"div",12)(18,"div",13)(19,"label",14),e._uU(20,"Tanggal Libur *"),e.qZA(),e.TgZ(21,"div",15)(22,"div",16),e._UZ(23,"input",17),e.TgZ(24,"span",18),e.NdJ("click",function(){return a.onFocus("tgl2")}),e._UZ(25,"i",19),e.qZA()(),e.YNc(26,Ue,2,0,"div",20),e.qZA()(),e.TgZ(27,"div",13)(28,"label",14),e._uU(29,"Keterangan Libur"),e.qZA(),e.TgZ(30,"div",15),e._UZ(31,"textarea",21),e.qZA()(),e.TgZ(32,"div",13)(33,"label",14),e._uU(34,"Jadwal Sesi"),e.qZA(),e.TgZ(35,"div",22)(36,"ng-select",23),e.NdJ("ngModelChange",function(r){return a.idListJadwalSesi=r})("search",function(r){return a.searchlistJadwalSesi(r)})("scrollToEnd",function(){return a.scrollEndListJadwalSesi()})("open",function(r){return a.openListJadwalSesi(r)}),e.qZA()(),e.TgZ(37,"div",24)(38,"button",25),e.NdJ("click",function(){return a.addDetailJadwalLibur()}),e._UZ(39,"i",26),e._uU(40," Tambah"),e.qZA()()(),e.TgZ(41,"div",27)(42,"table",28)(43,"thead")(44,"tr")(45,"th"),e._uU(46,"No"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Nama Jadwal Sesi"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Aksi"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,De,8,2,"tr",29),e.qZA()()(),e.YNc(53,Ee,3,2,"div",30),e.qZA(),e.TgZ(54,"div",31)(55,"div",32)(56,"button",33),e._UZ(57,"i",34),e._uU(58," Simpan "),e.qZA()()()()()()()(),e.TgZ(59,"ngx-spinner",35)(60,"p",36),e._uU(61," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Master Data")("items",e.DdM(25,je))("active_item","Tambah Jadwal Libur"),e.xp6(5),e.Q6J("routerLink",e.DdM(26,Me)),e.xp6(4),e.Q6J("formGroup",a.formTambah),e.xp6(11),e.ekj("border-danger",a.formTambah.controls.tgl_libur.hasError("required")&&a.submitted),e.Q6J("minDate",a.minDate)("bsConfig",e.DdM(27,ye))("outsideClick",!0),e.xp6(3),e.Q6J("ngIf",a.formTambah.controls.tgl_libur.hasError("required")&&a.submitted),e.xp6(5),e.ekj("border-danger",a.formTambah.controls.keterangan_libur.hasError("required")&&a.submitted),e.xp6(5),e.Q6J("virtualScroll",!0)("items",a.listJadwalSesi)("searchable",!0)("ngModel",a.idListJadwalSesi)("ngModelOptions",e.DdM(28,Ce))("clearable",!0),e.xp6(16),e.Q6J("ngForOf",a.dumpJadwalSesi.value),e.xp6(1),e.Q6J("ngIf",null!=a.errorMessage),e.xp6(3),e.Q6J("disabled",a.isLoadingButton),e.xp6(1),e.Q6J("ngClass",e.WLB(29,Oe,a.isLoadingButton,!a.isLoadingButton)),e.xp6(2),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[P.L,b.rH,u._Y,u.JL,u.sg,D.Y5,u.Fj,D.Np,u.JJ,u.u,g.O5,W.w9,u.On,g.sg,g.mk,S.Ro],styles:[""]}),i})()}];let Ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[b.Bz.forChild(Be)],b.Bz]}),i})();var ke=o(60795),m=o(36642),xe=o(16270),j=o(63900),Z=o(54004),M=o(70262),X=o(18505),y=o(39646);let Fe=(()=>{class i{constructor(t,a,l){this.actions$=t,this.jadwalLiburService=a,this.router=l,this.urlBacktoView=["master-data","ruang-dan-jadwal","jadwal-libur","view"],this.Toast=J().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:r=>{r.addEventListener("mouseenter",J().stopTimer),r.addEventListener("mouseleave",J().resumeTimer)}}),this.addInitial$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(O),(0,j.w)(r=>this.jadwalLiburService.insert(r.payload).pipe((0,Z.U)(c=>B({payload:c.response})),(0,M.K)(c=>(0,y.of)(I({message:c}))))))),this.addSuccess$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(B),(0,X.b)(r=>{J().fire({title:"Data berhasil disimpan",icon:"success",showCancelButton:!1,allowOutsideClick:!1,confirmButtonText:"Ya, lanjutkan!"}).then(c=>{this.router.navigate(this.urlBacktoView)})})),{dispatch:!1}),this.addFailure$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(I)),{dispatch:!1}),this.updateInitial$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(k),(0,j.w)(r=>this.jadwalLiburService.update(r.payload.id_jadwal_libur,r.payload).pipe((0,Z.U)(c=>x({payload:c.response})),(0,M.K)(c=>(0,y.of)(F({message:c}))))))),this.updateSuccess$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(x),(0,X.b)(r=>{J().fire({title:"Data berhasil disimpan",icon:"success",showCancelButton:!1,allowOutsideClick:!1,confirmButtonText:"Ya, lanjutkan!"}).then(c=>{this.router.navigate(this.urlBacktoView)})})),{dispatch:!1}),this.updateFailure$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(F)),{dispatch:!1}),this.getByIdInitial$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Y),(0,j.w)(r=>this.jadwalLiburService.show(r.payload.id).pipe((0,Z.U)(c=>K({payload:c.response})),(0,M.K)(c=>(0,y.of)(N({message:c}))))))),this.getByIdFailure$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(N)),{dispatch:!1}),this.deleteInitial$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(R),(0,j.w)(r=>this.jadwalLiburService.delete(r.payload.id).pipe((0,Z.U)(c=>q({payload:c.response})),(0,M.K)(c=>(0,y.of)(G({message:c}))))))),this.deleteSuccess$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(q),(0,Z.U)(r=>(this.Toast.fire({icon:"success",title:"Data berhasil dihapus"}),H())))),this.deleteFailure$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(G)),{dispatch:!1})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(m.eX),e.LFG(z),e.LFG(b.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const Ne=(0,s.Lq)({jadwalLibur:null,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1},(0,s.on)(O,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!0,isEdit:!1,reloadTable:!1})),(0,s.on)(B,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,jadwalLibur:n.payload,errorMessage:null})),(0,s.on)(I,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:n.message,isEdit:!1,reloadTable:!1})),(0,s.on)(k,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!0,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,s.on)(x,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,jadwalLibur:n.payload,isEdit:!1,reloadTable:!1})),(0,s.on)(F,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:n.message,isEdit:!1,reloadTable:!1})),(0,s.on)(Y,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:null,jadwalLibur:new T})),(0,s.on)(K,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:null,isEdit:!0,jadwalLibur:n.payload,reloadTable:!1})),(0,s.on)(N,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:n.message,isEdit:!1,reloadTable:!1})),(0,s.on)(R,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:null,isEdit:!1,reloadTable:!1,jadwalLibur:new T})),(0,s.on)(q,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:null,isEdit:!1,reloadTable:!0})),(0,s.on)(G,(i,n)=>Object.assign(Object.assign({},i),{isLoadingButton:!1,errorMessage:n.message,isEdit:!1,reloadTable:!1})),(0,s.on)(H,(i,n)=>Object.assign(Object.assign({},i),{reloadTable:!0})),(0,s.on)(re,(i,n)=>Object.assign(Object.assign({},i),{jadwalLibur:new T,errorMessage:null,isEdit:!1,reloadTable:!1,isLoadingButton:!1})));function Re(i,n){return Ne(i,n)}let qe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.ez,Ie,xe.z,ke.K,S.ef,s.Aw.forFeature("masterData_ruangDanJadwal_jadwalLibur",Re),m.sQ.forFeature([Fe]),u.u5,u.UX,_.T,D.kn.forRoot(),W.A0]]}),i})()},76334:(C,f,o)=>{o.d(f,{m:()=>_});var g=o(5e3),b=o(95305);let _=(()=>{class s{constructor(h){this.authService=h}getUrlModule(h){return this.authService.currentUserValue.repo.find(p=>p.key_repo==h).url_repo}list24Hours(h=60,w="05:00"){let d=this.generateHoursInterval(0,1440,h),p=d.findIndex(A=>A==w),v=d.slice(p,d.length-1),U=d.slice(0,p);return v.concat(U)}generateHoursInterval(h,w,d){const p=[];for(let A=0;h<1440&&!(h>w);A++){var v=Math.floor(h/60),U=h%60;p[A]=("0"+v%24).slice(-2)+":"+("0"+U).slice(-2),h+=d}return p}}return s.\u0275fac=function(h){return new(h||s)(g.LFG(b.e))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},78568:(C,f,o)=>{o.d(f,{l:()=>L});var g=o(89955),b=o(5e3),_=o(76334),s=o(40520);let L=(()=>{class h{constructor(d,p){this.generalService=d,this.http=p,this.urlBaseName="jadwal-sesi",this.URL_MODULE=this.generalService.getUrlModule(g.s.url_module.master)}getDataTables(d){return this.http.post(this.URL_MODULE+"/"+this.urlBaseName+"/get-datatables",d)}getJadwalSesi(){return this.http.get(this.URL_MODULE+"/jadwal-sesi/get-ready-byklinik")}getAll(){return this.http.get(this.URL_MODULE+"/"+this.urlBaseName+"/get-all")}getSelectOption(d){return this.http.post(this.URL_MODULE+"/"+this.urlBaseName+"/get-select-option",d)}insert(d){return this.http.post(this.URL_MODULE+"/"+this.urlBaseName,d)}update(d,p){return this.http.put(this.URL_MODULE+"/"+this.urlBaseName+"/"+d,p)}show(d){return this.http.get(this.URL_MODULE+"/"+this.urlBaseName+"/get-byid/"+d)}delete(d){return this.http.delete(this.URL_MODULE+"/"+this.urlBaseName+"/"+d)}prosesSelectJadwalSesi(d,p){return"open"==p?(d.search="",d.get_data=10):"last_page"==p?d.get_data=d.get_data+10:"search"==p&&(d.get_data=10),this.getSelectOption(d)}}return h.\u0275fac=function(d){return new(d||h)(b.LFG(_.m),b.LFG(s.eN))},h.\u0275prov=b.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},16270:(C,f,o)=>{o.d(f,{z:()=>_});var g=o(69808),b=o(5e3);let _=(()=>{class s{}return s.\u0275fac=function(h){return new(h||s)},s.\u0275mod=b.oAB({type:s}),s.\u0275inj=b.cJS({imports:[[g.ez]]}),s})()}}]);