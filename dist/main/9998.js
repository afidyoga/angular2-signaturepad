"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[9998],{39998:(E,k,d)=>{d.r(k),d.d(k,{AntreanPerawatModule:()=>Ie});var T=d(69808),A=d(50072),_=d(23007),h=d(65415),m=d(2454),u=d.n(m),e=d(5e3),f=d(41911),g=d(156),b=d(33399);const Z=["id_select_poliklinik"],v=function(){return[]};let V=(()=>{class a{constructor(t,n,s,i,l){this.antreanPerawatService=t,this.router=n,this.spinner=s,this.activatedRoute=i,this.daftarPoliklinikService=l,this.dtOptions={},this.datatableElement=h.G,this.listPoliklinik=[],this.type_poli="",this.poli_name="",this.tableAktif="",this.btnDetail=!1,this.btnDelete=!1,this.btnEdit=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1}ngOnInit(){let t=JSON.parse(localStorage.getItem("currentUser"));t=t.menu_right,this.btnAdd=this.btnDelete=this.btnEdit=-1!=t.findIndex(n=>"AMATAU2"==n.kode),this.btnDetail=this.view=-1!=t.findIndex(n=>"AMATAU1"==n.kode),this.view||u().fire("Warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"}),this.activatedRoute.params.subscribe(n=>{n&&(this.type_poli=n.kode,""===this.tableAktif?(this.dtOptions=this.showDataTables(this.btnEdit),this.tableAktif=n.kode):this.tableAktif!==n.kode&&(this.reLoadData(),this.tableAktif=n.kode),this.poli_name="Poli "+this.capitalizeFirstLetter(n.kode))})}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}loadListPoliklinik(){this.daftarPoliklinikService.getByAkunKlinik().subscribe(t=>{this.listPoliklinik=t.response})}ButtonCari(){this.reLoadData()}prosesAntrean(t){this.router.navigate(["perawat","antrean-perawat",this.type_poli,"proses-antrean",t.id_antrian])}prosesAntreanEdit(t){this.router.navigate(["perawat","antrean-perawat",this.type_poli,"proses-antrean","edit",t.id_antrian])}reLoadData(){this.datatableElement.dtInstance.then(t=>{t.ajax.reload()})}showDataTables(t){return this.spinner.show("spinner1"),{pageLength:10,serverSide:!0,processing:!0,order:[[0,"ASC"]],ajax:(n,s)=>{Object.assign(n,{type_poli:this.type_poli}),this.antreanPerawatService.getDataTables(n).subscribe(i=>{s({draw:i.response.draw,recordsTotal:i.response.recordsTotal,recordsFiltered:i.response.recordsFiltered,data:i.response.data}),this.spinner.hide("spinner1")})},columns:[{data:"no_antrian"},{data:"nama"},{data:"nama_sesi"},{data:"proses_antrian"},{data:"status_input_pasien",render:(n,s,i,l)=>"B"==n?"Baru":"Lama"},{data:"tgl_antrian"},{orderable:!1,searchable:!1,render:(n,s,i,l)=>"sudah"==i.proses_antrian?t?'<button class="btn btn-sm btn-secondary edit-antrean-data">Edit Antrean</button>':"":t?'<button class="btn btn-sm btn-orange proses-antrean-data">Proses Antrean</button>':""}],rowCallback:(n,s,i)=>{const l=this;return $("td .proses-antrean-data",n).on("click",()=>{l.prosesAntrean(s)}),$("td .edit-antrean-data",n).on("click",()=>{l.prosesAntreanEdit(s)}),n}}}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(f.n),e.Y36(_.F0),e.Y36(A.t2),e.Y36(_.gz),e.Y36(g.r))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-view"]],viewQuery:function(t,n){if(1&t&&(e.Gf(h.G,5),e.Gf(Z,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.datatableElement=s.first),e.iGM(s=e.CRH())&&(n.id_select_poliklinik=s.first)}},decls:32,vars:8,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","pb-3"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"header"],[1,"body"],["width","100%","datatable","",1,"table","table-sm","table-striped","table-bordered","table-sm",3,"dtOptions"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e._UZ(9,"div",8),e.TgZ(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th"),e._uU(15,"No Antrean"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Nama"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Nama Sesi"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Proses Antrean"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Status Input Pasien"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Tgl Antrean"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Aksi"),e.qZA()()(),e._UZ(28,"tbody"),e.qZA()()()()()(),e.TgZ(29,"ngx-spinner",11)(30,"p",12),e._uU(31," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Perawat")("items",e.DdM(7,v))("active_item","Antrean Perawat "+n.poli_name),e.xp6(2),e.hij("Antrean Perawat ",n.poli_name,""),e.xp6(6),e.Q6J("dtOptions",n.dtOptions),e.xp6(18),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[b.L,h.G,A.Ro],styles:[""]}),a})();var p=d(93075);class P{}var o=d(65620);const N=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] add initial",(0,o.Ky)()),U=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] add success",(0,o.Ky)()),M=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] add failure ",(0,o.Ky)()),w=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] update initial",(0,o.Ky)()),q=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] update success",(0,o.Ky)()),S=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] update failure",(0,o.Ky)()),B=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] get byid initial",(0,o.Ky)()),j=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] get byid success",(0,o.Ky)()),O=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] get byid failure",(0,o.Ky)()),K=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] delete initial",(0,o.Ky)()),Y=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] delete success",(0,o.Ky)()),G=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] delete failure",(0,o.Ky)()),W=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] clear data "),ce=(0,o.PH)("[PROSES_ANTREAN_PERAWAT] table data");var Q=d(88544),H=d(31391),L=d(24376);function _e(a,r){1&a&&(e.TgZ(0,"div",54),e._uU(1," Keluhan tidak boleh kosong "),e.qZA())}function he(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"tr",55),e.ynx(1,56),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td")(5,"input",57),e.NdJ("focus",function(){return e.CHM(t),e.oxw().setTime()}),e.qZA()(),e.TgZ(6,"td")(7,"button",58),e.NdJ("click",function(){const i=e.CHM(t).index;return e.oxw().hapusTindakanMedis(i)}),e._uU(8,"Hapus"),e.qZA()(),e.BQk(),e.qZA()}if(2&a){const t=r.$implicit,n=r.index;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Oqu(t.value.nama_tindakan)}}function fe(a,r){if(1&a&&(e.TgZ(0,"ul")(1,"li"),e._uU(2),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.AsE("",t.field," : ",t.message,"")}}function Te(a,r){if(1&a&&(e.TgZ(0,"div",59),e._uU(1),e.YNc(2,fe,3,2,"ul",60),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage.metaData.message," "),e.xp6(1),e.Q6J("ngForOf",t.errorMessage.response)}}const ge=function(){return["Antrean Perawat"]},Ae=function(){return{standalone:!0}},be=function(a,r){return{"fa-spin fa-spinner pulse":a,"fa-check":r}};let Ze=(()=>{class a{constructor(t,n,s,i,l,C,y,I,F){this.activatedRoute=t,this.fb=n,this.router=s,this.el=i,this.validate=l,this.spinner=C,this.tindakanMedisUmumService=y,this.store=I,this.antreanPerawatService=F,this.tabPane={pane1:!0,pane2:!1,pane3:!1},this.type_poli="",this.poli_name="",this.prosesAntrean=new P,this.submitted=!1,this.time_input=null,this.time=!1,this.listTindakanMedis=[],this.loadingTindakanMedis=!1,this.paramTindakanMedis={last_data:0,get_data:10,search:""},this.getState=this.store.select("perawat_prosesAntreanPerawat")}ngOnInit(){this.store.dispatch(W()),this.activatedRoute.params.subscribe(t=>{t&&(this.type_poli=t.kode,this.idAntrean=t.id,this.poli_name="Poli "+this.capitalizeFirstLetter(t.kode))}),this.getState.subscribe(t=>{this.prosesAntrean=t.prosesAntrean,this.errorMessage=t.errorMessage,this.submitButton=t.submitButton,this.isLoadingButton=t.isLoadingButton}),this.formTambah=this.fb.group({nama_pasien:["",[]],catatan_khusus:["",[]],alergi:["",[]],hambatan:["",[]],keluhan:["",[p.kI.required]],sistole:["",[]],diastole:["",[]],tindakan_medis:this.fb.array([]),suhu:["",[]],hr:["",[]],status_hr:["teratur",[]],rr:["",[]],keterangan_rr:["",[]],tb:["",[]],bb:["",[]]}),this.loadNamaPasien()}addTindakanMedis(){if(""!=this.idTindakanMedis){let t=this.listTindakanMedis.findIndex((n,s)=>n.id_tindakan_medis==this.idTindakanMedis);if(t>=0){let n=this.listTindakanMedis[t];this.formTambah.controls.tindakan_medis.value.findIndex((i,l)=>i.id_tindakan_medis==n.id_tindakan_medis)>=0?u().fire("Warning","sepertinya anda sudah menambahkan data ini","warning"):(this.formTambah.controls.tindakan_medis.push(this.fb.group({id_tindakan_medis:[n.id_tindakan_medis],nama_tindakan:[n.nama_tindakan],keterangan:[""],id_akun_pelaksana:[""]})),this.idTindakanMedis=null)}}}prosesSelectTindakanMedis(t,n){this.loadingTindakanMedis=!0;let s=this.paramTindakanMedis;"search"==n?(this.listTindakanMedis=[],this.paramTindakanMedis.search=t.term,this.paramTindakanMedis.last_data=0):this.paramTindakanMedis.search="",this.paramTindakanMedis.last_data="last_page"==n?this.paramTindakanMedis.last_data+this.paramTindakanMedis.get_data:0,this.tindakanMedisUmumService.prosesSelectOption(s,n).subscribe(i=>{this.loadingTindakanMedis=!1,i&&(0==this.listTindakanMedis.length?this.listTindakanMedis=i.response:i.response.map(l=>{this.listTindakanMedis.findIndex(y=>y.id_tindakan_medis==l.id_tindakan_medis)<0&&this.listTindakanMedis.push(l)}))})}setTime(){this.time||(this.time=!0,this.time_input=(new Date).getTime())}isNumber(t){return this.validate.Number(t)}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}loadNamaPasien(){""!=this.idAntrean&&this.antreanPerawatService.getByIdAntreanPasien(this.idAntrean).subscribe(t=>{this.formTambah.patchValue({nama_pasien:t.response.nama})})}hapusTindakanMedis(t){this.formTambah.get("tindakan_medis").removeAt(t)}SubmitForm(){if(this.submitted=!1,setTimeout(()=>{this.submitted=!0},200),this.formTambah.invalid){for(const n of Object.keys(this.formTambah.controls))if(this.formTambah.controls[n].invalid){this.el.nativeElement.querySelector('[formcontrolname="'+n+'"]').focus();break}return}this.spinner.show("spinner1");let t=new P;t.id_antrian=this.idAntrean,t.tindakan_medis=this.formTambah.value.tindakan_medis,t.catatan_khusus=this.formTambah.value.catatan_khusus,t.alergi=this.formTambah.value.alergi,t.hambatan=this.formTambah.value.hambatan,t.keluhan=this.formTambah.value.keluhan,t.sistole=this.formTambah.value.sistole,t.diastole=this.formTambah.value.diastole,t.suhu=this.formTambah.value.suhu,t.hr=this.formTambah.value.hr,t.status_hr=this.formTambah.value.status_hr,t.rr=this.formTambah.value.rr,t.keterangan_rr=this.formTambah.value.keterangan_rr,t.tb=this.formTambah.value.tb,t.bb=this.formTambah.value.bb,t.time_input=this.time_input,this.store.dispatch(N({payload:t,kode_poli:this.type_poli})),setTimeout(()=>{this.spinner.hide("spinner1")},400)}buttonKembali(){this.router.navigate(["perawat","antrean-perawat",this.type_poli,"view"])}ShowTabPane(t){1==t?(this.tabPane.pane1=!0,this.tabPane.pane2=!1,this.tabPane.pane3=!1):2==t&&(this.tabPane.pane1=!1,this.tabPane.pane2=!0,this.tabPane.pane3=!1)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(_.gz),e.Y36(p.qu),e.Y36(_.F0),e.Y36(e.SBq),e.Y36(Q.p),e.Y36(A.t2),e.Y36(H.G),e.Y36(o.yh),e.Y36(f.n))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-proses-antrean"]],decls:155,vars:27,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-4"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[3,"formGroup","submit"],[1,"body"],[1,"mb-3","col-sm-12"],[1,"form-label","fw-bold"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-user-alt"],["readonly","","type","text","formControlName","nama_pasien",1,"form-control",3,"focus"],["type","text","formControlName","alergi","placeholder","Alergi",1,"form-control",3,"focus"],["cols","5","rows","3","formControlName","catatan_khusus",1,"form-control",3,"focus"],["type","text","formControlName","hambatan","placeholder","Hambatan",1,"form-control",3,"focus"],[1,"text-danger"],["cols","5","rows","3","formControlName","keluhan",1,"form-control",3,"focus"],["class","form-text text-danger",4,"ngIf"],["type","text","formControlName","sistole","placeholder","Tekanan Darah Sistole",1,"form-control",3,"focus","keypress"],["type","text","formControlName","diastole","placeholder","Tekanan Darah Diastole",1,"form-control",3,"focus","keypress"],["type","text","formControlName","suhu","placeholder","Suhu Badan",1,"form-control",3,"focus","keypress"],["type","text","formControlName","rr",1,"form-control",3,"focus","keypress"],["type","text","formControlName","keterangan_rr",1,"form-control",3,"focus"],["type","text","formControlName","hr",1,"form-control",3,"focus","keypress"],["formControlName","status_hr",1,"form-select",3,"focus"],["value","teratur"],["value","tidak_teratur"],["type","text","formControlName","tb","placeholder","Tinggi Badan",1,"form-control",3,"focus","keypress"],["type","text","formControlName","bb","placeholder","Berat Badan",1,"form-control",3,"focus","keypress"],[1,"card","text-dark","mb-3"],[1,"card-header"],[1,"card-body"],[1,"row","mb-1"],[1,"col-sm-3","col-form-label"],[1,"col-sm-7"],["bindLabel","nama_tindakan","bindValue","id_tindakan_medis","placeholder","Pilih Tindakan",2,"flex","1 1 auto",3,"virtualScroll","items","loading","searchable","ngModel","ngModelOptions","clearable","focus","ngModelChange","search","scrollToEnd","open"],[1,"col-sm-1"],["type","button",1,"btn","btn-tambah","btn-sm",3,"click"],[1,"fa","fa-plus-circle"],["width","100%",1,"table"],["formArrayName","tindakan_medis",4,"ngFor","ngForOf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"footer"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-kembali","btn-lg",3,"disabled","click"],[1,"fa","fa-arrow-circle-left"],["type","submit","color","primary",1,"btn","btn-simpan","btn-lg",3,"disabled"],[1,"fa",3,"ngClass"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[1,"form-text","text-danger"],["formArrayName","tindakan_medis"],[3,"formGroupName"],["type","text","formControlName","keterangan","placeholder","keterangan",1,"form-control",3,"focus"],["type","button",1,"btn","btn-hapus","btn-sm",3,"click"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"form",8),e.NdJ("submit",function(){return n.SubmitForm()}),e.TgZ(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13,"Nama Pasien"),e.qZA(),e.TgZ(14,"div",12)(15,"span",13),e._UZ(16,"i",14),e.qZA(),e.TgZ(17,"input",15),e.NdJ("focus",function(){return n.setTime()}),e.qZA()()(),e.TgZ(18,"div",10)(19,"label",11),e._uU(20,"Alergi"),e.qZA(),e.TgZ(21,"div",12)(22,"span",13),e._UZ(23,"i",14),e.qZA(),e.TgZ(24,"input",16),e.NdJ("focus",function(){return n.setTime()}),e.qZA()()(),e.TgZ(25,"div",10)(26,"label",11),e._uU(27,"Catatan Khusus"),e.qZA(),e.TgZ(28,"div",12)(29,"span",13),e._UZ(30,"i",14),e.qZA(),e.TgZ(31,"textarea",17),e.NdJ("focus",function(){return n.setTime()}),e.qZA()()(),e.TgZ(32,"div",10)(33,"label",11),e._uU(34,"Hambatan"),e.qZA(),e.TgZ(35,"div",12)(36,"span",13),e._UZ(37,"i",14),e.qZA(),e.TgZ(38,"input",18),e.NdJ("focus",function(){return n.setTime()}),e.qZA()()(),e.TgZ(39,"div",10)(40,"label",11),e._uU(41,"Keluhan "),e.TgZ(42,"span",19),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"div",12)(45,"span",13),e._UZ(46,"i",14),e.qZA(),e.TgZ(47,"textarea",20),e.NdJ("focus",function(){return n.setTime()}),e.qZA()(),e.YNc(48,_e,2,0,"div",21),e.qZA(),e._UZ(49,"hr"),e.TgZ(50,"div",10)(51,"label",11),e._uU(52,"Tekanan Darah Sistole"),e.qZA(),e.TgZ(53,"div",12)(54,"span",13),e._UZ(55,"i",14),e.qZA(),e.TgZ(56,"input",22),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA()()(),e.TgZ(57,"div",10)(58,"label",11),e._uU(59,"Tekanan Darah Diastole"),e.qZA(),e.TgZ(60,"div",12)(61,"span",13),e._UZ(62,"i",14),e.qZA(),e.TgZ(63,"input",23),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA()()(),e.TgZ(64,"div",10)(65,"label",11),e._uU(66,"Suhu Badan"),e.qZA(),e.TgZ(67,"div",12)(68,"span",13),e._UZ(69,"i",14),e.qZA(),e.TgZ(70,"input",24),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA(),e.TgZ(71,"span",13),e._uU(72,"\xb0C"),e.qZA()()(),e.TgZ(73,"div",10)(74,"label",11),e._uU(75,"RR"),e.qZA(),e.TgZ(76,"div",12)(77,"span",13),e._UZ(78,"i",14),e.qZA(),e.TgZ(79,"input",25),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA(),e.TgZ(80,"span",13),e._uU(81," X/Menit "),e.qZA(),e.TgZ(82,"input",26),e.NdJ("focus",function(){return n.setTime()}),e.qZA(),e.TgZ(83,"span",13),e._uU(84," Keterangan "),e.qZA()()(),e.TgZ(85,"div",10)(86,"label",11),e._uU(87,"HR"),e.qZA(),e.TgZ(88,"div",12)(89,"span",13),e._UZ(90,"i",14),e.qZA(),e.TgZ(91,"input",27),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA(),e.TgZ(92,"span",13),e._uU(93," X/Menit "),e.qZA(),e.TgZ(94,"select",28),e.NdJ("focus",function(){return n.setTime()}),e.TgZ(95,"option",29),e._uU(96,"Teratur"),e.qZA(),e.TgZ(97,"option",30),e._uU(98,"Tidak Teratur"),e.qZA()(),e.TgZ(99,"span",13),e._uU(100," Frekuensi "),e.qZA()()(),e.TgZ(101,"div",10)(102,"label",11),e._uU(103,"TB"),e.qZA(),e.TgZ(104,"div",12)(105,"span",13),e._UZ(106,"i",14),e.qZA(),e.TgZ(107,"input",31),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA(),e.TgZ(108,"span",13),e._uU(109," Cm "),e.qZA()()(),e.TgZ(110,"div",10)(111,"label",11),e._uU(112,"BB"),e.qZA(),e.TgZ(113,"div",12)(114,"span",13),e._UZ(115,"i",14),e.qZA(),e.TgZ(116,"input",32),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA(),e.TgZ(117,"span",13),e._uU(118," Kg "),e.qZA()()(),e.TgZ(119,"div",33)(120,"div",34),e._uU(121,"TINDAKAN MEDIS"),e.qZA(),e.TgZ(122,"div",35)(123,"div",36)(124,"label",37),e._uU(125,"TINDAKAN"),e.qZA(),e.TgZ(126,"div",38)(127,"ng-select",39),e.NdJ("focus",function(){return n.setTime()})("ngModelChange",function(i){return n.idTindakanMedis=i})("search",function(i){return n.prosesSelectTindakanMedis(i,"search")})("scrollToEnd",function(i){return n.prosesSelectTindakanMedis(i,"last_page")})("open",function(i){return n.prosesSelectTindakanMedis(i,"open")}),e.qZA()(),e.TgZ(128,"div",40)(129,"button",41),e.NdJ("click",function(){return n.addTindakanMedis()}),e._UZ(130,"i",42),e.qZA()()(),e._UZ(131,"hr"),e.TgZ(132,"table",43)(133,"thead")(134,"tr")(135,"th"),e._uU(136,"Tindakan"),e.qZA(),e.TgZ(137,"th"),e._uU(138,"Keterangan"),e.qZA(),e.TgZ(139,"th"),e._uU(140,"Aksi"),e.qZA()()(),e.TgZ(141,"tbody"),e.YNc(142,he,9,2,"tr",44),e.qZA()()()(),e.YNc(143,Te,3,2,"div",45),e.qZA(),e.TgZ(144,"div",46)(145,"div",47)(146,"button",48),e.NdJ("click",function(){return n.buttonKembali()}),e._UZ(147,"i",49),e._uU(148," Kembali "),e.qZA(),e.TgZ(149,"button",50),e._UZ(150,"i",51),e._uU(151," Lanjutkan Antrean "),e.qZA()()()()()()()(),e.TgZ(152,"ngx-spinner",52)(153,"p",53),e._uU(154," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Perawat")("items",e.DdM(22,ge))("active_item","Proses Antrean Perawat "+n.poli_name),e.xp6(2),e.hij("Proses Antrean Perawat ",n.poli_name,""),e.xp6(4),e.Q6J("formGroup",n.formTambah),e.xp6(38),e.ekj("border-danger",n.formTambah.controls.keluhan.hasError("required")&&n.submitted),e.xp6(1),e.Q6J("ngIf",n.formTambah.controls.keluhan.hasError("required")&&n.submitted),e.xp6(79),e.Q6J("virtualScroll",!0)("items",n.listTindakanMedis)("loading",n.loadingTindakanMedis)("searchable",!0)("ngModel",n.idTindakanMedis)("ngModelOptions",e.DdM(23,Ae))("clearable",!0),e.xp6(15),e.Q6J("ngForOf",n.formTambah.get("tindakan_medis").controls),e.xp6(1),e.Q6J("ngIf",null!=n.errorMessage),e.xp6(3),e.Q6J("disabled",n.isLoadingButton),e.xp6(3),e.Q6J("disabled",n.isLoadingButton),e.xp6(1),e.Q6J("ngClass",e.WLB(24,be,n.isLoadingButton,!n.isLoadingButton)),e.xp6(2),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[b.L,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,T.O5,p.EJ,p.YN,p.Kr,L.w9,p.On,T.sg,p.CE,p.x0,T.mk,A.Ro],styles:[""]}),a})();var ke=d(15861);function ve(a,r){1&a&&(e.TgZ(0,"div",53),e._uU(1," Keluhan tidak boleh kosong "),e.qZA())}function Pe(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"tr",54),e.ynx(1,55),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td")(5,"input",56),e.NdJ("focus",function(){return e.CHM(t),e.oxw().setTime()}),e.qZA()(),e.TgZ(6,"td")(7,"button",57),e.NdJ("click",function(){const i=e.CHM(t).index;return e.oxw().hapusTindakanMedis(i)}),e._uU(8,"Hapus"),e.qZA()(),e.BQk(),e.qZA()}if(2&a){const t=r.$implicit,n=r.index;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Oqu(t.value.nama_tindakan)}}function ye(a,r){if(1&a&&(e.TgZ(0,"ul")(1,"li"),e._uU(2),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.AsE("",t.field," : ",t.message,"")}}function Ce(a,r){if(1&a&&(e.TgZ(0,"div",58),e._uU(1),e.YNc(2,ye,3,2,"ul",59),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage.metaData.message," "),e.xp6(1),e.Q6J("ngForOf",t.errorMessage.response)}}const Ee=function(){return["Antrean Perawat"]},Ne=function(){return{standalone:!0}},Ue=function(a,r){return{"fa-spin fa-spinner pulse":a,"fa-check":r}},Me=[{path:"",redirectTo:"view",pathMatch:"full"},{path:":kode/view",component:V},{path:":kode/proses-antrean/:id",component:Ze},{path:":kode/proses-antrean/edit/:id",component:(()=>{class a{constructor(t,n,s,i,l,C,y,I,F){this.activatedRoute=t,this.fb=n,this.router=s,this.el=i,this.validate=l,this.spinner=C,this.store=y,this.tindakanMedisUmumService=I,this.antreanPerawatService=F,this.type_poli="",this.poli_name="",this.prosesAntrean=new P,this.submitted=!1,this.time=!1,this.listTindakanMedis=[],this.loadingTindakanMedis=!1,this.paramTindakanMedis={last_data:0,get_data:10,search:""},this.getState=this.store.select("perawat_prosesAntreanPerawat")}ngOnInit(){var t=this;this.spinner.show("spinner1"),this.activatedRoute.params.subscribe(n=>{n&&(this.type_poli=n.kode,this.idAntrean=n.id,this.store.dispatch(B({payload:{id:n.id}})),this.poli_name="Poli "+this.capitalizeFirstLetter(n.kode))}),this.formTambah=this.fb.group({nama_pasien:["",[]],catatan_khusus:["",[]],alergi:["",[]],hambatan:["",[]],keluhan:["",[p.kI.required]],sistole:["",[]],diastole:["",[]],tindakan_medis:this.fb.array([]),suhu:["",[]],hr:["",[]],status_hr:["teratur",[]],rr:["",[]],keterangan_rr:["",[]],tb:["",[]],bb:["",[]]}),this.getState.subscribe(function(){var n=(0,ke.Z)(function*(s){if(t.prosesAntrean=s.prosesAntrean,t.errorMessage=s.errorMessage,t.submitButton=s.submitButton,t.isLoadingButton=s.isLoadingButton,t.isEdit=s.isEdit,!0===t.isEdit){t.formTambah.patchValue({catatan_khusus:t.prosesAntrean.catatan_khusus,alergi:t.prosesAntrean.alergi,hambatan:t.prosesAntrean.hambatan,keluhan:t.prosesAntrean.keluhan,sistole:t.prosesAntrean.sistole,diastole:t.prosesAntrean.diastole,suhu:t.prosesAntrean.suhu,hr:t.prosesAntrean.hr,status_hr:t.prosesAntrean.status_hr,rr:t.prosesAntrean.rr,keterangan_rr:t.prosesAntrean.keterangan_rr,tb:t.prosesAntrean.tb,bb:t.prosesAntrean.bb});let i=t.formTambah.controls.tindakan_medis;i.clear(),t.prosesAntrean.tindakan_medis.length>0&&t.prosesAntrean.tindakan_medis.map(l=>{i.push(t.fb.group({id_tindakan_medis:[l.id_tindakan_medis],nama_tindakan:[l.nama_tindakan],keterangan:[l.keterangan],id_akun_pelaksana:[l.id_pelaksana_medis_tindakan]}))})}});return function(s){return n.apply(this,arguments)}}()),this.loadNamaPasien()}hapusTindakanMedis(t){this.formTambah.get("tindakan_medis").removeAt(t)}loadNamaPasien(){""!=this.idAntrean&&this.antreanPerawatService.getByIdAntreanPasien(this.idAntrean).subscribe(t=>{this.spinner.hide("spinner1"),this.formTambah.patchValue({nama_pasien:t.response.nama})})}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}buttonKembali(){this.router.navigate(["perawat","antrean-perawat",this.type_poli,"view"])}addTindakanMedis(){if(""!=this.idTindakanMedis){let t=this.listTindakanMedis.findIndex((n,s)=>n.id_tindakan_medis==this.idTindakanMedis);if(t>=0){let n=this.listTindakanMedis[t];this.formTambah.controls.tindakan_medis.value.findIndex((i,l)=>i.id_tindakan_medis==n.id_tindakan_medis)>=0?u().fire("Warning","sepertinya anda sudah menambahkan data ini","warning"):(this.formTambah.controls.tindakan_medis.push(this.fb.group({id_tindakan_medis:[n.id_tindakan_medis],nama_tindakan:[n.nama_tindakan],keterangan:[""],id_akun_pelaksana:[""]})),this.idTindakanMedis=null)}}}prosesSelectTindakanMedis(t,n){this.loadingTindakanMedis=!0;let s=this.paramTindakanMedis;"search"==n?(this.listTindakanMedis=[],this.paramTindakanMedis.search=t.term,this.paramTindakanMedis.last_data=0):this.paramTindakanMedis.search="",this.paramTindakanMedis.last_data="last_page"==n?this.paramTindakanMedis.last_data+this.paramTindakanMedis.get_data:0,this.tindakanMedisUmumService.prosesSelectOption(s,n).subscribe(i=>{this.loadingTindakanMedis=!1,i&&(0==this.listTindakanMedis.length?this.listTindakanMedis=i.response:i.response.map(l=>{this.listTindakanMedis.findIndex(y=>y.id_tindakan_medis==l.id_tindakan_medis)<0&&this.listTindakanMedis.push(l)}))})}setTime(){this.time||(this.time=!0,this.time_input=(new Date).getTime())}isNumber(t){return this.validate.Number(t)}SubmitForm(){if(this.submitted=!1,setTimeout(()=>{this.submitted=!0},200),this.formTambah.invalid){for(const n of Object.keys(this.formTambah.controls))if(this.formTambah.controls[n].invalid){this.el.nativeElement.querySelector('[formcontrolname="'+n+'"]').focus();break}return}this.spinner.show("spinner1");let t=new P;t.id_tindakan_perawat=this.prosesAntrean.id_tindakan_perawat,t.tindakan_medis=this.formTambah.value.tindakan_medis,t.id_antrian=this.idAntrean,t.catatan_khusus=this.formTambah.value.catatan_khusus,t.alergi=this.formTambah.value.alergi,t.hambatan=this.formTambah.value.hambatan,t.keluhan=this.formTambah.value.keluhan,t.sistole=this.formTambah.value.sistole,t.diastole=this.formTambah.value.diastole,t.suhu=this.formTambah.value.suhu,t.hr=this.formTambah.value.hr,t.status_hr=this.formTambah.value.status_hr,t.rr=this.formTambah.value.rr,t.keterangan_rr=this.formTambah.value.keterangan_rr,t.tb=this.formTambah.value.tb,t.bb=this.formTambah.value.bb,t.time_input=null==this.time_input?(new Date).getTime():this.time_input,this.store.dispatch(w({payload:t,kode_poli:this.type_poli})),setTimeout(()=>{this.spinner.hide("spinner1")},400)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(_.gz),e.Y36(p.qu),e.Y36(_.F0),e.Y36(e.SBq),e.Y36(Q.p),e.Y36(A.t2),e.Y36(o.yh),e.Y36(H.G),e.Y36(f.n))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-proses-antrean-edit"]],decls:153,vars:27,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-4"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[3,"formGroup","submit"],[1,"body"],[1,"mb-3","col-sm-12"],[1,"form-label","fw-bold"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-user-alt"],["type","text","readonly","","formControlName","nama_pasien",1,"form-control",3,"focus"],["type","text","formControlName","alergi","placeholder","Alergi",1,"form-control",3,"focus"],["cols","3","rows","3","formControlName","catatan_khusus",1,"form-control",3,"focus"],["type","text","formControlName","hambatan","placeholder","Hambatan",1,"form-control",3,"focus"],["cols","5","rows","3","formControlName","keluhan",1,"form-control",3,"focus"],["class","form-text text-danger",4,"ngIf"],["type","text","formControlName","sistole","placeholder","Tekanan Darah Sistole",1,"form-control",3,"keypress","focus"],["type","text","formControlName","diastole","placeholder","Tekanan Darah Diastole",1,"form-control",3,"focus","keypress"],["type","nmber","formControlName","suhu","placeholder","Suhu Badan",1,"form-control",3,"focus","keypress"],["type","text","formControlName","rr",1,"form-control",3,"keypress","focus"],["type","text","formControlName","keterangan_rr",1,"form-control",3,"focus"],["type","text","formControlName","hr",1,"form-control",3,"keypress","focus"],["formControlName","status_hr",1,"form-select",3,"focus"],["value","teratur"],["value","tidak_teratur"],["type","text","formControlName","tb","placeholder","Tinggi Badan",1,"form-control",3,"keypress","focus"],["type","text","formControlName","bb","placeholder","Berat Badan",1,"form-control",3,"focus","keypress"],[1,"card","text-dark","mb-3"],[1,"card-header"],[1,"card-body"],[1,"row","mb-1"],[1,"col-sm-3","col-form-label"],[1,"col-sm-7"],["bindLabel","nama_tindakan","bindValue","id_tindakan_medis","placeholder","Pilih Tindakan",2,"flex","1 1 auto",3,"virtualScroll","items","loading","searchable","ngModel","ngModelOptions","clearable","focus","ngModelChange","search","scrollToEnd","open"],[1,"col-sm-1"],["type","button",1,"btn","btn-tambah","btn-sm",3,"click"],[1,"fa","fa-plus-circle"],["width","100%",1,"table"],["formArrayName","tindakan_medis",4,"ngFor","ngForOf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"footer"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-kembali","btn-lg",3,"disabled","click"],[1,"fa","fa-arrow-circle-left"],["type","submit","color","primary",1,"btn","btn-simpan","btn-lg",3,"disabled"],[1,"fa",3,"ngClass"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[1,"form-text","text-danger"],["formArrayName","tindakan_medis"],[3,"formGroupName"],["type","text","formControlName","keterangan","placeholder","keterangan",1,"form-control",3,"focus"],["type","button",1,"btn","btn-hapus","btn-sm",3,"click"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"form",8),e.NdJ("submit",function(){return n.SubmitForm()}),e.TgZ(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13,"Nama Pasien"),e.qZA(),e.TgZ(14,"div",12)(15,"span",13),e._UZ(16,"i",14),e.qZA(),e.TgZ(17,"input",15),e.NdJ("focus",function(){return n.setTime()}),e.qZA()()(),e.TgZ(18,"div",10)(19,"label",11),e._uU(20,"Alergi"),e.qZA(),e.TgZ(21,"div",12)(22,"span",13),e._UZ(23,"i",14),e.qZA(),e.TgZ(24,"input",16),e.NdJ("focus",function(){return n.setTime()}),e.qZA()()(),e.TgZ(25,"div",10)(26,"label",11),e._uU(27,"Catatan Khusus"),e.qZA(),e.TgZ(28,"div",12)(29,"span",13),e._UZ(30,"i",14),e.qZA(),e.TgZ(31,"textarea",17),e.NdJ("focus",function(){return n.setTime()}),e.qZA()()(),e.TgZ(32,"div",10)(33,"label",11),e._uU(34,"Hambatan"),e.qZA(),e.TgZ(35,"div",12)(36,"span",13),e._UZ(37,"i",14),e.qZA(),e.TgZ(38,"input",18),e.NdJ("focus",function(){return n.setTime()}),e.qZA()()(),e.TgZ(39,"div",10)(40,"label",11),e._uU(41,"Keluhan"),e.qZA(),e.TgZ(42,"div",12)(43,"span",13),e._UZ(44,"i",14),e.qZA(),e.TgZ(45,"textarea",19),e.NdJ("focus",function(){return n.setTime()}),e.qZA()(),e.YNc(46,ve,2,0,"div",20),e.qZA(),e._UZ(47,"hr"),e.TgZ(48,"div",10)(49,"label",11),e._uU(50,"Tekanan Darah Sistole"),e.qZA(),e.TgZ(51,"div",12)(52,"span",13),e._UZ(53,"i",14),e.qZA(),e.TgZ(54,"input",21),e.NdJ("keypress",function(i){return n.isNumber(i)})("focus",function(){return n.setTime()}),e.qZA()()(),e.TgZ(55,"div",10)(56,"label",11),e._uU(57,"Tekanan Darah Diastole"),e.qZA(),e.TgZ(58,"div",12)(59,"span",13),e._UZ(60,"i",14),e.qZA(),e.TgZ(61,"input",22),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA()()(),e.TgZ(62,"div",10)(63,"label",11),e._uU(64,"Suhu Badan"),e.qZA(),e.TgZ(65,"div",12)(66,"span",13),e._UZ(67,"i",14),e.qZA(),e.TgZ(68,"input",23),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA(),e.TgZ(69,"span",13),e._uU(70,"\xb0C"),e.qZA()()(),e.TgZ(71,"div",10)(72,"label",11),e._uU(73,"RR"),e.qZA(),e.TgZ(74,"div",12)(75,"span",13),e._UZ(76,"i",14),e.qZA(),e.TgZ(77,"input",24),e.NdJ("keypress",function(i){return n.isNumber(i)})("focus",function(){return n.setTime()}),e.qZA(),e.TgZ(78,"span",13),e._uU(79," X/Menit "),e.qZA(),e.TgZ(80,"input",25),e.NdJ("focus",function(){return n.setTime()}),e.qZA(),e.TgZ(81,"span",13),e._uU(82," Keterangan "),e.qZA()()(),e.TgZ(83,"div",10)(84,"label",11),e._uU(85,"HR"),e.qZA(),e.TgZ(86,"div",12)(87,"span",13),e._UZ(88,"i",14),e.qZA(),e.TgZ(89,"input",26),e.NdJ("keypress",function(i){return n.isNumber(i)})("focus",function(){return n.setTime()}),e.qZA(),e.TgZ(90,"span",13),e._uU(91," X/Menit "),e.qZA(),e.TgZ(92,"select",27),e.NdJ("focus",function(){return n.setTime()}),e.TgZ(93,"option",28),e._uU(94,"Teratur"),e.qZA(),e.TgZ(95,"option",29),e._uU(96,"Tidak Teratur"),e.qZA()(),e.TgZ(97,"span",13),e._uU(98," Frekuensi "),e.qZA()()(),e.TgZ(99,"div",10)(100,"label",11),e._uU(101,"TB"),e.qZA(),e.TgZ(102,"div",12)(103,"span",13),e._UZ(104,"i",14),e.qZA(),e.TgZ(105,"input",30),e.NdJ("keypress",function(i){return n.isNumber(i)})("focus",function(){return n.setTime()}),e.qZA(),e.TgZ(106,"span",13),e._uU(107," Cm "),e.qZA()()(),e.TgZ(108,"div",10)(109,"label",11),e._uU(110,"BB"),e.qZA(),e.TgZ(111,"div",12)(112,"span",13),e._UZ(113,"i",14),e.qZA(),e.TgZ(114,"input",31),e.NdJ("focus",function(){return n.setTime()})("keypress",function(i){return n.isNumber(i)}),e.qZA(),e.TgZ(115,"span",13),e._uU(116," Kg "),e.qZA()()(),e.TgZ(117,"div",32)(118,"div",33),e._uU(119,"TINDAKAN MEDIS"),e.qZA(),e.TgZ(120,"div",34)(121,"div",35)(122,"label",36),e._uU(123,"TINDAKAN"),e.qZA(),e.TgZ(124,"div",37)(125,"ng-select",38),e.NdJ("focus",function(){return n.setTime()})("ngModelChange",function(i){return n.idTindakanMedis=i})("search",function(i){return n.prosesSelectTindakanMedis(i,"search")})("scrollToEnd",function(i){return n.prosesSelectTindakanMedis(i,"last_page")})("open",function(i){return n.prosesSelectTindakanMedis(i,"open")}),e.qZA()(),e.TgZ(126,"div",39)(127,"button",40),e.NdJ("click",function(){return n.addTindakanMedis()}),e._UZ(128,"i",41),e.qZA()()(),e._UZ(129,"hr"),e.TgZ(130,"table",42)(131,"thead")(132,"tr")(133,"th"),e._uU(134,"Tindakan"),e.qZA(),e.TgZ(135,"th"),e._uU(136,"Keterangan"),e.qZA(),e.TgZ(137,"th"),e._uU(138,"Aksi"),e.qZA()()(),e.TgZ(139,"tbody"),e.YNc(140,Pe,9,2,"tr",43),e.qZA()()()(),e.YNc(141,Ce,3,2,"div",44),e.qZA(),e.TgZ(142,"div",45)(143,"div",46)(144,"button",47),e.NdJ("click",function(){return n.buttonKembali()}),e._UZ(145,"i",48),e._uU(146," Kembali "),e.qZA(),e.TgZ(147,"button",49),e._UZ(148,"i",50),e._uU(149," Lanjutkan Antrean "),e.qZA()()()()()()()(),e.TgZ(150,"ngx-spinner",51)(151,"p",52),e._uU(152," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Perawat")("items",e.DdM(22,Ee))("active_item","Edit Antrean Perawat "+n.poli_name),e.xp6(2),e.hij("Edit Antrean Perawat ",n.poli_name,""),e.xp6(4),e.Q6J("formGroup",n.formTambah),e.xp6(36),e.ekj("border-danger",n.formTambah.controls.keluhan.hasError("required")&&n.submitted),e.xp6(1),e.Q6J("ngIf",n.formTambah.controls.keluhan.hasError("required")&&n.submitted),e.xp6(79),e.Q6J("virtualScroll",!0)("items",n.listTindakanMedis)("loading",n.loadingTindakanMedis)("searchable",!0)("ngModel",n.idTindakanMedis)("ngModelOptions",e.DdM(23,Ne))("clearable",!0),e.xp6(15),e.Q6J("ngForOf",n.formTambah.get("tindakan_medis").controls),e.xp6(1),e.Q6J("ngIf",null!=n.errorMessage),e.xp6(3),e.Q6J("disabled",n.isLoadingButton),e.xp6(3),e.Q6J("disabled",n.isLoadingButton),e.xp6(1),e.Q6J("ngClass",e.WLB(24,Ue,n.isLoadingButton,!n.isLoadingButton)),e.xp6(2),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[b.L,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,T.O5,p.EJ,p.YN,p.Kr,L.w9,p.On,T.sg,p.CE,p.x0,T.mk,A.Ro],styles:[""]}),a})()}];let we=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[_.Bz.forChild(Me)],_.Bz]}),a})();var qe=d(60795),c=d(36642),J=d(63900),R=d(54004),D=d(70262),z=d(18505),x=d(39646),Se=d(89955),Be=d(76334),Oe=d(40520);let Le=(()=>{class a{constructor(t,n){this.generalService=t,this.http=n,this.urlBaseName="tindakan-perawat",this.URL_MODULE=this.generalService.getUrlModule(Se.s.url_module.perawat)}insert(t){return this.http.post(this.URL_MODULE+"/"+this.urlBaseName+"/create",t)}show(t){return this.http.get(this.URL_MODULE+"/"+this.urlBaseName+"/get-byid-antrian/"+t)}update(t,n){return this.http.put(this.URL_MODULE+"/"+this.urlBaseName+"/update/"+n,t)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(Be.m),e.LFG(Oe.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Je=(()=>{class a{constructor(t,n,s){this.actions$=t,this.prosesAntreanPerawatService=n,this.router=s,this.addInitial$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(N),(0,J.w)(i=>this.prosesAntreanPerawatService.insert(i.payload).pipe((0,R.U)(l=>U({payload:l.response,kode_poli:i.kode_poli})),(0,D.K)(l=>(0,x.of)(M({message:l}))))))),this.addSuccess$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(U),(0,z.b)(i=>{u().fire({title:"Data berhasil disimpan",icon:"success",showCancelButton:!1,allowOutsideClick:!1,confirmButtonText:"Ya, lanjutkan!"}).then(l=>{this.router.navigate(["perawat","antrean-perawat",i.kode_poli,"view"])})})),{dispatch:!1}),this.addFailure$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(M)),{dispatch:!1}),this.updateInitial$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(w),(0,J.w)(i=>this.prosesAntreanPerawatService.update(i.payload,i.payload.id_tindakan_perawat).pipe((0,R.U)(l=>q({payload:l.response,kode_poli:i.kode_poli})),(0,D.K)(l=>(0,x.of)(S({message:l}))))))),this.updateSuccess$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(q),(0,z.b)(i=>{u().fire({title:"Data berhasil disimpan",icon:"success",showCancelButton:!1,allowOutsideClick:!1,confirmButtonText:"Ya, lanjutkan!"}).then(l=>{this.router.navigate(["perawat","antrean-perawat",i.kode_poli,"view"])})})),{dispatch:!1}),this.updateFailure$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(S)),{dispatch:!1}),this.getByIdInitial$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(B),(0,J.w)(i=>this.prosesAntreanPerawatService.show(i.payload.id).pipe((0,R.U)(l=>j({payload:l.response})),(0,D.K)(l=>(0,x.of)(O({message:l}))))))),this.getByIdFailure$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(O)),{dispatch:!1}),this.deleteInitial$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(K))),this.deleteSuccess$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(Y))),this.deleteFailure$=(0,c.GW)(()=>this.actions$.pipe((0,c.l4)(G)),{dispatch:!1}),this.Toast=u().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",u().stopTimer),i.addEventListener("mouseleave",u().resumeTimer)}})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(c.eX),e.LFG(Le),e.LFG(_.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();const De=(0,o.Lq)({prosesAntrean:null,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1},(0,o.on)(N,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!0,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,o.on)(U,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!0,prosesAntrean:r.payload,reloadTable:!1})),(0,o.on)(M,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!1,errorMessage:r.message,isEdit:!1,reloadTable:!1})),(0,o.on)(w,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!0,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,o.on)(q,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!0,prosesAntrean:r.payload,reloadTable:!1})),(0,o.on)(S,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!1,errorMessage:r.message,isEdit:!1,reloadTable:!1})),(0,o.on)(B,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!1,errorMessage:null,isEdit:!1,prosesAntrean:new P,reloadTable:!1})),(0,o.on)(j,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!1,errorMessage:null,isEdit:!0,prosesAntrean:r.payload,reloadTable:!1})),(0,o.on)(O,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!1,errorMessage:r.message,isEdit:!1,reloadTable:!1})),(0,o.on)(K,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!1,errorMessage:null,isEdit:!1,reloadTable:!1,prosesAntrean:new P})),(0,o.on)(Y,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!1,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,o.on)(G,(a,r)=>Object.assign(Object.assign({},a),{isLoadingButton:!1,errorMessage:r.message,isEdit:!1,reloadTable:!1})),(0,o.on)(ce,(a,r)=>Object.assign(Object.assign({},a),{reloadTable:!0})),(0,o.on)(W,(a,r)=>Object.assign(Object.assign({},a),{prosesAntrean:new P,errorMessage:null,isEdit:!1,reloadTable:!1,isLoadingButton:!1})));function xe(a,r){return De(a,r)}let Ie=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[T.ez,L.A0,we,qe.K,h.T,A.ef,p.u5,p.UX,o.Aw.forFeature("perawat_prosesAntreanPerawat",xe),c.sQ.forFeature([Je])]]}),a})()},76334:(E,k,d)=>{d.d(k,{m:()=>_});var T=d(5e3),A=d(95305);let _=(()=>{class h{constructor(u){this.authService=u}getUrlModule(u){return this.authService.currentUserValue.repo.find(g=>g.key_repo==u).url_repo}list24Hours(u=60,e="05:00"){let f=this.generateHoursInterval(0,1440,u),g=f.findIndex(v=>v==e),b=f.slice(g,f.length-1),Z=f.slice(0,g);return b.concat(Z)}generateHoursInterval(u,e,f){const g=[];for(let v=0;u<1440&&!(u>e);v++){var b=Math.floor(u/60),Z=u%60;g[v]=("0"+b%24).slice(-2)+":"+("0"+Z).slice(-2),u+=f}return g}}return h.\u0275fac=function(u){return new(u||h)(T.LFG(A.e))},h.\u0275prov=T.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},88544:(E,k,d)=>{d.d(k,{p:()=>A});var T=d(5e3);let A=(()=>{class _{isNumber(m){return m.match(/^[0-9]+$/)?m:m.replace(/[^0-9]/g,"")}isAlpha(m){return m.match(/^[A-Za-z]+$/)?m:m.replace(/[^A-Za-z]/g,"")}Number(m){const u=m.which?m.which:m.keyCode;return!(46!=u||m.target.value.indexOf(".")>-1)||!(u>31&&(u<48||u>57))}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},15861:(E,k,d)=>{function T(_,h,m,u,e,f,g){try{var b=_[f](g),Z=b.value}catch(v){return void m(v)}b.done?h(Z):Promise.resolve(Z).then(u,e)}function A(_){return function(){var h=this,m=arguments;return new Promise(function(u,e){var f=_.apply(h,m);function g(Z){T(f,u,e,g,b,"next",Z)}function b(Z){T(f,u,e,g,b,"throw",Z)}g(void 0)})}}d.d(k,{Z:()=>A})}}]);