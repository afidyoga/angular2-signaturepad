"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[196],{14793:(S,k,o)=>{o.r(k),o.d(k,{DaftarKlinikModule:()=>Ee});var u=o(69808),K=o(23007),f=o(15861);class p{}var d=o(65415),r=o(93075),h=o(2454),g=o.n(h),l=o(65620);const O=(0,l.PH)("[DAFTAR KLINIK] add initial",(0,l.Ky)()),U=(0,l.PH)("[DAFTAR KLINIK] add success",(0,l.Ky)()),L=(0,l.PH)("[DAFTAR KLINIK] add failure",(0,l.Ky)()),N=(0,l.PH)("[DAFTAR KLINIK] update initial",(0,l.Ky)()),F=(0,l.PH)("[DAFTAR KLINIK] update success",(0,l.Ky)()),j=(0,l.PH)("[DAFTAR KLINIK] update failure",(0,l.Ky)()),G=(0,l.PH)("[DAFTAR KLINIK] get by id initial",(0,l.Ky)()),Y=(0,l.PH)("[DAFTAR KLINIK] get by id success ",(0,l.Ky)()),V=(0,l.PH)("[DAFTAR KLINIK] get by id failure",(0,l.Ky)()),R=(0,l.PH)("[DAFTAR KLINIK] delete initial ",(0,l.Ky)()),B=(0,l.PH)("[DAFTAR KLINIK] delete success",(0,l.Ky)()),J=(0,l.PH)("[DAFTAR KLINIK] delete failure",(0,l.Ky)()),y=(0,l.PH)("[DAFTAR KLINIK] RELOAD TABLE DATA"),W=(0,l.PH)("[DAFTAR KLINIK] CLEAR DATA");var e=o(5e3),re=o(44151),Q=o(96877),q=o(50072),de=o(49892),ce=o(88544),pe=o(4833),me=o(33399),ue=o(51693),z=o(24376);const fe=["formContent"];function he(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){return e.CHM(i),e.oxw().FormModalOpen()}),e._UZ(1,"i",46),e._uU(2," Tambah Klinik"),e.qZA()}}function _e(n,c){1&n&&(e.TgZ(0,"div",47),e._uU(1," Nama Klinik tidak boleh kosong "),e.qZA())}function ge(n,c){1&n&&(e.TgZ(0,"div",47),e._uU(1," Alamat Klinik tidak boleh kosong "),e.qZA())}function be(n,c){1&n&&(e.TgZ(0,"div",17)(1,"label",18),e._uU(2,"Pcare ConsID"),e.qZA(),e.TgZ(3,"div",19),e._UZ(4,"input",48),e.qZA()())}function Ke(n,c){1&n&&(e.TgZ(0,"div",17)(1,"label",18),e._uU(2,"Pcare Secret Key"),e.qZA(),e.TgZ(3,"div",19),e._UZ(4,"input",49),e.qZA()())}function ke(n,c){1&n&&(e.TgZ(0,"div",17)(1,"label",18),e._uU(2,"Pcare Username"),e.qZA(),e.TgZ(3,"div",19),e._UZ(4,"input",50),e.qZA()())}function Te(n,c){1&n&&(e.TgZ(0,"div",17)(1,"label",18),e._uU(2,"Pcare Password"),e.qZA(),e.TgZ(3,"div",19),e._UZ(4,"input",51),e.qZA()())}function ve(n,c){1&n&&(e.TgZ(0,"div",17)(1,"label",18),e._uU(2,"Pcare Kode Aplikasi"),e.qZA(),e.TgZ(3,"div",19),e._UZ(4,"input",52),e.qZA()())}const Ae=function(){return[]},C=function(){return{standalone:!0}},De=function(n,c){return{"fa-spin fa-spinner pulse":n,"fa-save":c}};var P=(()=>{return(n=P||(P={})).KTP="ktp",n.DOMISILI="domisili",P;var n})();const Ze=[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:(()=>{class n{constructor(i,a,s,t,m,b,A,w,Oe){this.modalService=i,this.fb=a,this.daftarKlinikService=s,this.store=t,this.spinner=m,this.wilayahService=b,this.validate=A,this.router=w,this.infoKlinik=Oe,this.datatableElement=d.G,this.dtOptions={},this.daftarKlinik=new p,this.submitted=!1,this.tipeAlamat=P,this.paramProvinsiKtp={last_data:0,get_data:50,search:""},this.paramKabupatenKtp={last_data:0,get_data:50,search:""},this.paramKecamatanKtp={last_data:0,get_data:50,search:""},this.paramDesaKtp={last_data:0,get_data:50,search:""},this.paramZone={last_data:0,get_data:50,search:""},this.listProvinsiKtp=[],this.listKabupatenKtp=[],this.listKecamatanKtp=[],this.listDesaKtp=[],this.listZone=[],this.idProvinsiKtp=null,this.idKabupatenKtp=null,this.idKecamatanKtp=null,this.idDesaKtp=null,this.timeZone=null,this.loadingSelectProv=!1,this.loadingSelectKab=!1,this.loadingSelectKec=!1,this.loadingSelectDes=!1,this.loadingSelectZone=!1,this.btnDetail=!1,this.btnDelete=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1,this.getState=this.store.select("manajemenKlinik_daftarKlinik")}ngOnInit(){this.spinner.show("spinner1"),this.formTambah=this.fb.group({nama_klinik:["",[r.kI.required]],alamat_klinik:["",[r.kI.required]],status_klinik:["private",[]],status_aktif:[1,[]],id_province:["",[]],id_regency:["",[]],id_district:["",[]],id_village:["",[]],rm_kode:["",[]],rm_start:["",[]],pcare_consID:["",[]],pcare_secretKey:["",[]],pcare_pcareUname:["",[]],pcare_pcarePWD:["",[]],pcare_kdAplikasi:["",[]],status_pcare:[0,[]]});let i=JSON.parse(localStorage.getItem("currentUser"));i=i.menu_right,this.btnAdd=this.btnDelete=this.btnSetting=-1!=i.findIndex(a=>"MGMKDK2"==a.kode),this.btnDetail=this.view=-1!=i.findIndex(a=>"MGMKDK1"==a.kode),this.dtOptions=this.showDataTables(this.btnSetting,this.btnDetail,this.btnDelete),this.view||g().fire("Warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"}),setTimeout(()=>{this.spinner.hide("spinner1")},400)}isNumber(i){return this.validate.Number(i)}SubmitForm(){if(this.submitted=!1,setTimeout(()=>{this.submitted=!0},200),this.formTambah.invalid)return;this.spinner.show("spinner1");let i=new p;i.id_klinik=this.daftarKlinik.id_klinik,i.nama_klinik=this.formTambah.value.nama_klinik,i.alamat_klinik=this.formTambah.value.alamat_klinik,i.status_klinik=this.formTambah.value.status_klinik,i.status_aktif=String(Number(this.formTambah.value.status_aktif)),i.id_province=String(this.idProvinsiKtp),i.id_regency=String(this.idKabupatenKtp),i.id_district=String(this.idKecamatanKtp),i.id_village=String(this.idDesaKtp),i.rm_kode=this.formTambah.value.rm_kode,i.rm_start=this.formTambah.value.rm_start,i.pcare_consID=this.formTambah.value.pcare_consID,i.pcare_secretKey=this.formTambah.value.pcare_secretKey,i.pcare_pcareUname=this.formTambah.value.pcare_pcareUname,i.pcare_pcarePWD=this.formTambah.value.pcare_pcarePWD,i.pcare_kdAplikasi=this.formTambah.value.pcare_kdAplikasi,i.status_pcare=null==this.formTambah.value.status_pcare?"0":String(Number(this.formTambah.value.status_pcare)),i.config_time_zone=this.timeZone,"add"==this.aksiModal?(this.store.dispatch(O({payload:i})),setTimeout(()=>{this.modalService.close("modalFormContent"),this.reLoadData(),this.spinner.hide("spinner1")},600)):(this.store.dispatch(N({payload:i})),setTimeout(()=>{this.modalService.close("modalFormContent"),this.reLoadData(),this.spinner.hide("spinner1")},600))}prosesSelectProvinsi(i,a,s){let t=this.paramSelectOption(i,a,s,"provinsi");this.loadingSelectProv=!0,this.wilayahService.prosesSelectOptionProvinsi(t,a).subscribe(m=>{this.loadingSelectProv=!1,s==this.tipeAlamat.KTP&&(this.listProvinsiKtp=m.response)})}prosesSelectZone(i,a){"search"==a&&(this.paramZone.search=i.term),this.loadingSelectProv=!0,this.infoKlinik.getTimeZone().subscribe(s=>{this.loadingSelectZone=!1,this.listZone=s.response})}prosesSelectKabupaten(i,a,s){let t;(s==this.tipeAlamat.KTP||"edit"==i)&&(t=this.idProvinsiKtp);let m=this.paramSelectOption(i,a,s,"kabupaten");this.loadingSelectKab=!0,this.wilayahService.prosesSelectOptionKabupaten(m,a,t).subscribe(b=>{this.loadingSelectKab=!1,s==this.tipeAlamat.KTP&&(this.listKabupatenKtp=b.response)})}prosesSelectKecamatan(i,a,s){let t;(s==this.tipeAlamat.KTP||"edit"==i)&&(t=this.idKabupatenKtp);let m=this.paramSelectOption(i,a,s,"kecamatan");this.loadingSelectKec=!0,this.wilayahService.prosesSelectOptionKecamatan(m,a,t).subscribe(b=>{this.loadingSelectKec=!1,s==this.tipeAlamat.KTP&&(this.listKecamatanKtp=b.response)})}prosesSelectDesa(i,a,s){let t;(s==this.tipeAlamat.KTP||"edit"==i)&&(t=this.idKecamatanKtp);let m=this.paramSelectOption(i,a,s,"desa");this.loadingSelectDes=!0,this.wilayahService.prosesSelectOptionDesa(m,a,t).subscribe(b=>{this.loadingSelectDes=!1,s==this.tipeAlamat.KTP&&(this.listDesaKtp=b.response)})}changeProvinsi(i){i==this.tipeAlamat.KTP&&(this.idKabupatenKtp=null,this.idKecamatanKtp=null,this.idDesaKtp=null)}changeKabupaten(i){i==this.tipeAlamat.KTP&&(this.idKecamatanKtp=null,this.idDesaKtp=null)}changeKecamatan(i){i==this.tipeAlamat.KTP&&(this.idDesaKtp=null)}paramSelectOption(i,a,s,t){let m;return"provinsi"==t&&s==this.tipeAlamat.KTP?m=this.paramProvinsiKtp:"kabupaten"==t&&s==this.tipeAlamat.KTP?m=this.paramKabupatenKtp:"kecamatan"==t&&s==this.tipeAlamat.KTP?m=this.paramKecamatanKtp:"desa"==t&&s==this.tipeAlamat.KTP&&(m=this.paramDesaKtp),"search"==a&&(m.search=i.term),m}FormModalOpen(){this.store.dispatch(W()),this.titleModal="Form Tambah Daftar Klinik",this.aksiModal="add",this.modalService.open("modalFormContent"),this.formTambah.reset(),this.formTambah.patchValue({status_klinik:"private",status_aktif:"1"})}setStatus(i){this.formTambah.patchValue({status_aktif:i})}setPcare(i){this.formTambah.patchValue({status_pcare:i})}setKlinik(i){this.formTambah.patchValue({status_klinik:i})}editData(i){var a=this;this.aksiModal="update",this.titleModal="Form Edit",this.spinner.show("spinner1"),this.daftarKlinikService.show(i.id_klinik).subscribe(function(){var s=(0,f.Z)(function*(t){t&&(a.daftarKlinik=t.response,a.formTambah.patchValue({nama_klinik:a.daftarKlinik.nama_klinik,alamat_klinik:a.daftarKlinik.alamat_klinik,status_klinik:a.daftarKlinik.status_klinik,status_aktif:a.daftarKlinik.status_aktif,rm_kode:a.daftarKlinik.rm_kode,rm_start:a.daftarKlinik.rm_start,pcare_consID:a.daftarKlinik.pcare_consID,pcare_secretKey:a.daftarKlinik.pcare_secretKey,pcare_pcareUname:a.daftarKlinik.pcare_pcareUname,pcare_pcarePWD:a.daftarKlinik.pcare_pcarePWD,pcare_kdAplikasi:a.daftarKlinik.pcare_kdAplikasi,status_pcare:Number(a.daftarKlinik.status_pcare)}),a.listProvinsiKtp=[{id:t.response.id_province,name:t.response.provinsi}],a.listKecamatanKtp=[{id:t.response.id_district,name:t.response.kecamatan}],a.listKabupatenKtp=[{id:t.response.id_regency,name:t.response.kabupaten}],a.listDesaKtp=[{id:t.response.id_village,name:t.response.desa}],a.idProvinsiKtp=a.daftarKlinik.id_province,a.idKecamatanKtp=a.daftarKlinik.id_district,a.idKabupatenKtp=a.daftarKlinik.id_regency,a.idDesaKtp=a.daftarKlinik.id_village,a.spinner.hide("spinner1"),a.modalService.open("modalFormContent"))});return function(t){return s.apply(this,arguments)}}())}detail(i){this.router.navigate(["manajemen-klinik/informasi-klinik/view/"+i.id_klinik])}nonAktif(i){g().fire({title:"Apakah anda yakin akan menghapus data ini ?",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Ya, hapus saja!",cancelButtonText:"Tidak, Batalkan"}).then(a=>{a.value&&(this.store.dispatch(R({payload:{id:i.id_klinik}})),setTimeout(()=>{this.reLoadData()},600))})}closeModal(){this.modalService.close("modalFormContent")}reLoadData(){this.datatableElement.dtInstance.then(i=>{i.ajax.reload()})}showDataTables(i,a,s){return this.spinner.show("spinner1"),{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(t,m)=>{this.daftarKlinikService.getDataTables(t).subscribe(b=>{m({draw:b.response.draw,recordsTotal:b.response.recordsTotal,recordsFiltered:b.response.recordsFiltered,data:b.response.data}),this.spinner.hide("spinner1")})},columns:[{orderable:!1,searchable:!1,render:(t,m,b,A)=>A.row+1+A.settings._iDisplayStart},{data:"no_reg_klinik"},{data:"nama_klinik"},{data:"alamat_klinik"},{data:"status_klinik",render:(t,m,b,A)=>"private"==t?`<span class="badge col-red">${t}</span>`:`<span class="badge col-blue">${t}</span>`},{data:"status_aktif",render:(t,m,b,A)=>"1"==t?'<span class="badge col-green">Aktif</span>':'<span class="badge col-red">Tidak Aktif</span>'},{orderable:!1,searchable:!1,render(t,m,b,A){let w="";return w+=i?'<button class="btn btn-sm btn-ubah update-data ">Setting</button>':"",w+=a?'<button class="btn btn-sm btn-info detail ">Detail</button>':"",w+=s?'<button class="btn nonaktif-data btn-hapus btn-sm">Hapus</button>':"",w}}],rowCallback:(t,m,b)=>{const A=this;return $("td .update-data",t).on("click",()=>{A.editData(m)}),$("td .nonaktif-data",t).on("click",()=>{A.nonAktif(m)}),$("td .detail",t).on("click",()=>{A.detail(m)}),t}}}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(re.Z),e.Y36(r.qu),e.Y36(Q.W),e.Y36(l.yh),e.Y36(q.t2),e.Y36(de.F),e.Y36(ce.p),e.Y36(K.F0),e.Y36(pe.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view"]],viewQuery:function(i,a){if(1&i&&(e.Gf(d.G,5),e.Gf(fe,5)),2&i){let s;e.iGM(s=e.CRH())&&(a.datatableElement=s.first),e.iGM(s=e.CRH())&&(a.formContent=s.first)}},decls:126,vars:73,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button","class","btn btn-tambah btn-lg",3,"click",4,"ngIf"],[1,"card"],[1,"header"],[1,"body"],["width","100%","datatable","",1,"table","table-sm","table-striped","table-bordered","table-sm",3,"dtOptions"],["id","modalFormContent"],[3,"formGroup","submit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"mb-3","row"],[1,"col-sm-3","col-form-label","fw-bold"],[1,"col-sm-9"],["type","text","formControlName","nama_klinik","placeholder","Nama Klinik",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["name","","id","","cols","3","rows","3","formControlName","alamat_klinik","placeholder","Alamat",1,"form-control"],["bindLabel","name","bindValue","id","placeholder","Pilih Provinsi",2,"flex","1 1 auto",3,"virtualScroll","items","loading","searchable","ngModel","ngModelOptions","clearable","change","ngModelChange","search","scrollToEnd","open"],[1,"form-label","fw-bold","col-sm-3"],["bindLabel","name","bindValue","id","placeholder","Pilih Kabupaten",2,"flex","1 1 auto",3,"virtualScroll","items","loading","searchable","ngModel","ngModelOptions","clearable","change","ngModelChange","search","scrollToEnd","open"],["bindLabel","name","bindValue","id","placeholder","Pilih Kecamatan",2,"flex","1 1 auto",3,"virtualScroll","items","loading","searchable","ngModel","ngModelOptions","clearable","change","ngModelChange","search","scrollToEnd","open"],["bindLabel","name","bindValue","id","placeholder","Pilih Desa",2,"flex","1 1 auto",3,"virtualScroll","items","loading","searchable","ngModel","ngModelOptions","clearable","ngModelChange","search","scrollToEnd","open"],["bindLabel","nama_zone","bindValue","offset_zone","placeholder","Pilih Time Zone",2,"flex","1 1 auto",3,"virtualScroll","items","loading","searchable","ngModel","ngModelOptions","clearable","ngModelChange","search","scrollToEnd","open"],["type","text","formControlName","rm_kode",1,"form-control"],["type","text","formControlName","rm_start",1,"form-control",3,"keypress"],[1,"form-check","form-switch"],["type","checkbox","id","status_klinik","name","darkmode",1,"form-check-input",3,"checked","click"],["for","status_klinik",1,"form-check-label"],["type","checkbox","formControlName","status_aktif","id","status_aktif","name","darkmode",1,"form-check-input",3,"checked","click"],["for","status_aktif",1,"form-check-label"],["type","checkbox","formControlName","status_pcare","id","status_pcare","name","darkmode",1,"form-check-input",3,"checked","click"],["for","status_pcare",1,"form-check-label"],["class","mb-3 row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-kembali",3,"disabled","click"],["type","submit",1,"btn","btn-simpan",3,"disabled"],[1,"fa",3,"ngClass"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-tambah","btn-lg",3,"click"],[1,"fas","fa-plus-circle"],[1,"form-text","text-danger"],["type","text","formControlName","pcare_consID",1,"form-control"],["type","text","formControlName","pcare_secretKey",1,"form-control"],["type","text","formControlName","pcare_pcareUname",1,"form-control"],["type","text","formControlName","pcare_pcarePWD",1,"form-control"],["type","text","formControlName","pcare_kdAplikasi",1,"form-control"]],template:function(i,a){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Daftar Klinik"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6),e.YNc(8,he,3,0,"button",7),e._UZ(9,"br")(10,"br"),e.TgZ(11,"div",8)(12,"div",9)(13,"h2")(14,"strong"),e._uU(15,"Daftar Klinik"),e.qZA()()(),e.TgZ(16,"div",10)(17,"table",11)(18,"thead")(19,"tr")(20,"th"),e._uU(21,"No"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"No Reg. Klinik"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Nama Klinik"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Alamat Klinik"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Status Klinik"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Status Aktif"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Aksi"),e.qZA()()(),e._UZ(34,"tbody"),e.qZA(),e.TgZ(35,"jw-modal",12)(36,"form",13),e.NdJ("submit",function(){return a.SubmitForm()}),e.TgZ(37,"div",14)(38,"h4",15),e._uU(39),e.qZA()(),e.TgZ(40,"div",16)(41,"div",17)(42,"label",18),e._uU(43,"Nama Klinik"),e.qZA(),e.TgZ(44,"div",19),e._UZ(45,"input",20),e.YNc(46,_e,2,0,"div",21),e.qZA()(),e.TgZ(47,"div",17)(48,"label",18),e._uU(49,"Alamat Klinik"),e.qZA(),e.TgZ(50,"div",19),e._UZ(51,"textarea",22),e.YNc(52,ge,2,0,"div",21),e.qZA()(),e.TgZ(53,"div",17)(54,"label",18),e._uU(55,"Provinsi"),e.qZA(),e.TgZ(56,"div",19)(57,"ng-select",23),e.NdJ("change",function(){return a.changeProvinsi(a.tipeAlamat.KTP)})("ngModelChange",function(t){return a.idProvinsiKtp=t})("search",function(t){return a.prosesSelectProvinsi(t,"search",a.tipeAlamat.KTP)})("scrollToEnd",function(t){return a.prosesSelectProvinsi(t,"last_page",a.tipeAlamat.KTP)})("open",function(t){return a.prosesSelectProvinsi(t,"open",a.tipeAlamat.KTP)}),e.qZA()()(),e.TgZ(58,"div",17)(59,"label",24),e._uU(60,"Kabupaten / Kota"),e.qZA(),e.TgZ(61,"div",19)(62,"ng-select",25),e.NdJ("change",function(){return a.changeKabupaten(a.tipeAlamat.KTP)})("ngModelChange",function(t){return a.idKabupatenKtp=t})("search",function(t){return a.prosesSelectKabupaten(t,"search",a.tipeAlamat.KTP)})("scrollToEnd",function(t){return a.prosesSelectKabupaten(t,"last_page",a.tipeAlamat.KTP)})("open",function(t){return a.prosesSelectKabupaten(t,"open",a.tipeAlamat.KTP)}),e.qZA()()(),e.TgZ(63,"div",17)(64,"label",24),e._uU(65,"Kecamatan"),e.qZA(),e.TgZ(66,"div",19)(67,"ng-select",26),e.NdJ("change",function(){return a.changeKecamatan(a.tipeAlamat.KTP)})("ngModelChange",function(t){return a.idKecamatanKtp=t})("search",function(t){return a.prosesSelectKecamatan(t,"search",a.tipeAlamat.KTP)})("scrollToEnd",function(t){return a.prosesSelectKecamatan(t,"last_page",a.tipeAlamat.KTP)})("open",function(t){return a.prosesSelectKecamatan(t,"open",a.tipeAlamat.KTP)}),e.qZA()()(),e.TgZ(68,"div",17)(69,"label",24),e._uU(70,"Desa / Kelurahan"),e.qZA(),e.TgZ(71,"div",19)(72,"ng-select",27),e.NdJ("ngModelChange",function(t){return a.idDesaKtp=t})("search",function(t){return a.prosesSelectDesa(t,"search",a.tipeAlamat.KTP)})("scrollToEnd",function(t){return a.prosesSelectDesa(t,"last_page",a.tipeAlamat.KTP)})("open",function(t){return a.prosesSelectDesa(t,"open",a.tipeAlamat.KTP)}),e.qZA()()(),e.TgZ(73,"div",17)(74,"label",24),e._uU(75,"Time Zone"),e.qZA(),e.TgZ(76,"div",19)(77,"ng-select",28),e.NdJ("ngModelChange",function(t){return a.timeZone=t})("search",function(t){return a.prosesSelectZone(t,"search")})("scrollToEnd",function(t){return a.prosesSelectZone(t,"last_page")})("open",function(t){return a.prosesSelectZone(t,"open")}),e.qZA()()(),e.TgZ(78,"div",17)(79,"label",18),e._uU(80,"Rm Code"),e.qZA(),e.TgZ(81,"div",19),e._UZ(82,"input",29),e.qZA()(),e.TgZ(83,"div",17)(84,"label",18),e._uU(85,"Rm Start"),e.qZA(),e.TgZ(86,"div",19)(87,"input",30),e.NdJ("keypress",function(t){return a.isNumber(t)}),e.qZA()()(),e.TgZ(88,"div",17)(89,"label",18),e._uU(90,"Status Klinik"),e.qZA(),e.TgZ(91,"div",19)(92,"div",31)(93,"input",32),e.NdJ("click",function(){return a.setKlinik("public"==a.formTambah.value.status_klinik?"private":"public")}),e.qZA(),e.TgZ(94,"label",33),e._uU(95),e.qZA()()()(),e.TgZ(96,"div",17)(97,"label",18),e._uU(98,"Status Aktif"),e.qZA(),e.TgZ(99,"div",19)(100,"div",31)(101,"input",34),e.NdJ("click",function(){return a.setStatus(1==a.formTambah.value.status_aktif?0:1)}),e.qZA(),e.TgZ(102,"label",35),e._uU(103),e.qZA()()()(),e.TgZ(104,"div",17)(105,"label",18),e._uU(106,"Status PCare"),e.qZA(),e.TgZ(107,"div",19)(108,"div",31)(109,"input",36),e.NdJ("click",function(){return a.setPcare(1==a.formTambah.value.status_pcare?0:1)}),e.qZA(),e.TgZ(110,"label",37),e._uU(111),e.qZA()()()(),e.YNc(112,be,5,0,"div",38),e.YNc(113,Ke,5,0,"div",38),e.YNc(114,ke,5,0,"div",38),e.YNc(115,Te,5,0,"div",38),e.YNc(116,ve,5,0,"div",38),e.qZA(),e.TgZ(117,"div",39)(118,"button",40),e.NdJ("click",function(){return a.closeModal()}),e._uU(119,"Batal"),e.qZA(),e.TgZ(120,"button",41),e._UZ(121,"i",42),e._uU(122," Simpan "),e.qZA()()()()()()()()(),e.TgZ(123,"ngx-spinner",43)(124,"p",44),e._uU(125," Loading... "),e.qZA()()()),2&i&&(e.xp6(3),e.Q6J("title","Manajemen Klinik")("items",e.DdM(64,Ae))("active_item","Daftar Klinik"),e.xp6(5),e.Q6J("ngIf",a.btnAdd),e.xp6(9),e.Q6J("dtOptions",a.dtOptions),e.xp6(19),e.Q6J("formGroup",a.formTambah),e.xp6(3),e.Oqu(a.titleModal),e.xp6(6),e.ekj("border-danger",a.formTambah.controls.nama_klinik.hasError("required")&&a.submitted),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.nama_klinik.hasError("required")&&a.submitted),e.xp6(5),e.ekj("border-danger",a.formTambah.controls.alamat_klinik.hasError("required")&&a.submitted),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.alamat_klinik.hasError("required")&&a.submitted),e.xp6(5),e.Q6J("virtualScroll",!0)("items",a.listProvinsiKtp)("loading",a.loadingSelectProv)("searchable",!0)("ngModel",a.idProvinsiKtp)("ngModelOptions",e.DdM(65,C))("clearable",!0),e.xp6(5),e.Q6J("virtualScroll",!0)("items",a.listKabupatenKtp)("loading",a.loadingSelectKab)("searchable",!0)("ngModel",a.idKabupatenKtp)("ngModelOptions",e.DdM(66,C))("clearable",!0),e.xp6(5),e.Q6J("virtualScroll",!0)("items",a.listKecamatanKtp)("loading",a.loadingSelectKec)("searchable",!0)("ngModel",a.idKecamatanKtp)("ngModelOptions",e.DdM(67,C))("clearable",!0),e.xp6(5),e.Q6J("virtualScroll",!0)("items",a.listDesaKtp)("loading",a.loadingSelectDes)("searchable",!0)("ngModel",a.idDesaKtp)("ngModelOptions",e.DdM(68,C))("clearable",!0),e.xp6(5),e.Q6J("virtualScroll",!0)("items",a.listZone)("loading",a.loadingSelectZone)("searchable",!0)("ngModel",a.timeZone)("ngModelOptions",e.DdM(69,C))("clearable",!0),e.xp6(16),e.Q6J("checked","public"==a.formTambah.value.status_klinik),e.xp6(2),e.Oqu(a.formTambah.value.status_klinik),e.xp6(6),e.Q6J("checked",1==a.formTambah.value.status_aktif),e.xp6(2),e.Oqu(a.formTambah.value.status_aktif?"Aktif":"Tidak Aktif"),e.xp6(6),e.Q6J("checked",1==a.formTambah.value.status_pcare),e.xp6(2),e.Oqu(a.formTambah.value.status_pcare?"Aktif":"Tidak Aktif"),e.xp6(1),e.Q6J("ngIf",1==a.formTambah.value.status_pcare),e.xp6(1),e.Q6J("ngIf",1==a.formTambah.value.status_pcare),e.xp6(1),e.Q6J("ngIf",1==a.formTambah.value.status_pcare),e.xp6(1),e.Q6J("ngIf",1==a.formTambah.value.status_pcare),e.xp6(1),e.Q6J("ngIf",1==a.formTambah.value.status_pcare),e.xp6(2),e.Q6J("disabled",a.isLoadingButton),e.xp6(2),e.Q6J("disabled",a.isLoadingButton),e.xp6(1),e.Q6J("ngClass",e.WLB(70,De,a.isLoadingButton,!a.isLoadingButton)),e.xp6(2),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[me.L,u.O5,d.G,ue.z,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,z.w9,r.On,r.Wl,u.mk,q.Ro],styles:[""]}),n})()}];let Se=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[K.Bz.forChild(Ze)],K.Bz]}),n})();var ye=o(60795),_=o(36642),M=o(63900),Z=o(54004),I=o(70262),E=o(39646);let we=(()=>{class n{constructor(i,a){this.actions$=i,this.daftarKlinikService=a,this.Toast=g().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:s=>{s.addEventListener("mouseenter",g().stopTimer),s.addEventListener("mouseleave",g().resumeTimer)}}),this.addDaftarKlinik$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(O),(0,M.w)(s=>this.daftarKlinikService.insert(s.payload).pipe((0,Z.U)(t=>"0000"!=t.metaData.response_code?(this.Toast.fire({icon:"error",title:t.metaData.message}),y()):U({payload:t.response})),(0,I.K)(t=>(this.Toast.fire({icon:"error",title:t.metaData.message}),(0,E.of)(L({message:t})))))))),this.addDaftarKlinikSuccess$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(U),(0,Z.U)(s=>(this.Toast.fire({icon:"success",title:"Data berhasil disimpan"}),y())))),this.addDaftarKlinikFailure$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(L)),{dispatch:!1}),this.updateDaftarKlinik$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(N),(0,M.w)(s=>this.daftarKlinikService.update(s.payload.id_klinik,s.payload).pipe((0,Z.U)(t=>"0000"!=t.metaData.response_code?(this.Toast.fire({icon:"error",title:t.metaData.message}),y()):F({payload:t.response})),(0,I.K)(t=>(this.Toast.fire({icon:"error",title:t.metaData.message}),(0,E.of)(j({message:t})))))))),this.updateDaftarKlinikSuccess$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(F),(0,Z.U)(s=>(this.Toast.fire({icon:"success",title:"Data berhasil disimpan"}),y())))),this.updateDaftarKlinikFailure$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(j)),{dispatch:!1}),this.getByIdDaftarKlinik$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(G),(0,M.w)(s=>this.daftarKlinikService.show(s.payload.id).pipe((0,Z.U)(t=>Y({payload:t.response})),(0,I.K)(t=>(0,E.of)(V({message:t}))))))),this.getByIdDaftarKlinikFailure$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(V)),{dispatch:!1}),this.deleteDaftarKlinik$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(R),(0,M.w)(s=>this.daftarKlinikService.delete(s.payload.id).pipe((0,Z.U)(t=>B({payload:t.response})),(0,I.K)(t=>(0,E.of)(J({message:t}))))))),this.deleteDaftarKlinikSuccess$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(B),(0,Z.U)(s=>(this.Toast.fire({icon:"success",title:"Data berhasil dihapus"}),y())))),this.deleteDaftarKlinikFailure$=(0,_.GW)(()=>this.actions$.pipe((0,_.l4)(J)),{dispatch:!1})}}return n.\u0275fac=function(i){return new(i||n)(e.LFG(_.eX),e.LFG(Q.W))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Pe=(0,l.Lq)({daftarKlinik:null,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1},(0,l.on)(O,(n,c)=>Object.assign(Object.assign({},n),{isLoadingButton:!0,errorMessage:null,reloadTable:!1,isEdit:!1})),(0,l.on)(U,(n,c)=>Object.assign(Object.assign({},n),{isLoadingButton:!1,reloadTable:!1,errorMessage:null})),(0,l.on)(L,(n,c)=>Object.assign(Object.assign({},n),{errorMessage:c.message,reloadTable:!1,isLoadingButton:!1})),(0,l.on)(N,(n,c)=>Object.assign(Object.assign({},n),{isLoadingButton:!0,errorMessage:null,reloadTable:!1,isEdit:!1})),(0,l.on)(F,(n,c)=>Object.assign(Object.assign({},n),{reloadTable:!1,isLoadingButton:!1,errorMessage:null})),(0,l.on)(j,(n,c)=>Object.assign(Object.assign({},n),{errorMessage:c.message,reloadTable:!1,isLoadingButton:!1})),(0,l.on)(G,(n,c)=>Object.assign(Object.assign({},n),{daftarKlinik:new p,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,l.on)(Y,(n,c)=>Object.assign(Object.assign({},n),{daftarKlinik:c.payload,isEdit:!0,reloadTable:!1,errorMessage:null})),(0,l.on)(V,(n,c)=>Object.assign(Object.assign({},n),{errorMessage:c.message,reloadTable:!1,isLoadingButton:!1})),(0,l.on)(R,(n,c)=>Object.assign(Object.assign({},n),{daftarKlinik:new p,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,l.on)(B,(n,c)=>Object.assign(Object.assign({},n),{reloadTable:!1,errorMessage:null,isEdit:!1})),(0,l.on)(J,(n,c)=>Object.assign(Object.assign({},n),{errorMessage:c.message,reloadTable:!1,isLoadingButton:!1})),(0,l.on)(y,(n,c)=>Object.assign(Object.assign({},n),{daftarKlinik:new p,reloadTable:!0})),(0,l.on)(W,(n,c)=>Object.assign(Object.assign({},n),{daftarKlinik:new p,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1})));function Me(n,c){return Pe(n,c)}var Ie=o(16270);let Ee=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,Se,z.A0,l.Aw.forFeature("manajemenKlinik_daftarKlinik",Me),_.sQ.forFeature([we]),ye.K,r.u5,q.ef,r.UX,d.T,Ie.z]]}),n})()},76334:(S,k,o)=>{o.d(k,{m:()=>f});var u=o(5e3),K=o(95305);let f=(()=>{class p{constructor(r){this.authService=r}getUrlModule(r){return this.authService.currentUserValue.repo.find(l=>l.key_repo==r).url_repo}list24Hours(r=60,h="05:00"){let g=this.generateHoursInterval(0,1440,r),l=g.findIndex(D=>D==h),v=g.slice(l,g.length-1),T=g.slice(0,l);return v.concat(T)}generateHoursInterval(r,h,g){const l=[];for(let D=0;r<1440&&!(r>h);D++){var v=Math.floor(r/60),T=r%60;l[D]=("0"+v%24).slice(-2)+":"+("0"+T).slice(-2),r+=g}return l}}return p.\u0275fac=function(r){return new(r||p)(u.LFG(K.e))},p.\u0275prov=u.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},88544:(S,k,o)=>{o.d(k,{p:()=>K});var u=o(5e3);let K=(()=>{class f{isNumber(d){return d.match(/^[0-9]+$/)?d:d.replace(/[^0-9]/g,"")}isAlpha(d){return d.match(/^[A-Za-z]+$/)?d:d.replace(/[^A-Za-z]/g,"")}Number(d){const r=d.which?d.which:d.keyCode;return!(46!=r||d.target.value.indexOf(".")>-1)||!(r>31&&(r<48||r>57))}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},51693:(S,k,o)=>{o.d(k,{z:()=>p});var u=o(5e3),K=o(44151);const f=["*"];let p=(()=>{class d{constructor(h,g){this.modalService=h,this.el=g,this.element=g.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",h=>{}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){document.body.classList.remove("jw-modal-open"),this.element.classList.add("close"),setTimeout(()=>{this.element.classList.remove("close"),this.element.style.display="none"},900)}}return d.\u0275fac=function(h){return new(h||d)(u.Y36(K.Z),u.Y36(u.SBq))},d.\u0275cmp=u.Xpm({type:d,selectors:[["jw-modal"]],inputs:{id:"id"},ngContentSelectors:f,decls:4,vars:0,consts:[[1,"jw-modal"],[1,"jw-modal-body"],[1,"jw-modal-background"]],template:function(h,g){1&h&&(u.F$t(),u.TgZ(0,"div",0)(1,"div",1),u.Hsn(2),u.qZA()(),u._UZ(3,"div",2))},styles:["jw-modal{display:none}jw-modal .open{display:none}jw-modal .jw-modal{position:fixed;inset:0;background-color:#eeeeee8e;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{animation:fadein .5s;padding:10px 20px;background:#fff;margin:30px auto;width:650px;border-radius:2%;position:relative;z-index:1050}@media (max-width: 767px){jw-modal .jw-modal .jw-modal-body{margin:30px auto;width:calc(100% - 25px)}}jw-modal .jw-modal .jw-modal-body-lg{padding:20px;background:#fff;margin:40px auto;width:900px auto}jw-modal .jw-modal-background{position:fixed;inset:0;background-color:#eeeeee8e;opacity:.75;z-index:900}jw-modal.close .jw-modal .jw-modal-body{animation:unfoldOut .5s .3s cubic-bezier(.165,.84,.44,1) forwards}body.jw-modal-open{overflow:hidden}body.jw-modal-close{overflow:hidden;animation:unfoldOut .5s .3s cubic-bezier(.165,.84,.44,1) forwards}@keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes unfoldIn{0%{transform:scaleY(.005) scaleX(0)}50%{transform:scaleY(.005) scaleX(1)}to{transform:scaleY(1) scaleX(1)}}@keyframes unfoldOut{0%{transform:scaleY(1) scaleX(1)}50%{transform:scaleY(.005) scaleX(1)}to{transform:scaleY(.005) scaleX(0)}}\n"],encapsulation:2}),d})()},16270:(S,k,o)=>{o.d(k,{z:()=>f});var u=o(69808),K=o(5e3);let f=(()=>{class p{}return p.\u0275fac=function(r){return new(r||p)},p.\u0275mod=K.oAB({type:p}),p.\u0275inj=K.cJS({imports:[[u.ez]]}),p})()},44151:(S,k,o)=>{o.d(k,{Z:()=>K});var u=o(5e3);let K=(()=>{class f{constructor(){this.modals=[]}add(d){this.modals.push(d)}remove(d){this.modals=this.modals.filter(r=>r.id!==d)}open(d){this.modals.find(h=>h.id===d).open()}close(d){this.modals.find(h=>h.id===d).close()}}return f.\u0275fac=function(d){return new(d||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},15861:(S,k,o)=>{function u(f,p,d,r,h,g,l){try{var v=f[g](l),T=v.value}catch(D){return void d(D)}v.done?p(T):Promise.resolve(T).then(r,h)}function K(f){return function(){var p=this,d=arguments;return new Promise(function(r,h){var g=f.apply(p,d);function l(T){u(g,r,h,l,v,"next",T)}function v(T){u(g,r,h,l,v,"throw",T)}l(void 0)})}}o.d(k,{Z:()=>K})}}]);