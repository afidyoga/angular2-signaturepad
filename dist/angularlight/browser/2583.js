"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[2583],{86307:(C,_,l)=>{l.d(_,{m:()=>f});var p=l(5e3),b=l(95305);let f=(()=>{class c{constructor(m){this.authService=m}getUrlModule(m){return this.authService.currentUserValue.repo.find(v=>v.key_repo==m).url_repo}}return c.\u0275fac=function(m){return new(m||c)(p.LFG(b.e))},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},12583:(C,_,l)=>{l.r(_),l.d(_,{DefektaModule:()=>Le});var p=l(69808),b=l(15861),f=l(2454),c=l.n(f);class r{}var u=l(65415),o=l(65620);const j=(0,o.PH)("[ALAT KESEHATAN] add initial",(0,o.Ky)()),O=(0,o.PH)("[ALAT KESEHATAN] add success",(0,o.Ky)()),L=(0,o.PH)("[ALAT KESEHATAN] add failure ",(0,o.Ky)()),D=(0,o.PH)("[ALAT KESEHATAN] update initial",(0,o.Ky)()),I=(0,o.PH)("[ALAT KESEHATAN] update success",(0,o.Ky)()),U=(0,o.PH)("[ALAT KESEHATAN] update failure",(0,o.Ky)()),Y=(0,o.PH)("[ALAT KESEHATAN] get byid initial",(0,o.Ky)()),G=(0,o.PH)("[ALAT KESEHATAN] get byid success",(0,o.Ky)()),B=(0,o.PH)("[ALAT KESEHATAN] get byid failure",(0,o.Ky)()),R=(0,o.PH)("[ALAT KESEHATAN] delete initial",(0,o.Ky)()),N=(0,o.PH)("[ALAT KESEHATAN] delete success",(0,o.Ky)()),P=(0,o.PH)("[ALAT KESEHATAN] delete failure",(0,o.Ky)()),le=(0,o.PH)("[ALAT KESEHATAN] clear data "),S=(0,o.PH)("[ALAT KESEHATAN] table data");var F=l(8202),e=l(5e3),k=l(93075),K=l(50072),re=l(88544),de=l(22346),ce=l(44151),ue=l(89955),he=l(86307),pe=l(40520);let Q=(()=>{class s{constructor(t,a){this.generalService=t,this.http=a,this.urlBase="defekta-alat-kesehatan",this.urlModule=this.generalService.getUrlModule(ue.s.url_module.gudangTransaksi)}show(t){return this.http.get(this.urlModule+"/"+this.urlBase+"/get-byid/"+t)}listDatatables(t){return this.http.post(this.urlModule+"/"+this.urlBase+"/get-datatables",t)}add(t){return this.http.post(this.urlModule+"/"+this.urlBase+"/create",t)}update(t){return this.http.put(this.urlModule+"/"+this.urlBase+"/update-belum-order",t)}delete(t){return this.http.delete(this.urlModule+"/"+this.urlBase+"/delete/"+t)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(he.m),e.LFG(pe.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var fe=l(60269),H=l(64035),me=l(33399),ge=l(51693),J=l(24376);function _e(s,d){if(1&s&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&s){const t=d.$implicit;e.Q6J("value",t.id_supplier),e.xp6(1),e.Oqu(t.nama_supplier)}}function be(s,d){1&s&&(e.TgZ(0,"div",28),e._uU(1," PBF/Suplier tidak boleh kosong "),e.qZA())}function ke(s,d){1&s&&(e.TgZ(0,"div",28),e._uU(1," Jumlah dan satuan tidak boleh kosong "),e.qZA())}function ve(s,d){if(1&s&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&s){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" Stok tida cukup, jumlah tidak boleh lebih dari ",t.stok," ")}}function Ae(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"div",43)(1,"label",35),e._uU(2,"Jumlah"),e.qZA(),e.TgZ(3,"div",38)(4,"input",44),e.NdJ("keypress",function(n){return e.CHM(t),e.oxw(2).isNumber(n)})("ngModelChange",function(n){e.CHM(t);const i=e.oxw().index;return e.oxw().jumlah[i]=n}),e.qZA(),e.TgZ(5,"ng-select",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw().index;return e.oxw().satuan[i]=n}),e.qZA()(),e.TgZ(6,"div",46),e.YNc(7,ke,2,0,"div",20),e.YNc(8,ve,2,1,"div",20),e.qZA()()}if(2&s){const t=e.oxw(),a=t.index,n=t.$implicit,i=e.oxw();e.xp6(4),e.Q6J("ngModel",i.jumlah[a])("max",n.stok),e.xp6(1),e.Q6J("ngModel",i.satuan[a])("virtualScroll",!0)("items",i.optionKemasan[a].alat_kesehatan_kemasan)("searchable",!0)("clearable",!0),e.xp6(2),e.Q6J("ngIf",(null==i.jumlah[a]||i.jumlah[a]<=0||""==i.satuan[a])&&i.submitted),e.xp6(1),e.Q6J("ngIf",i.jumlah[a]>n.stok&&i.submitted)}}function Te(s,d){1&s&&(e.TgZ(0,"div",47),e._uU(1," Harga beli tidak boleh kosong "),e.qZA())}function xe(s,d){1&s&&(e.TgZ(0,"div",28),e._uU(1," Diskon tidak boleh kosong "),e.qZA())}function ye(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"div",29),e.NdJ("click",function(){const i=e.CHM(t).index;return e.oxw().showCollapse(i)}),e.TgZ(2,"h4",30)(3,"b"),e._uU(4),e.qZA()(),e.TgZ(5,"span",31),e._UZ(6,"i"),e.qZA()(),e.TgZ(7,"div",32),e.YNc(8,Ae,9,9,"div",33),e.TgZ(9,"div",34)(10,"label",35),e._uU(11,"Harga beli"),e.qZA(),e.TgZ(12,"input",36),e.NdJ("keypress",function(n){return e.CHM(t),e.oxw().isNumber(n)})("ngModelChange",function(n){const g=e.CHM(t).index;return e.oxw().harga[g]=n}),e.qZA(),e.YNc(13,Te,2,0,"div",37),e.qZA(),e.TgZ(14,"div",34)(15,"label",35),e._uU(16,"Diskon"),e.qZA(),e.TgZ(17,"div",38)(18,"input",39),e.NdJ("keypress",function(n){return e.CHM(t),e.oxw().isNumber(n)})("ngModelChange",function(n){const g=e.CHM(t).index;return e.oxw().diskon[g]=n}),e.qZA(),e.TgZ(19,"select",40),e.NdJ("ngModelChange",function(n){const g=e.CHM(t).index;return e.oxw().jenis_diskon[g]=n}),e.TgZ(20,"option",41),e._uU(21,"%"),e.qZA(),e.TgZ(22,"option",42),e._uU(23,"Rp"),e.qZA()()(),e.YNc(24,xe,2,0,"div",20),e.qZA()()()}if(2&s){const t=d.$implicit,a=d.index,n=e.oxw();e.xp6(4),e.hij(" ",t.nama_alat_kesehatan,""),e.xp6(2),e.Tol(n.isCollapsed[a]?"fa fa-chevron-down":"fa fa-chevron-up"),e.xp6(1),e.Q6J("collapse",n.isCollapsed[a])("isAnimated",!0),e.xp6(1),e.Q6J("ngIf",null!=n.optionKemasan[a]),e.xp6(4),e.Q6J("options",n.optionsCur)("ngModel",n.harga[a]),e.xp6(1),e.Q6J("ngIf",null==n.harga[a]&&n.submitted),e.xp6(5),e.Q6J("ngModel",n.diskon[a]),e.xp6(1),e.Q6J("ngModel",n.jenis_diskon[a]),e.xp6(5),e.Q6J("ngIf",(null==n.diskon[a]||null==n.jenis_diskon[a])&&n.submitted)}}let W=(()=>{class s{constructor(t,a,n,i,g,A,Ie,Ue,Be){this.fb=t,this.spinner=a,this.validate=n,this.ModulAlatKesehatanService=i,this.modalService=g,this.store=A,this.ModulDefektaAlatService=Ie,this.modulSupplierService=Ue,this.router=Be,this.dataChecked=[],this.btnAction=!1,this.submitted=!1,this.arrData=[{title:"Amoxin 500 mg"},{title:"Amoxin 500 mg"}],this.datatableElement=u.G,this.jumlah=[],this.pbf=null,this.satuan=[],this.diskon=[],this.jenis_diskon=[],this.harga=[],this.optionKemasan=[],this.optionPbf=[],this.dtOptions={},this.dataBarang=new r,this.checked=!1,this.defaultData=[],this.params_get={last_data:"0",get_data:"10",search:""},this.optionsCur={align:"left",allowNegative:!0,allowZero:!0,decimal:",",precision:2,prefix:"Rp ",suffix:"",thousands:".",nullable:!0,min:null,max:null,inputMode:F.fF.NATURAL},this.btnDetail=!1,this.btnDelete=!1,this.btnEdit=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1}ngOnInit(){this.spinner.show("spinner1");let t=JSON.parse(localStorage.getItem("currentUser"));t=t.menu_right,this.btnDetail=this.view=-1!=t.findIndex(a=>"IVDFAK1"==a.kode),this.view||c().fire("warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"}),this.getState=this.store.select("defekta_alat"),this.dtOptions=this.showDataTables(),this.getState.subscribe(a=>{null!=a&&(this.reloadTable=a.reloadTable,!0===this.reloadTable&&this.reLoadData())}),setTimeout(()=>{this.spinner.hide("spinner1")},400)}isNumber(t){return this.validate.Number(t)}prosesSelectPBF(t,a){if("search"==a?(this.optionPbf=[],this.params_get.search=t.term,this.params_get.last_data="0"):this.params_get.search="","last_page"==a){let n=parseInt(this.params_get.last_data)+parseInt(this.params_get.get_data);this.params_get.last_data=n.toString()}else this.params_get.last_data="0";this.modulSupplierService.get(this.params_get).subscribe(n=>{n&&(0==this.optionPbf.length?this.optionPbf=n.response:n.response.map(i=>{this.optionPbf.findIndex(A=>A.id_supplier==i.id_supplier)<0&&this.optionPbf.push(i)}))})}reLoadData(){this.datatableElement.dtInstance.then(t=>{t.ajax.reload()})}showDataTables(){return{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(t,a)=>{this.ModulDefektaAlatService.listDatatables(t).subscribe(n=>{this.defaultData=n.response.data,a({draw:n.response.draw,recordsTotal:n.response.recordsTotal,recordsFiltered:n.response.recordsFiltered,data:n.response.data})})},columns:[{orderable:!1,searchable:!1,render:(t,a,n,i)=>'<input type="checkbox" name="checkbox'+(i.row+1+i.settings._iDisplayStar)+'" class="checkbox option-checkbox mr-2" />'},{orderable:!1,searchable:!1,render:(t,a,n,i)=>i.row+1+i.settings._iDisplayStart},{data:"nama_alat_kesehatan"},{data:"status_beli_defekta",render:(t,a,n,i)=>null==t||"belum"==t?"Belum":'<i class="fas fa-check-circle success"></i> Sudah <a href="javascript:void(0);" class="text-warning ubah btn-link"><i class="fas fa-pen"></i></a>'},{data:"stok"},{data:"stok",render:(t,a,n,i)=>0},{data:"stok",render:(t,a,n,i)=>0},{data:"stok",render:(t,a,n,i)=>0}],rowCallback:(t,a,n)=>{const i=this;return $("td .option-checkbox",t).on("click",()=>{i.checkBoxClick(a)}),$("td .ubah",t).on("click",()=>{i.ubah(a)}),t}}}checkedAll(t){t.target.checked?(this.dataChecked=this.defaultData,$("td .option-checkbox").prop("checked",!0)):(this.dataChecked=[],$("td .option-checkbox").prop("checked",!1))}checkBoxClick(t){const a=this.dataChecked.findIndex(n=>n===t);$("input[name='all']").prop("checked",!1),-1==a?this.dataChecked.push(t):this.dataChecked.splice(a,1),this.btnAction=this.dataChecked.length>0}ubah(t){c().fire({title:"Apa anda yakin?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, lanjutkan!"}).then(a=>{a&&(this.spinner.show("spinner1"),this.store.dispatch(D({payload:{alat_kesehatan:[{id_alat_kesehatan:t.id_alat_kesehatan}]}})),setTimeout(()=>{this.spinner.hide("spinner1")},400),this.reLoadData())})}open(t){this.modalService.open(t)}modalClose(t){this.modalService.close(t)}blmDiperiksa(){this.dataChecked.length<=0?c().fire("Warning","Please checked option","warning"):c().fire({title:"Apa anda yakin?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, lanjutkan!"}).then(t=>{if(t){this.spinner.show("spinner1");let a={alat_kesehatan:[]};this.dataChecked.forEach(n=>{a.alat_kesehatan.push({id_alat_kesehatan:n.id_alat_kesehatan})}),this.store.dispatch(D({payload:a})),setTimeout(()=>{this.spinner.hide("spinner1")},400),this.dataChecked=[],this.reLoadData(),$("td .option-checkbox").prop("checked",!1)}})}simpan(){this.submitted=!1,setTimeout(()=>{this.submitted=!0},400);let t=this.getValue();null!=t&&(this.spinner.show("spinner1"),this.store.dispatch(j({payload:t})),setTimeout(()=>{this.spinner.hide("spinner1")},400),this.dataChecked=[],$("td .option-checkbox").prop("checked",!1),this.modalClose("sudahOrder"),this.reLoadData())}getValue(){let t=!1,a={id_supplier:this.pbf,alat_kesehatan:[]};return null==this.pbf&&(t=!0),this.dataChecked.map((n,i)=>{null==this.jumlah[i]||this.jumlah[i]<=0||""==this.satuan[i]||null==this.harga[i]||null==this.diskon[i]||null==this.jenis_diskon[i]?t=!0:a.alat_kesehatan.push({id_alat_kesehatan:n.id_alat_kesehatan,satuan:this.satuan[i],satuan_qty:this.jumlah[i],satuan_harga:this.harga[i],jenis_diskon:this.jenis_diskon[i],diskon_value:this.diskon[i]})}),t?null:a}sdhDiperiksa(){var t=this;return(0,b.Z)(function*(){t.dataChecked.length<=0?c().fire("Warning","Please checked option","warning"):(t.spinner.show("spinner1"),t.jenis_diskon=[],t.diskon=[],t.jumlah=[],t.pbf=null,yield t.dataChecked.map(function(){var a=(0,b.Z)(function*(n,i){yield t.ModulAlatKesehatanService.getById(n.id_alat_kesehatan).subscribe(g=>{t.harga.push(g.response.harga_pokok),t.optionKemasan[i]=g.response,t.satuan.push(n.kemasan_terkecil_singkatan),t.diskon.push(0),t.jumlah.push(0),t.jenis_diskon.push("persen")})});return function(n,i){return a.apply(this,arguments)}}()),setTimeout(()=>{t.spinner.hide("spinner1"),t.open("sudahOrder")},200*t.dataChecked.length))})()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(k.qu),e.Y36(K.t2),e.Y36(re.p),e.Y36(de.W),e.Y36(ce.Z),e.Y36(o.yh),e.Y36(Q),e.Y36(fe.O),e.Y36(H.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-defekta"]],viewQuery:function(t,a){if(1&t&&e.Gf(u.G,5),2&t){let n;e.iGM(n=e.CRH())&&(a.datatableElement=n.first)}},decls:56,vars:12,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-tambah","btn-lg","mb-3","mx-2",3,"click"],[1,"card"],[1,"body"],[1,"table-responsive"],["width","100%","datatable","",1,"table","table-striped","table-bordered","table-sm",3,"dtOptions"],["type","checkbox","name","all","value","0",1,"checkbox","mr-2",3,"change"],["id","sudahOrder"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["name","pbf","bindLabel","nama_supplier","bindValue","id_supplier","placeholder","Pilih Supplier",2,"flex","1 1 auto",3,"ngModel","virtualScroll","searchable","clearable","ngModelChange","search","scrollToEnd","open"],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[3,"value"],[1,"form-text","text-danger"],[1,"card-header",2,"cursor","pointer",3,"click"],[2,"width","70%"],[2,"float","right","position","relative","top","-25px"],[1,"card-body",3,"collapse","isAnimated"],["class","row mb-2",4,"ngIf"],[1,"row","mb-2","px-3"],[1,"px-1"],["type","text","name","harga","currencyMask","","readonly","",1,"form-control",3,"options","ngModel","keypress","ngModelChange"],["class","form-text text-danger col-md-12",4,"ngIf"],[1,"d-flex","px-2"],["type","text","value","0","min","0",1,"form-control",3,"ngModel","keypress","ngModelChange"],["value","persen","name","jenis_diskon",1,"form-control","mx-2",3,"ngModel","ngModelChange"],["value","persen"],["value","rupiah"],[1,"row","mb-2"],["type","text","value","0","min","0","name","jumlah",1,"form-control","mx-2",3,"ngModel","max","keypress","ngModelChange"],["name","satuan","bindLabel","nama_kemasan","bindValue","nama_kemasan","placeholder","Pilih Kemasan",2,"flex","1 1 auto",3,"ngModel","virtualScroll","items","searchable","clearable","ngModelChange"],[1,"col-md-12"],[1,"form-text","text-danger","col-md-12"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Defekta Alat Kesehatan"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e.NdJ("click",function(){return a.blmDiperiksa()}),e._uU(9," Belum order "),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return a.sdhDiperiksa()}),e._uU(11," Sudah order "),e.qZA(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr")(18,"th")(19,"input",12),e.NdJ("change",function(i){return a.checkedAll(i)}),e.qZA()(),e.TgZ(20,"th"),e._uU(21,"No"),e.qZA(),e.TgZ(22,"th"),e._uU(23," Barang "),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Status Order"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Sisa Stok"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Stok Minimum"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Prioritas"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Rata2 Laku"),e.qZA()()(),e._UZ(34,"tbody"),e.qZA()(),e.TgZ(35,"jw-modal",13)(36,"div",14)(37,"h4",15),e._uU(38,"Tandai Sudah Order"),e.qZA(),e.TgZ(39,"button",16),e.NdJ("click",function(){return a.modalClose("sudahOrder")}),e.qZA()(),e.TgZ(40,"div",17)(41,"label"),e._uU(42,"PBF/Suplier"),e.qZA(),e.TgZ(43,"ng-select",18),e.NdJ("ngModelChange",function(i){return a.pbf=i})("search",function(i){return a.prosesSelectPBF(i,"search")})("scrollToEnd",function(i){return a.prosesSelectPBF(i,"last_page")})("open",function(i){return a.prosesSelectPBF(i,"open")}),e.YNc(44,_e,2,2,"ng-option",19),e.qZA(),e.YNc(45,be,2,0,"div",20),e.qZA(),e.TgZ(46,"div",8),e.YNc(47,ye,25,12,"div",21),e.qZA(),e.TgZ(48,"div",22)(49,"button",23),e.NdJ("click",function(){return a.simpan()}),e._uU(50,"Simpan"),e.qZA(),e.TgZ(51,"button",24),e.NdJ("click",function(){return a.modalClose("sudahOrder")}),e._uU(52,"Batal"),e.qZA()()()()()()()(),e.TgZ(53,"ngx-spinner",25)(54,"p",26),e._uU(55," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Defekta Alat Kesehatan")("items","Defekta Alat Kesehatan"),e.xp6(12),e.Q6J("dtOptions",a.dtOptions),e.xp6(28),e.Q6J("ngModel",a.pbf)("virtualScroll",!0)("searchable",!0)("clearable",!0),e.xp6(1),e.Q6J("ngForOf",a.optionPbf),e.xp6(1),e.Q6J("ngIf",null==a.pbf&&a.submitted),e.xp6(2),e.Q6J("ngForOf",a.dataChecked),e.xp6(6),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[me.L,u.G,ge.z,J.w9,k.JJ,k.On,p.sg,J.jq,p.O5,k.Fj,F.g1,k.EJ,k.YN,k.Kr,K.Ro],styles:[""]}),s})();var h=l(36642),Ce=l(16270),De=l(43774);const Se=[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:W}];let z=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[H.Bz.forChild(Se)],H.Bz]}),s})();var Me=l(67236),Ee=l(60795);const we=(0,o.Lq)({defekta:null,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1},(0,o.on)(j,(s,d)=>Object.assign(Object.assign({},s),{isLoadingButton:!0,errorMessage:null,reloadTable:!1,isEdit:!1})),(0,o.on)(O,(s,d)=>Object.assign(Object.assign({},s),{isLoadingButton:!1,reloadTable:!1,errorMessage:null})),(0,o.on)(L,(s,d)=>Object.assign(Object.assign({},s),{errorMessage:d.message,reloadTable:!1,isLoadingButton:!1})),(0,o.on)(D,(s,d)=>Object.assign(Object.assign({},s),{isLoadingButton:!0,errorMessage:null,reloadTable:!1,isEdit:!1})),(0,o.on)(I,(s,d)=>Object.assign(Object.assign({},s),{reloadTable:!1,isLoadingButton:!1,errorMessage:null})),(0,o.on)(U,(s,d)=>Object.assign(Object.assign({},s),{errorMessage:d.message,reloadTable:!1,isLoadingButton:!1})),(0,o.on)(Y,(s,d)=>Object.assign(Object.assign({},s),{defekta:new r,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,o.on)(G,(s,d)=>Object.assign(Object.assign({},s),{defekta:d.payload,isEdit:!0,reloadTable:!1,errorMessage:null})),(0,o.on)(B,(s,d)=>Object.assign(Object.assign({},s),{errorMessage:d.message,reloadTable:!1,isLoadingButton:!1})),(0,o.on)(R,(s,d)=>Object.assign(Object.assign({},s),{defekta:new r,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,o.on)(N,(s,d)=>Object.assign(Object.assign({},s),{reloadTable:!1,errorMessage:null,isEdit:!1})),(0,o.on)(P,(s,d)=>Object.assign(Object.assign({},s),{errorMessage:d.message,reloadTable:!1,isLoadingButton:!1})),(0,o.on)(S,(s,d)=>Object.assign(Object.assign({},s),{defekta:new r,reloadTable:!0})),(0,o.on)(le,(s,d)=>Object.assign(Object.assign({},s),{defekta:new r,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1})));function je(s,d){return we(s,d)}var M=l(63900),y=l(54004),E=l(70262),Z=l(39646);let Oe=(()=>{class s{constructor(t,a){this.actions$=t,this.ModulDefektaAlatService=a,this.Toast=c().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:n=>{n.addEventListener("mouseenter",c().stopTimer),n.addEventListener("mouseleave",c().resumeTimer)}}),this.addInitial$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(j),(0,M.w)(n=>this.ModulDefektaAlatService.add(n.payload).pipe((0,y.U)(i=>O({payload:i.response})),(0,E.K)(i=>(0,Z.of)(L({message:i}))))))),this.addSuccess$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(O),(0,y.U)(n=>(this.Toast.fire({icon:"success",title:"Data berhasil disimpan"}),S())))),this.addFailure$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(L)),{dispatch:!1}),this.updateInitial$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(D),(0,M.w)(n=>this.ModulDefektaAlatService.update(n.payload).pipe((0,y.U)(i=>I({payload:i.response})),(0,E.K)(i=>(0,Z.of)(U({message:i}))))))),this.updateSuccess$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(I),(0,y.U)(n=>(this.Toast.fire({icon:"success",title:"Data berhasil disimpan"}),S())))),this.updateFailure$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(U)),{dispatch:!1}),this.getByIdInitial$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(Y),(0,M.w)(n=>this.ModulDefektaAlatService.show(n.payload.id).pipe((0,y.U)(i=>G({payload:i.response})),(0,E.K)(i=>(0,Z.of)(B({message:i}))))))),this.getByIdFailure$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(B)),{dispatch:!1}),this.deleteInitial$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(R),(0,M.w)(n=>this.ModulDefektaAlatService.delete(n.payload.id).pipe((0,y.U)(i=>N({payload:i.response})),(0,E.K)(i=>(0,Z.of)(P({message:i}))))))),this.deleteSuccess$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(N),(0,y.U)(n=>(this.Toast.fire({icon:"success",title:"Data berhasil dihapus"}),S())))),this.deleteFailure$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(P)),{dispatch:!1})}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(h.eX),e.LFG(Q))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),s})(),Le=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s,bootstrap:[W]}),s.\u0275inj=e.cJS({imports:[[p.ez,k.u5,k.UX,Ce.z,K.ef,De.IJ,z,Ee.K,z,u.T,k.UX,Me.kn.forRoot(),F.Ud,J.A0,o.Aw.forFeature("defekta-alat",je),h.sQ.forFeature([Oe])]]}),s})()},88544:(C,_,l)=>{l.d(_,{p:()=>b});var p=l(5e3);let b=(()=>{class f{isNumber(r){return r.match(/^[0-9]+$/)?r:r.replace(/[^0-9]/g,"")}isAlpha(r){return r.match(/^[A-Za-z]+$/)?r:r.replace(/[^A-Za-z]/g,"")}Number(r){const m=r.which?r.which:r.keyCode;return!(46!=m||r.target.value.indexOf(".")>-1)||!(m>31&&(m<48||m>57))}}return f.\u0275fac=function(r){return new(r||f)},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},51693:(C,_,l)=>{l.d(_,{z:()=>c});var p=l(5e3),b=l(44151);const f=["*"];let c=(()=>{class r{constructor(u,o){this.modalService=u,this.el=o,this.element=o.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",u=>{}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){document.body.classList.remove("jw-modal-open"),this.element.classList.add("close"),setTimeout(()=>{this.element.classList.remove("close"),this.element.style.display="none"},900)}}return r.\u0275fac=function(u){return new(u||r)(p.Y36(b.Z),p.Y36(p.SBq))},r.\u0275cmp=p.Xpm({type:r,selectors:[["jw-modal"]],inputs:{id:"id"},ngContentSelectors:f,decls:4,vars:0,consts:[[1,"jw-modal"],[1,"jw-modal-body"],[1,"jw-modal-background"]],template:function(u,o){1&u&&(p.F$t(),p.TgZ(0,"div",0)(1,"div",1),p.Hsn(2),p.qZA()(),p._UZ(3,"div",2))},styles:["jw-modal{display:none}jw-modal .open{display:none}jw-modal .jw-modal{position:fixed;inset:0;background-color:#eeeeee8e;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{animation:fadein .5s;padding:10px 20px;background:#fff;margin:30px auto;width:650px;border-radius:2%;position:relative;z-index:1050}@media (max-width: 767px){jw-modal .jw-modal .jw-modal-body{margin:30px auto;width:calc(100% - 25px)}}jw-modal .jw-modal .jw-modal-body-lg{padding:20px;background:#fff;margin:40px auto;width:900px auto}jw-modal .jw-modal-background{position:fixed;inset:0;background-color:#eeeeee8e;opacity:.75;z-index:900}jw-modal.close .jw-modal .jw-modal-body{animation:unfoldOut .5s .3s cubic-bezier(.165,.84,.44,1) forwards}body.jw-modal-open{overflow:hidden}body.jw-modal-close{overflow:hidden;animation:unfoldOut .5s .3s cubic-bezier(.165,.84,.44,1) forwards}@keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes unfoldIn{0%{transform:scaleY(.005) scaleX(0)}50%{transform:scaleY(.005) scaleX(1)}to{transform:scaleY(1) scaleX(1)}}@keyframes unfoldOut{0%{transform:scaleY(1) scaleX(1)}50%{transform:scaleY(.005) scaleX(1)}to{transform:scaleY(.005) scaleX(0)}}\n"],encapsulation:2}),r})()},44151:(C,_,l)=>{l.d(_,{Z:()=>b});var p=l(5e3);let b=(()=>{class f{constructor(){this.modals=[]}add(r){this.modals.push(r)}remove(r){this.modals=this.modals.filter(m=>m.id!==r)}open(r){this.modals.find(u=>u.id===r).open()}close(r){this.modals.find(u=>u.id===r).close()}}return f.\u0275fac=function(r){return new(r||f)},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},15861:(C,_,l)=>{function p(f,c,r,m,u,o,v){try{var x=f[o](v),T=x.value}catch(w){return void r(w)}x.done?c(T):Promise.resolve(T).then(m,u)}function b(f){return function(){var c=this,r=arguments;return new Promise(function(m,u){var o=f.apply(c,r);function v(T){p(o,m,u,v,x,"next",T)}function x(T){p(o,m,u,v,x,"throw",T)}v(void 0)})}}l.d(_,{Z:()=>b})}}]);