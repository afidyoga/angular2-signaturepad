"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[9671],{19671:(E,B,u)=>{u.r(B),u.d(B,{KatalogModule:()=>oa});var g=u(69808),c=u(64035),h=u(65415),k=u(2454),b=u.n(k),T=u(29548),C=u(91047),t=u(5e3),x=u(44151),S=u(51531),f=u(50072),I=u(65620),q=u(33399),y=u(51693);function M(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().btnOpenModal()}),t._UZ(1,"i",25),t._uU(2," Tambah Barang"),t.qZA()}}const Q=function(){return["../katalog-barang-bpom"]};function Y(n,o){1&n&&(t.TgZ(0,"div",8)(1,"a",26)(2,"div",27),t._UZ(3,"i",28),t.TgZ(4,"label",29),t._uU(5,"Katalog Barang BPOM"),t.qZA(),t.TgZ(6,"p")(7,"i"),t._uU(8," Cara termudah untuk menambah barang ke katalog apotekmu"),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,Q)))}const L=function(){return["../import-csv"]};function F(n,o){1&n&&(t.TgZ(0,"div",8)(1,"a",26)(2,"div",27),t._UZ(3,"i",30),t.TgZ(4,"label",29),t._uU(5,"Import XLSX"),t.qZA(),t.TgZ(6,"p")(7,"i"),t._uU(8," Pindahkan data barang dari sistem lama ke Cloudcare"),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,L)))}const j=function(){return["../buat-baru"]};function D(n,o){1&n&&(t.TgZ(0,"div",8)(1,"a",26)(2,"div",27),t._UZ(3,"i",31),t.TgZ(4,"label",29),t._uU(5,"Buat barang baru"),t.qZA()()()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,j)))}const P=function(){return[]};let R=(()=>{class n{constructor(e,a,i,s,l){this.modalService=e,this.modulObatService=a,this.router=i,this.spinner=s,this.store=l,this.datatableElement=h.G,this.dtOptions={},this.dataObat=new C.u,this.btnCsv=!1,this.btnBpom=!1,this.btnEdit=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1,this.getState=this.store.select("masterData_dataObat")}ngOnInit(){let e=JSON.parse(localStorage.getItem("currentUser"));e=e.menu_right,this.btnAdd=-1!=e.findIndex(a=>"IVKLOB5"==a.kode),this.btnBpom=-1!=e.findIndex(a=>"IVKLOB3"==a.kode),this.btnCsv=-1!=e.findIndex(a=>"IVKLOB2"==a.kode),this.view=-1!=e.findIndex(a=>"IVKLOB1"==a.kode),this.view||b().fire("Warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"}),this.btnEdit=this.btnAdd||this.btnBpom||this.btnCsv,this.dtOptions=this.showDataTables(this.btnEdit),this.getState.subscribe(a=>{this.reloadTable=a.reloadTable,!0===this.reloadTable&&this.reLoadData()})}editData(e){this.router.navigate(["katalog-obat","katalog","edit-buat-baru",e.id_obat])}nonAktif(e){b().fire({title:"Apakah anda yakin akan menghapus data ini ?",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Ya, hapus saja!",cancelButtonText:"Tidak, Batalkan"}).then(a=>{a.value&&(this.spinner.show("spinner1"),this.store.dispatch(T.Fi({payload:{id:e.id_obat}})),setTimeout(()=>{this.spinner.hide("spinner1")},400))})}reLoadData(){this.datatableElement.dtInstance.then(e=>{e.ajax.reload()})}showDataTables(e){return this.spinner.show("spinner1"),{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(a,i)=>{this.modulObatService.listDatatables(a).subscribe(s=>{i({draw:s.response.draw,recordsTotal:s.response.recordsTotal,recordsFiltered:s.response.recordsFiltered,data:s.response.data}),this.spinner.hide("spinner1")})},columns:[{orderable:!1,searchable:!1,render:(a,i,s,l)=>l.row+1+l.settings._iDisplayStart},{data:"nama_obat"},{data:"nama_obat",render(a,i,s,l){let d="";return s.obat_kemasan=s.obat_kemasan.sort((p,m)=>m.kemasan_level-p.kemasan_level),s.obat_kemasan.map((p,m)=>{d+=0==m?p.nama_kemasan+", ":" "+p.target_qty+" "+p.nama_kemasan+" @"}),d=d.substring(0,d.length-1),d}},{orderable:!1,searchable:!1,render:(a,i,s,l)=>e?'<button class="btn btn-sm btn-ubah update-data">Edit</button>\n                    <button class="btn nonaktif-data btn-hapus btn-sm">Hapus</button>':""}],rowCallback:(a,i,s)=>{const l=this;return $("td .update-data",a).on("click",()=>{l.editData(i)}),$("td .nonaktif-data",a).on("click",()=>{l.nonAktif(i)}),a}}}ngOnDestroy(){document.body.classList.remove("jw-modal-open")}btnOpenModal(){this.modalService.open("modalFormContent")}modalClose(){this.modalService.close("modalFormContent")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.Z),t.Y36(S.g),t.Y36(c.F0),t.Y36(f.t2),t.Y36(I.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view"]],viewQuery:function(e,a){if(1&e&&t.Gf(h.G,5),2&e){let i;t.iGM(i=t.CRH())&&(a.datatableElement=i.first)}},decls:38,vars:11,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button","class","btn btn-tambah btn-lg mb-3",3,"click",4,"ngIf"],[1,"card"],[1,"header"],[1,"body"],["width","100%","datatable","",1,"table","tabl-sm","table-striped","table-bordered","table-sm",3,"dtOptions"],["width","30"],["width","100"],["id","modalFormContent"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],["class","card",4,"ngIf"],["class","card ",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-kembali",3,"click"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-tambah","btn-lg","mb-3",3,"click"],[1,"fas","fa-plus"],[2,"color","black",3,"routerLink"],[1,"p-3"],[1,"fas","fa-splotch","pe-2"],[1,"fw-bold"],[1,"fas","fa-file-import","pe-2"],[1,"far","fa-plus-square","pe-2"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Katalog"),t.qZA(),t.TgZ(6,"div",5)(7,"div",6),t.YNc(8,M,3,0,"button",7),t.TgZ(9,"div",8),t._UZ(10,"div",9),t.TgZ(11,"div",10)(12,"table",11)(13,"thead")(14,"tr")(15,"th",12),t._uU(16,"No"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Nama Obat"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Kemasan"),t.qZA(),t.TgZ(21,"th",13),t._uU(22,"Aksi"),t.qZA()()(),t._UZ(23,"tbody"),t.qZA(),t.TgZ(24,"jw-modal",14)(25,"div",15)(26,"h4",16),t._uU(27,"Tambah barang dari..."),t.qZA()(),t.TgZ(28,"div",17),t.YNc(29,Y,9,2,"div",18),t.YNc(30,F,9,2,"div",19),t.YNc(31,D,6,2,"div",18),t.qZA(),t.TgZ(32,"div",20)(33,"button",21),t.NdJ("click",function(){return a.modalClose()}),t._uU(34,"Batal"),t.qZA()()()()()()()(),t.TgZ(35,"ngx-spinner",22)(36,"p",23),t._uU(37," Loading... "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("title","Katalog Obat")("items",t.DdM(10,P))("active_item","Katalog"),t.xp6(5),t.Q6J("ngIf",a.btnAdd||a.btnCsv||a.btnBpom),t.xp6(4),t.Q6J("dtOptions",a.dtOptions),t.xp6(17),t.Q6J("ngIf",a.btnBpom),t.xp6(1),t.Q6J("ngIf",a.btnCsv),t.xp6(1),t.Q6J("ngIf",a.btnAdd),t.xp6(4),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[q.L,g.O5,h.G,y.z,c.yS,f.Ro],styles:[""]}),n})();var r=u(93075),N=u(88544),J=u(94554),U=u(8202),K=u(67236);function H(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Nama barang tidak boleh kosong "),t.qZA())}function V(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Satuan terkecil tidak boleh kosong "),t.qZA())}function G(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Singkatan tidak boleh kosong "),t.qZA())}function X(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Spesifikasi tidak boleh kosong "),t.qZA())}function z(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Harga jual harus lebih dari 0 "),t.qZA())}function W(n,o){1&n&&(t.TgZ(0,"div",56)(1,"h3")(2,"strong"),t._uU(3,"Tips"),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Untuk memudahkan, buat kemasan dari kecil (contoh: strip isi 8 tablet) ke besar (contoh: box isi 10 strip)"),t.qZA()())}function tt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",57),t.ynx(1,58),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td")(9,"button",59),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw().editListKemasan(s)}),t._uU(10,"Edit"),t.qZA(),t.TgZ(11,"button",60),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw().hapusListKemasaan(s)}),t._uU(12,"Hapus"),t.qZA()(),t.BQk(),t.qZA()}if(2&n){const e=o.$implicit,a=o.index;t.xp6(1),t.Q6J("formGroupName",a),t.xp6(2),t.Oqu(e.value.nama),t.xp6(2),t.Oqu(e.value.singkatan),t.xp6(2),t.Oqu(e.value.isi+"/"+e.value.satuan)}}function at(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Stok Awal harus lebih dari 0 tidak boleh kosong "),t.qZA())}function et(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Tanggal ED tidak boleh kosong "),t.qZA())}function nt(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Harga Beli harus lebih dari 0 "),t.qZA())}function it(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," No Batch tidak boleh kosong "),t.qZA())}const ot=function(){return{adaptivePosition:!0,dateInputFormat:"DD-MM-YYYY",returnFocusToInput:!0}};function st(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",61),t.ynx(1,58),t.TgZ(2,"div",62)(3,"b"),t._uU(4,"Stok Awal"),t.qZA(),t.TgZ(5,"span",42)(6,"b"),t._uU(7,"*"),t.qZA()(),t.TgZ(8,"input",63),t.NdJ("keypress",function(i){return t.CHM(e),t.oxw().isNumber(i)}),t.qZA(),t.YNc(9,at,2,0,"div",18),t.qZA(),t.TgZ(10,"div",62)(11,"b"),t._uU(12,"Tanggal ED"),t.qZA(),t.TgZ(13,"span",42)(14,"b"),t._uU(15,"*"),t.qZA()(),t.TgZ(16,"div",64),t._UZ(17,"input",65),t.TgZ(18,"span",66),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw().onFocus("ed"+s)}),t._UZ(19,"i",67),t.qZA()(),t.YNc(20,et,2,0,"div",18),t.qZA(),t.TgZ(21,"div",62)(22,"b"),t._uU(23,"Harga Beli"),t.qZA(),t.TgZ(24,"span",42)(25,"b"),t._uU(26,"*"),t.qZA()(),t._UZ(27,"input",68),t.YNc(28,nt,2,0,"div",18),t.qZA(),t.TgZ(29,"div",62)(30,"b"),t._uU(31,"No Batch"),t.qZA(),t.TgZ(32,"span",42)(33,"b"),t._uU(34,"*"),t.qZA()(),t._UZ(35,"input",69),t.YNc(36,it,2,0,"div",18),t.qZA(),t.TgZ(37,"div",70)(38,"button",71),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw().removeBatch(s)}),t._UZ(39,"i",72),t.qZA()(),t.BQk(),t.qZA()}if(2&n){const e=o.index,a=t.oxw();t.xp6(1),t.Q6J("formGroupName",e),t.xp6(8),t.Q6J("ngIf",(""==a.formInput.value.listBatch[e].stok_awal||a.formInput.value.listBatch[e].stok_awal<=0)&&a.submitted),t.xp6(8),t.Q6J("bsConfig",t.DdM(9,ot))("outsideClick",!0)("id","ed"+e),t.xp6(3),t.Q6J("ngIf",""==a.formInput.value.listBatch[e].ed_batch&&a.submitted),t.xp6(7),t.Q6J("options",a.optionsCur),t.xp6(1),t.Q6J("ngIf",(""==a.formInput.value.listBatch[e].harga_beli||a.formInput.value.listBatch[e].harga_beli<=0)&&a.submitted),t.xp6(8),t.Q6J("ngIf",""==a.formInput.value.listBatch[e].no_batch&&a.submitted)}}function rt(n,o){1&n&&(t.TgZ(0,"table",73)(1,"tr")(2,"td",74)(3,"b"),t._uU(4,"Informasi stock masih kosong"),t.qZA()()()())}function lt(n,o){if(1&n&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.AsE("",e.field," : ",e.message,"")}}function ut(n,o){if(1&n&&(t.TgZ(0,"div",75),t._uU(1),t.YNc(2,lt,3,2,"ul",48),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMessage.metaData.message," "),t.xp6(1),t.Q6J("ngForOf",e.errorMessage.response)}}function mt(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Nama kemasan tidak boleh kosong "),t.qZA())}function dt(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Singkatan tidak boleh kosong "),t.qZA())}function pt(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Isi tidak boleh kosong "),t.qZA())}function ct(n,o){if(1&n&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("value",e.singkatan),t.xp6(1),t.Oqu(e.nama)}}function bt(n,o){if(1&n&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("value",e.singkatan),t.xp6(1),t.Oqu(e.nama)}}function _t(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ct,2,2,"option",76),t.YNc(2,bt,2,2,"option",76),t.BQk()),2&n){const e=o.index,a=t.oxw();t.xp6(1),t.Q6J("ngIf","update"==a.aksiModalKemasan&&a.indexListKemasan!=e),t.xp6(1),t.Q6J("ngIf","add"==a.aksiModalKemasan)}}const gt=function(){return[]},ht=function(){return["../view"]},ft=function(n,o){return{"fa-spin fa-spinner pulse":n,"fa-check":o}};let Zt=(()=>{class n{constructor(e,a,i,s,l,d){this.fb=e,this.spinner=a,this.validate=i,this.modalService=s,this.store=l,this.money=d,this.submitted=!1,this.submittedKemasan=!1,this.dataObatPayload=new C.u,this.batchRequire=!1,this.listBatch=[],this.optionsCur=this.money.currency(),this.add=!1,this.getState=this.store.select("masterData_dataObat")}ngOnInit(){this.getState.subscribe(e=>{if(this.dataObatPayload=e.dataObatPayload,this.errorMessage=e.errorMessage,this.submitButton=e.submitButton,this.isLoadingButton=e.isLoadingButton,null!=this.errorMessage){let a="";this.errorMessage.response.map(i=>{a+=i.field+" "+i.message+"\n"}),b().fire("Error",a,"error")}}),this.formInput=this.fb.group({nama_barang:[null,[r.kI.required]],satuan_terkecil:[null,[r.kI.required]],singkatan:[null,[r.kI.required]],komposisi:"",stok:"0",harga_jual:"0",harga_beli:"0",listBatch:this.fb.array([]),kemasan:this.fb.array([])}),this.formKemasan=this.fb.group({nama:[null,[r.kI.required]],isi:[null,[r.kI.required]],singkatan:[null,[r.kI.required]],satuan:[]})}isNumber(e){return this.validate.Number(e)}onFocus(e){document.getElementById(e).click()}setBatch(e,a,i){this.listBatch[e][a]=i.target.value}addBatch(){this.formInput.controls.listBatch.push(this.fb.group({stok_awal:0,ed_batch:"",no_batch:"",harga_beli:0}))}removeBatch(e){this.formInput.get("listBatch").removeAt(e)}submitInput(){if(this.submitted=!1,setTimeout(()=>{this.submitted=!0},300),this.formInput.invalid)return;let e=this.formInput.value,i=[],s=new C.u,l=[];s.stok=0;let d=0;e.listBatch.map(m=>{""==m.no_batch||""==m.ed_batch||m.stok_awal<=0||m.harga_beli<=0||(l.push({no_batch:m.no_batch,tanggal_ed:new Date(m.ed_batch).getTime(),stok_batch:m.stok_awal,harga_beli:m.harga_beli}),d+=Number(m.harga_beli),s.stok+=m.stok_awal)}),this.spinner.show("spinner1"),i.push({nama_kemasan:e.satuan_terkecil,nama_kemasan_singkatan:e.singkatan,target_kemasan:e.singkatan,target_qty:1,kemasan_level:1});let p=1;e.kemasan.forEach(m=>{i.push({nama_kemasan:m.nama,nama_kemasan_singkatan:m.singkatan,target_kemasan:m.satuan,target_qty:m.isi,kemasan_level:p+1}),p++}),s.nama_obat=e.nama_barang,s.komposisi=e.komopsisi,s.kemasan_terkecil=e.satuan_terkecil,s.kemasan_terkecil_singkatan=e.singkatan,s.komposisi=e.komposisi,s.harga_jual=e.harga_jual,s.harga_beli=d,s.obat_kemasan=i,s.batch=l,this.store.dispatch(T.sq({payload:s})),setTimeout(()=>{this.spinner.hide("spinner1")},600)}ambilSingkatan(e,a){let i=e.substr(0,3);"parent"==a?this.formInput.patchValue({singkatan:i}):this.formKemasan.patchValue({singkatan:i})}submitKemasan(){if(this.submittedKemasan=!1,setTimeout(()=>{this.submittedKemasan=!0},300),this.formKemasan.invalid)return!1;"add"==this.aksiModalKemasan?(this.formInput.value.kemasan.length>0?this.formInput.value.kemasan.findIndex(a=>a.nama==this.formKemasan.value.nama):-1)<0&&this.formInput.value.satuan_terkecil!=this.formKemasan.value.nama?this.insertKemasanToAray():b().fire("Error","Duplicated data","error"):this.updateKemasanArray()}insertKemasanToAray(){this.formInput.controls.kemasan.push(this.fb.group({nama:this.formKemasan.value.nama,isi:this.formKemasan.value.isi,singkatan:this.formKemasan.value.singkatan,satuan:this.formKemasan.value.satuan})),this.closeBtnTambahKemasan()}updateKemasanArray(){let e=this.indexListKemasan,a=!1;this.formInput.value.kemasan.map((i,s)=>{i.nama==this.formKemasan.value.nama&&s!=e&&(a=!0)}),a?b().fire("Error","Duplicated data","error"):(this.formInput.controls.kemasan.at(e).patchValue({nama:this.formKemasan.value.nama,isi:this.formKemasan.value.isi,singkatan:this.formKemasan.value.singkatan,satuan:this.formKemasan.value.satuan}),this.closeBtnTambahKemasan())}hapusListKemasaan(e){this.formInput.get("kemasan").removeAt(e)}editListKemasan(e){let a=this.formInput.value.kemasan[e];this.formKemasanTitle="Edit kemasan",this.indexListKemasan=e,this.aksiModalKemasan="update",this.formKemasan.reset(),this.formKemasan.patchValue({nama:a.nama,isi:a.isi,singkatan:a.singkatan,satuan:a.satuan}),this.submittedKemasan=!1,this.modalService.open("modalFormContent")}btnTambahKemasan(){this.submitted=!1,setTimeout(()=>{this.submitted=!0},300),!this.formInput.invalid&&(this.formKemasanTitle="Tambah kemasan",this.submittedKemasan=!1,this.formKemasan.reset(),this.formKemasan.patchValue({satuan:this.formInput.value.singkatan}),this.aksiModalKemasan="add",this.submittedKemasan=!1,this.modalService.open("modalFormContent"))}closeBtnTambahKemasan(){this.modalService.close("modalFormContent")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(f.t2),t.Y36(N.p),t.Y36(x.Z),t.Y36(I.yh),t.Y36(J.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-buat-baru"]],decls:152,vars:53,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-kembali","mb-3","btn-lg",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[3,"formGroup","submit"],[1,"header"],[1,"body"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-red"],[1,"col-sm-4"],["type","text","formControlName","nama_barang",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","text","formControlName","satuan_terkecil","placeholder","Contoh: tablet, kapsul, lembar",1,"form-control",3,"keyup"],[1,"col-sm-2"],["type","text","formControlName","singkatan","placeholder","3 huruf",1,"form-control"],["formControlName","komposisi","cols","5","rows","5",1,"form-control"],["currencyMask","","formControlName","harga_jual",1,"form-control",3,"options"],[1,"judul-kemasan","mb-3"],["class","alert alert-warning",4,"ngIf"],[1,"row","mx-5"],["width","100%",1,"table"],["formArrayName","kemasan",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-info","btn-md",3,"click"],["class","row mb-2","formArrayName","listBatch",4,"ngFor","ngForOf"],["class","table table-bordered table-striped","style","width: 100%;",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"footer","text-center","my-3"],["type","submit",1,"btn","btn-simpan","btn-lg"],["id","modalFormContent"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"mb-3","row"],[1,"col-sm-3","col-form-label","fw-bold"],[1,"text-danger"],[1,"col-sm-7"],["type","text","formControlName","nama","placeholder","Contoh: strip, box, dus",1,"form-control",3,"keyup"],["type","text","formControlName","isi",1,"form-control",3,"keypress"],["formControlName","satuan",1,"form-select"],[3,"value"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-kembali",3,"disabled","click"],["type","submit","color","primary",1,"btn","btn-simpan","btn-lg",3,"disabled"],[1,"fa",3,"ngClass"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[1,"form-text","text-danger"],[1,"alert","alert-warning"],["formArrayName","kemasan"],[3,"formGroupName"],["type","button",1,"btn","btn-sm","btn-ubah",3,"click"],["type","button",1,"btn","btn-sm","btn-hapus",3,"click"],["formArrayName","listBatch",1,"row","mb-2"],[1,"col-2"],["type","text","formControlName","stok_awal",1,"form-control",3,"keypress"],[1,"input-group"],["type","text","bsDatepicker","","formControlName","ed_batch",1,"form-control",3,"bsConfig","outsideClick","id"],[1,"input-group-text",2,"cursor","pointer","background","white","border-left","0px",3,"click"],[1,"fa","fa-calendar"],["formControlName","harga_beli","currencyMask","",1,"form-control",3,"options"],["type","text","formControlName","no_batch",1,"form-control"],[1,"col-2","pt-4","mt-1"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash"],[1,"table","table-bordered","table-striped",2,"width","100%"],[1,"text-center",2,"background-color","rgb(237, 234, 234)"],["role","alert",1,"alert","alert-danger"],[3,"value",4,"ngIf"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Buat Baru"),t.qZA(),t.TgZ(6,"button",5),t._UZ(7,"i",6),t._uU(8," Kembali"),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"form",10),t.NdJ("submit",function(){return a.submitInput()}),t.TgZ(13,"div",11)(14,"h4")(15,"strong"),t._uU(16,"Katalog"),t.qZA()()(),t.TgZ(17,"div",12)(18,"div",13)(19,"label",14),t._uU(20,"Nama Barang "),t.TgZ(21,"span",15),t._uU(22,"*"),t.qZA()(),t.TgZ(23,"div",16),t._UZ(24,"input",17),t.YNc(25,H,2,0,"div",18),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28,"Satuan Terkecil "),t.TgZ(29,"span",15),t._uU(30,"*"),t.qZA()(),t.TgZ(31,"div",16)(32,"input",19),t.NdJ("keyup",function(s){return a.ambilSingkatan(s.target.value,"parent")}),t.qZA(),t.YNc(33,V,2,0,"div",18),t.qZA(),t.TgZ(34,"label",14),t._uU(35,"Singkatan "),t.TgZ(36,"span",15),t._uU(37,"*"),t.qZA()(),t.TgZ(38,"div",20),t._UZ(39,"input",21),t.YNc(40,G,2,0,"div",18),t.qZA()(),t.TgZ(41,"div",13)(42,"label",14),t._uU(43,"Komposisi"),t.qZA(),t.TgZ(44,"div",16),t._UZ(45,"textarea",22),t.YNc(46,X,2,0,"div",18),t.qZA()(),t.TgZ(47,"div",13)(48,"label",14),t._uU(49,"Harga Jual "),t.TgZ(50,"span",15),t._uU(51,"*"),t.qZA()(),t.TgZ(52,"div",16),t._UZ(53,"input",23),t.YNc(54,z,2,0,"div",18),t.qZA()(),t.TgZ(55,"h5",24)(56,"strong"),t._uU(57,"Satuan & Kemasan"),t.qZA()(),t.YNc(58,W,6,0,"div",25),t.TgZ(59,"div",26)(60,"table",27)(61,"thead")(62,"tr")(63,"th"),t._uU(64,"Nama"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"Satuan"),t.qZA(),t.TgZ(67,"th"),t._uU(68,"Isi"),t.qZA(),t.TgZ(69,"th"),t._uU(70,"Aksi"),t.qZA()()(),t.TgZ(71,"tbody")(72,"tr")(73,"td"),t._uU(74),t.qZA(),t.TgZ(75,"td"),t._uU(76),t.qZA(),t.TgZ(77,"td"),t._uU(78),t.qZA(),t._UZ(79,"td"),t.qZA(),t.YNc(80,tt,13,4,"tr",28),t.qZA()()(),t.TgZ(81,"button",29),t.NdJ("click",function(){return a.btnTambahKemasan()}),t._uU(82,"Tambah satuan/kemasan"),t.qZA(),t._UZ(83,"br")(84,"br")(85,"br")(86,"br"),t.TgZ(87,"h5",24)(88,"strong"),t._uU(89,"Informasi Stock"),t.qZA()(),t.TgZ(90,"div")(91,"button",30),t.NdJ("click",function(){return a.addBatch()}),t._uU(92,"Tambah Stock"),t.qZA(),t.YNc(93,st,40,10,"div",31),t._UZ(94,"br")(95,"br"),t.YNc(96,rt,5,0,"table",32),t._UZ(97,"br"),t.qZA(),t._UZ(98,"br")(99,"br")(100,"br"),t.YNc(101,ut,3,2,"div",33),t.qZA(),t.TgZ(102,"div",34)(103,"button",35),t._uU(104,"Simpan"),t.qZA()()()()()()()(),t.TgZ(105,"jw-modal",36)(106,"form",10),t.NdJ("submit",function(){return a.submitKemasan()}),t.TgZ(107,"div",37)(108,"h4",38),t._uU(109),t.qZA()(),t.TgZ(110,"div",39)(111,"div",40)(112,"label",41),t._uU(113,"Nama kemasan"),t.TgZ(114,"span",42),t._uU(115,"*"),t.qZA()(),t.TgZ(116,"div",43)(117,"input",44),t.NdJ("keyup",function(s){return a.ambilSingkatan(s.target.value,"child")}),t.qZA(),t.YNc(118,mt,2,0,"div",18),t.qZA()(),t.TgZ(119,"div",40)(120,"label",41),t._uU(121,"Singkatan"),t.TgZ(122,"span",42),t._uU(123,"*"),t.qZA()(),t.TgZ(124,"div",20),t._UZ(125,"input",21),t.YNc(126,dt,2,0,"div",18),t.qZA()(),t.TgZ(127,"div",40)(128,"label",41),t._uU(129,"Isi"),t.TgZ(130,"span",42),t._uU(131,"*"),t.qZA()(),t.TgZ(132,"div",20)(133,"input",45),t.NdJ("keypress",function(s){return a.isNumber(s)}),t.qZA(),t.YNc(134,pt,2,0,"div",18),t.qZA()(),t.TgZ(135,"div",40)(136,"label",41),t._uU(137,"Satuan"),t.qZA(),t.TgZ(138,"div",16)(139,"select",46)(140,"option",47),t._uU(141),t.qZA(),t.YNc(142,_t,3,2,"ng-container",48),t.qZA()()()(),t.TgZ(143,"div",49)(144,"button",50),t.NdJ("click",function(){return a.closeBtnTambahKemasan()}),t._uU(145,"Batal"),t.qZA(),t.TgZ(146,"button",51),t._UZ(147,"i",52),t._uU(148," Simpan "),t.qZA()()()(),t.TgZ(149,"ngx-spinner",53)(150,"p",54),t._uU(151," Loading... "),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("title","Katalog Obat")("items",t.DdM(48,gt))("active_item","Buat Baru"),t.xp6(3),t.Q6J("routerLink",t.DdM(49,ht)),t.xp6(6),t.Q6J("formGroup",a.formInput),t.xp6(12),t.ekj("border-danger",a.formInput.controls.nama_barang.hasError("required")&&a.submitted),t.xp6(1),t.Q6J("ngIf",a.formInput.controls.nama_barang.hasError("required")&&a.submitted),t.xp6(7),t.ekj("border-danger",a.formInput.controls.satuan_terkecil.hasError("required")&&a.submitted),t.xp6(1),t.Q6J("ngIf",a.formInput.controls.satuan_terkecil.hasError("required")&&a.submitted),t.xp6(6),t.ekj("border-danger",a.formInput.controls.singkatan.hasError("required")&&a.submitted),t.xp6(1),t.Q6J("ngIf",a.formInput.controls.singkatan.hasError("required")&&a.submitted),t.xp6(5),t.ekj("border-danger",a.formInput.controls.komposisi.hasError("required")&&a.submitted),t.xp6(1),t.Q6J("ngIf",a.formInput.controls.komposisi.hasError("required")&&a.submitted),t.xp6(7),t.ekj("border-danger",a.formInput.controls.harga_jual.hasError("required")&&a.submitted),t.Q6J("options",a.optionsCur),t.xp6(1),t.Q6J("ngIf",(a.formInput.controls.harga_jual.hasError("required")||a.formInput.value.harga_jual<=0)&&a.submitted),t.xp6(4),t.Q6J("ngIf",0==a.formInput.value.kemasan.length),t.xp6(16),t.Oqu(a.formInput.value.satuan_terkecil),t.xp6(2),t.Oqu(a.formInput.value.singkatan),t.xp6(2),t.hij("1/",a.formInput.value.singkatan,""),t.xp6(2),t.Q6J("ngForOf",a.formInput.get("kemasan").controls),t.xp6(13),t.Q6J("ngForOf",a.formInput.get("listBatch").controls),t.xp6(3),t.Q6J("ngIf",a.formInput.value.listBatch.length<=0),t.xp6(5),t.Q6J("ngIf",null!=a.errorMessage),t.xp6(5),t.Q6J("formGroup",a.formKemasan),t.xp6(3),t.Oqu(a.formKemasanTitle),t.xp6(8),t.ekj("border-danger",a.formKemasan.controls.nama.hasError("required")&&a.submittedKemasan),t.xp6(1),t.Q6J("ngIf",a.formKemasan.controls.nama.hasError("required")&&a.submittedKemasan),t.xp6(7),t.ekj("border-danger",a.formKemasan.controls.singkatan.hasError("required")&&a.submittedKemasan),t.xp6(1),t.Q6J("ngIf",a.formKemasan.controls.singkatan.hasError("required")&&a.submittedKemasan),t.xp6(7),t.ekj("border-danger",a.formKemasan.controls.isi.hasError("required")&&a.submittedKemasan),t.xp6(1),t.Q6J("ngIf",a.formKemasan.controls.isi.hasError("required")&&a.submittedKemasan),t.xp6(6),t.s9C("value",a.formInput.value.singkatan),t.xp6(1),t.Oqu(a.formInput.value.satuan_terkecil),t.xp6(1),t.Q6J("ngForOf",a.formInput.value.kemasan),t.xp6(2),t.Q6J("disabled",a.isLoadingButton),t.xp6(2),t.Q6J("disabled",a.isLoadingButton),t.xp6(1),t.Q6J("ngClass",t.WLB(50,ft,a.isLoadingButton,!a.isLoadingButton)),t.xp6(2),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[q.L,c.rH,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,g.O5,U.g1,g.sg,r.CE,r.x0,K.Y5,K.Np,y.z,r.EJ,r.YN,r.Kr,g.mk,f.Ro],styles:['h5.judul-kemasan[_ngcontent-%COMP%]{display:flex;align-items:center}h5.judul-kemasan[_ngcontent-%COMP%]:after{content:"";flex:1;margin-left:1rem;height:1px;background-color:#919191}']}),n})();var v=u(80574),kt=u(36374);function vt(n,o){if(1&n&&(t.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"td"),t._uU(4," NAMA BARANG "),t.qZA(),t.TgZ(5,"td"),t._uU(6," KOMPOSISI "),t.qZA(),t.TgZ(7,"td"),t._uU(8,"STOK AWAL"),t.qZA(),t.TgZ(9,"td"),t._uU(10,"HARGA JUAL"),t.qZA(),t.TgZ(11,"td"),t._uU(12,"HARGA BELI"),t.qZA()()(),t._UZ(13,"tbody"),t.qZA()),2&n){const e=t.oxw();t.Q6J("dtOptions",e.dtOptions)}}let Tt=(()=>{class n{constructor(e){this.elementRef=e,this.header=[],this.dataTable=[],this.data=[],this.datatableElement=h.G,this.dtOptions={},this.wopts={bookType:"xlsx",type:"array"},this.fileName="SheetJS.xlsx",this.file=null}ngOnInit(){this.onFileChange(this.fileUpload)}onFileChange(e){this.dataTable=[],this.data=[],this.header=[];const i=e.target;if(1!==i.files.length)throw new Error("Cannot use multiple files");const s=new FileReader;s.onload=l=>{const p=v.read(l.target.result,{type:"binary"});this.data=v.utils.sheet_to_json(p.Sheets[p.SheetNames[0]],{header:1}),this.data.map((Z,_)=>{_<=1&&this.data[0].map((w,sa)=>{null!=this.col[sa]&&this.header.push(w)}),_>=this.rowStart&&this.data[_].length>0&&this.dataTable.push({nama_barang:null!=this.data[_][this.col[0]]?this.data[_][this.col[0]]:"",komposisi:null!=this.data[_][this.col[1]]?this.data[_][this.col[1]]:"",stok_awal:null!=this.data[_][this.col[2]]?this.data[_][this.col[2]]:"",harga_jual:null!=this.data[_][this.col[3]]?this.data[_][this.col[3]]:"",harga_beli:null!=this.data[_][this.col[4]]?this.data[_][this.col[4]]:""})}),this.setTable()},s.readAsBinaryString(i.files[0])}export(){const e=v.utils.aoa_to_sheet(this.data),a=v.utils.book_new();v.utils.book_append_sheet(a,e,"Sheet1"),v.writeFile(a,this.fileName)}setTable(){this.dtOptions=this.showDataTables()}showDataTables(){return{pageLength:10,ajax:(e,a)=>{a({draw:1,recordsTotal:this.dataTable.length,recordsFiltered:this.dataTable.length,data:this.dataTable})},columns:[{data:"nama_barang"},{data:"komposisi"},{data:"stok_awal"},{data:"harga_jual"},{data:"harga_beli"}]}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sheet-obat"]],viewQuery:function(e,a){if(1&e&&t.Gf(h.G,5),2&e){let i;t.iGM(i=t.CRH())&&(a.datatableElement=i.first)}},inputs:{col:"col",key:"key",rowStart:"rowStart",fileUpload:"fileUpload"},decls:1,vars:1,consts:[["class","table tabl-sm table-striped table-bordered mt-3","width","100%","datatable","",3,"dtOptions",4,"ngIf"],["width","100%","datatable","",1,"table","tabl-sm","table-striped","table-bordered","mt-3",3,"dtOptions"]],template:function(e,a){1&e&&t.YNc(0,vt,14,1,"table",0),2&e&&t.Q6J("ngIf",a.dataTable.length>0)},directives:[g.O5,h.G],encapsulation:2}),n})();const At=["inputFile"],qt=function(){return{nama_barang:0,komposisi:1,stok_awal:4,harga_jual:6,harga_beli:5}},Ut=function(n){return[n]},Bt=function(){return["0","1","4","6","5"]};function Ct(n,o){if(1&n&&t._UZ(0,"app-sheet-obat",24),2&n){const e=t.oxw();t.Q6J("key",t.VKq(4,Ut,t.DdM(3,qt)))("col",t.DdM(6,Bt))("fileUpload",e.file)}}const It=function(){return[]},xt=function(){return["../view"]};let yt=(()=>{class n{constructor(e,a){this.spinner=e,this.ModulImportKatalogService=a,this.file=null,this.fileBase64=null}ngOnInit(){}reset(){this.myInputVariable.nativeElement.value="",this.file=null}incomingfile(e){this.file=e;var a=e.target.files[0];const i=new FileReader;i.onload=s=>{this.fileBase64=s.target.result},i.readAsDataURL(a)}Upload(){this.spinner.show("spinner1"),this.ModulImportKatalogService.importObat(this.file.target.files[0]).subscribe(e=>{"0000"==e.metaData.response_code?b().fire("Success","Data berhasil disimpan","success").then(a=>{location.reload()}):b().fire("Error",e.metaData.message,"error"),this.spinner.hide("spinner1")},e=>{b().fire("Error",e.metaData.message,"error")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.t2),t.Y36(kt.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-import-csv"]],viewQuery:function(e,a){if(1&e&&t.Gf(At,5),2&e){let i;t.iGM(i=t.CRH())&&(a.myInputVariable=i.first)}},decls:40,vars:9,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-kembali","mb-3","btn-lg",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"body"],["href","assets/other/Format-Katalog-Obat.xlsx","download","",1,"btn","btn-lg","btn-primary"],[1,"header"],[1,"row","mb-2"],[1,"col-md-3"],["type","file","accept",".xlsx",1,"form-control","mb-2",3,"change"],["inputFile",""],[1,"col-md-1"],[1,"btn","btn-danger","mx-2","mb-2",3,"click"],["rowStart","2",3,"key","col","fileUpload",4,"ngIf"],[1,"footer"],[1,"btn","btn-lg","btn-simpan",3,"click"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],["rowStart","2",3,"key","col","fileUpload"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Import CSV"),t.qZA(),t.TgZ(6,"button",5),t._UZ(7,"i",6),t._uU(8," Kembali"),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"p"),t._uU(14,"Download format dokument XLSX yang perlu disini"),t.qZA(),t.TgZ(15,"a",11),t._uU(16,"Download XLSX"),t.qZA()()()()(),t.TgZ(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",12)(21,"h4")(22,"strong"),t._uU(23,"Upload daftar barang via XLSX"),t.qZA()()(),t.TgZ(24,"div",10)(25,"div",13)(26,"div",14)(27,"input",15,16),t.NdJ("change",function(s){return a.incomingfile(s)}),t.qZA()(),t.TgZ(29,"div",17)(30,"button",18),t.NdJ("click",function(){return a.reset()}),t._uU(31,"Reset"),t.qZA()()(),t.YNc(32,Ct,1,7,"app-sheet-obat",19),t.qZA(),t.TgZ(33,"div",20)(34,"div",4)(35,"button",21),t.NdJ("click",function(){return a.Upload()}),t._uU(36,"Upload dan lanjutkan"),t.qZA()()()()()()(),t.TgZ(37,"ngx-spinner",22)(38,"p",23),t._uU(39," Loading... "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("title","Katalog Obat")("items",t.DdM(7,It))("active_item","Import CSV"),t.xp6(3),t.Q6J("routerLink",t.DdM(8,xt)),t.xp6(26),t.Q6J("ngIf",null!=a.file),t.xp6(5),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[q.L,c.rH,g.O5,Tt,f.Ro],styles:[""]}),n})();function Kt(n,o){if(1&n&&(t.TgZ(0,"div",29)(1,"label",30),t._uU(2,"Harga Pajak beli"),t.qZA(),t.TgZ(3,"div",31)(4,"div",12)(5,"label",36),t._uU(6,"RP"),t.qZA(),t._UZ(7,"input",37),t.qZA()()()),2&n){const e=t.oxw();t.xp6(7),t.Q6J("options",e.optionsCur)}}const wt=function(){return[]},Nt=function(){return["../view"]};let Jt=(()=>{class n{constructor(e){this.fb=e,this.optionsCur={prefix:"",align:"left",thousands:".",precision:"0",inputMode:U.fF.NATURAL}}ngOnInit(){this.formInput=this.fb.group({checkbox_harga_pajak_beli:[1,[]]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-barang-bpom"]],decls:170,vars:10,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-kembali","mb-3","btn-lg",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"body"],[1,"col-xs-12","col-sm-12","col-md-8","offset-md-2"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Cari",1,"form-control"],[1,"btn","btn-secondary"],[1,"table","table-sm","table-striped","table-bordered","table-sm","table-striped"],[1,"btn","btn-primary","btn-sm"],[1,"badge","col-green"],[1,"row"],[1,"col-sm-12","col-md-6"],["width","100%",1,"table-tipis"],[1,"fw-bold"],["width","100%",1,"table-satuan"],[1,"col-sm-12","col-md-12"],[1,""],[1,"mb-3",2,"border-bottom","1px solid rgba(83, 83, 83, 0.568)"],[3,"formGroup"],[1,"mb-3","row"],[1,"col-sm-1","col-form-label","fw-bold"],[1,"col-sm-4"],["type","number",1,"form-control","me-3"],[1,"col-sm-3"],["name","","id","",1,"form-select"],["value",""],[1,"me-2",2,"margin","auto"],["type","text","currencyMask","",1,"form-control",3,"options"],["type","checkbox","formControlName","checkbox_harga_pajak_beli"],[1,"mx-2",2,"margin","auto"],["class","mb-3 row",4,"ngIf"],["type","number",1,"form-control"],[1,"mb-3","col-sm-12","text-center"],[1,"btn","btn-lg","btn-simpan"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Katalog Barang BPOM"),t.qZA(),t.TgZ(6,"button",5),t._UZ(7,"i",6),t._uU(8," Kembali"),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"span",13),t._UZ(16,"i",14),t.qZA(),t._UZ(17,"input",15),t.TgZ(18,"button",16),t._uU(19,"Cari"),t.qZA()()(),t.TgZ(20,"table",17)(21,"thead")(22,"tr")(23,"th"),t._uU(24,"Barang"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Aksi"),t.qZA()()(),t.TgZ(27,"tbody")(28,"tr")(29,"td"),t._uU(30," CATAFLAM "),t.qZA(),t.TgZ(31,"td")(32,"button",18),t._uU(33,"Pilih"),t.qZA()()(),t.TgZ(34,"tr")(35,"td"),t._uU(36,"BETAMETHASONE DIPROPIONATE"),t.qZA(),t.TgZ(37,"td")(38,"div",19),t._uU(39,"Sudah ada di katalogmu"),t.qZA()()()()()()()()(),t.TgZ(40,"div",7)(41,"div",8)(42,"div",9)(43,"div",10)(44,"div",20)(45,"div",21)(46,"h5")(47,"strong"),t._uU(48,"Info Barang"),t.qZA()(),t.TgZ(49,"table",22)(50,"tr")(51,"td",23),t._uU(52,"Nama"),t.qZA(),t.TgZ(53,"td"),t._uU(54,"CEFADROXIL MONOHYDRATE"),t.qZA()(),t.TgZ(55,"tr")(56,"td",23),t._uU(57,"Komposisi"),t.qZA(),t.TgZ(58,"td"),t._uU(59,"CEFADROXIL MONOHYDRATE"),t.qZA()(),t.TgZ(60,"tr")(61,"td",23),t._uU(62,"Principal"),t.qZA(),t.TgZ(63,"td"),t._uU(64,"MULIA FARMA SUCI - Indonesia - -"),t.qZA()(),t.TgZ(65,"tr")(66,"td",23),t._uU(67,"Kelas Barang"),t.qZA(),t.TgZ(68,"td"),t._uU(69,"Obat"),t.qZA()(),t.TgZ(70,"tr")(71,"td",23),t._uU(72,"No. Registrasi"),t.qZA(),t.TgZ(73,"td"),t._uU(74,"GKL1616705038A1"),t.qZA()(),t.TgZ(75,"tr")(76,"td",23),t._uU(77,"Berlaku s/d"),t.qZA(),t.TgZ(78,"td"),t._uU(79,"26-04-2027"),t.qZA()()()(),t.TgZ(80,"div",21)(81,"h5")(82,"strong"),t._uU(83,"Satuan & Kemasan"),t.qZA()(),t.TgZ(84,"table",24)(85,"thead")(86,"tr")(87,"th"),t._uU(88,"Nama"),t.qZA(),t.TgZ(89,"th"),t._uU(90,"Singkatan"),t.qZA()()(),t.TgZ(91,"tbody")(92,"tr")(93,"th"),t._uU(94,"Kaplet"),t.qZA(),t.TgZ(95,"td"),t._uU(96,"kpt"),t.qZA()(),t.TgZ(97,"tr")(98,"th"),t._uU(99,"Strip isi 10 kpt"),t.qZA(),t.TgZ(100,"td"),t._uU(101,"stp (10s)"),t.qZA()(),t.TgZ(102,"tr")(103,"th"),t._uU(104,"Dus isi 10 stp (10s)"),t.qZA(),t.TgZ(105,"td"),t._uU(106,"dus 10x10"),t.qZA()()()()()()()()()(),t.TgZ(107,"div",7)(108,"div",25)(109,"div",9)(110,"div",10),t._UZ(111,"div",26),t.TgZ(112,"h5",27)(113,"strong"),t._uU(114,"Data Stokmu"),t.qZA()(),t.TgZ(115,"form",28)(116,"div",29)(117,"label",30),t._uU(118,"Stok"),t.qZA(),t.TgZ(119,"div",31),t._UZ(120,"input",32),t.qZA(),t.TgZ(121,"div",33)(122,"select",34)(123,"option",35),t._uU(124,"dus 10x10"),t.qZA()()()(),t.TgZ(125,"div",29)(126,"label",30),t._uU(127,"Harga beli"),t.qZA(),t.TgZ(128,"div",31)(129,"div",12)(130,"label",36),t._uU(131,"RP"),t.qZA(),t._UZ(132,"input",37),t.qZA(),t.TgZ(133,"label"),t._UZ(134,"input",38),t._uU(135," Harga beli sudah termasuk pajak "),t.qZA()(),t.TgZ(136,"div",33)(137,"div",12)(138,"div",39),t._uU(139,"/"),t.qZA(),t.TgZ(140,"select",34)(141,"option",35),t._uU(142,"kpt"),t.qZA()()()()(),t.YNc(143,Kt,8,1,"div",40),t.TgZ(144,"div",20)(145,"label",30),t._uU(146,"Harga jual"),t.qZA(),t.TgZ(147,"div",31)(148,"div",12)(149,"label",36),t._uU(150,"RP"),t.qZA(),t._UZ(151,"input",37),t.qZA()(),t.TgZ(152,"div",33)(153,"div",12)(154,"div",39),t._uU(155,"/"),t.qZA(),t.TgZ(156,"select",34)(157,"option",35),t._uU(158,"kpt"),t.qZA()()()()(),t.TgZ(159,"div",29)(160,"label",30),t._uU(161,"Margin"),t.qZA(),t.TgZ(162,"div",31)(163,"div",12),t._UZ(164,"input",41),t.TgZ(165,"label",39),t._uU(166,"%"),t.qZA()()()(),t.TgZ(167,"div",42)(168,"button",43),t._uU(169,"Simpan"),t.qZA()()()()()()()()()),2&e&&(t.xp6(3),t.Q6J("title","Katalog Obat")("items",t.DdM(8,wt))("active_item","Katalog Barang BPOM"),t.xp6(3),t.Q6J("routerLink",t.DdM(9,Nt)),t.xp6(109),t.Q6J("formGroup",a.formInput),t.xp6(17),t.Q6J("options",a.optionsCur),t.xp6(11),t.Q6J("ngIf",1!=a.formInput.value.checkbox_harga_pajak_beli),t.xp6(8),t.Q6J("options",a.optionsCur))},directives:[q.L,c.rH,r._Y,r.JL,r.sg,r.YN,r.Kr,U.g1,r.Wl,r.JJ,r.u,g.O5],styles:[".table-tipis[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{border-bottom:1px solid #a3a3a3}.loss-margin-bottom[_ngcontent-%COMP%]{margin-bottom:1px!important}table.table-satuan[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%]{border-bottom:1px solid #a3a3a3}"]}),n})();function Ot(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Nama barang tidak boleh kosong "),t.qZA())}function Et(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Satuan terkecil tidak boleh kosong "),t.qZA())}function St(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Singkatan tidak boleh kosong "),t.qZA())}function Mt(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Spesifikasi tidak boleh kosong "),t.qZA())}function Qt(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Harga jual harus lebih dari 0 "),t.qZA())}function Yt(n,o){1&n&&(t.TgZ(0,"div",56)(1,"h3")(2,"strong"),t._uU(3,"Tips"),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Untuk memudahkan, buat kemasan dari kecil (contoh: strip isi 8 tablet) ke besar (contoh: box isi 10 strip)"),t.qZA()())}function Lt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index;return t.oxw().editListKemasan(i)}),t._uU(1,"Edit"),t.qZA()}}function Ft(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index;return t.oxw().hapusListKemasaan(i)}),t._uU(1,"Hapus"),t.qZA()}}function jt(n,o){if(1&n&&(t.TgZ(0,"tr",57),t.ynx(1,58),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.YNc(9,Lt,2,0,"button",59),t.YNc(10,Ft,2,0,"button",60),t.qZA(),t.BQk(),t.qZA()),2&n){const e=o.$implicit,a=o.index;t.xp6(1),t.Q6J("formGroupName",a),t.xp6(2),t.hij("",e.value.nama," "),t.xp6(2),t.Oqu(e.value.singkatan),t.xp6(2),t.Oqu(e.value.isi+"/"+e.value.satuan),t.xp6(2),t.Q6J("ngIf",a>0),t.xp6(1),t.Q6J("ngIf",a>0)}}function Dt(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Nama kemasan tidak boleh kosong "),t.qZA())}function Pt(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Singkatan tidak boleh kosong "),t.qZA())}function Rt(n,o){1&n&&(t.TgZ(0,"div",55),t._uU(1," Isi tidak boleh kosong "),t.qZA())}function Ht(n,o){if(1&n&&(t.TgZ(0,"option",64),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("value",e.singkatan),t.xp6(1),t.Oqu(e.nama)}}function Vt(n,o){if(1&n&&(t.TgZ(0,"option",64),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("value",e.singkatan),t.xp6(1),t.Oqu(e.nama)}}function Gt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ht,2,2,"option",63),t.YNc(2,Vt,2,2,"option",63),t.BQk()),2&n){const e=o.index,a=t.oxw();t.xp6(1),t.Q6J("ngIf","update"==a.aksiModalKemasan&&a.indexListKemasan!=e),t.xp6(1),t.Q6J("ngIf","add"==a.aksiModalKemasan)}}const Xt=function(){return[]},zt=function(n){return[n]};let O=(()=>{class n{constructor(e,a,i,s,l,d,p,m){this.fb=e,this.modalService=a,this.spinner=i,this.store=s,this.activatedRoute=l,this.router=d,this.validate=p,this.money=m,this.listBatch=[],this.submitted=!1,this.submittedKemasan=!1,this.dataObat=[],this.optionsCur=this.money.currency(),this.lastPage="",this.last="",this.id="",this.getState=this.store.select("masterData_dataObat")}ngOnInit(){this.activatedRoute.params.subscribe(e=>{e&&(this.lastPage=null!=e.page?e.page:"",this.spinner.show("spinner1"),this.lastPage=e.page,this.id=e.id,this.store.dispatch(T.HW({payload:{id:e.id}})))}),this.getState.subscribe(e=>{var a,i,s,l,d,p;if(this.dataObat=e.dataObat,this.errorMessage=e.errorMessage,this.submitButton=e.submitButton,this.isLoadingButton=e.isLoadingButton,this.isEdit=e.isEdit,!0===this.isEdit){if(this.dataObat){this.formInput.patchValue({kemasan_terkecil:this.dataObat.kemasan_terkecil,kemasan_terkecil_singkatan:this.dataObat.kemasan_terkecil_singkatan,isi:1});let m=this.dataObat.obat_kemasan.length,A=this.formInput.controls.kemasan;for(let Z=0;Z<m;Z++)A.push(this.fb.group({id_obat_kemasan:null===(a=this.dataObat.obat_kemasan[Z])||void 0===a?void 0:a.id_obat_kemasan,nama:null===(i=this.dataObat.obat_kemasan[Z])||void 0===i?void 0:i.nama_kemasan,isi:null===(s=this.dataObat.obat_kemasan[Z])||void 0===s?void 0:s.target_qty,singkatan:null===(l=this.dataObat.obat_kemasan[Z])||void 0===l?void 0:l.nama_kemasan_singkatan,satuan:null===(d=this.dataObat.obat_kemasan[Z])||void 0===d?void 0:d.target_kemasan,kemasan_level:null===(p=this.dataObat.obat_kemasan[Z])||void 0===p?void 0:p.kemasan_level}))}this.last=null==this.lastPage?"/katalog-obat/katalog/view":"/stok-obat/detail/"+this.id+"/"+this.dataObat.nama_obat,this.formInput.patchValue({nama_barang:this.dataObat.nama_obat,komposisi:this.dataObat.komposisi,stok:this.dataObat.stok,harga_jual:this.dataObat.harga_jual,harga_pokok:this.dataObat.harga_pokok}),this.spinner.hide("spinner1")}else!1===this.isEdit&&null!=this.dataObat.nama_obat&&setTimeout(()=>{if(null!=this.errorMessage){let m="";this.errorMessage.response.map(A=>{m+=A.field+" "+A.message+"\n"}),b().fire("Error",m,"error")}else this.last=null==this.lastPage?"/katalog-obat/katalog/view":"/stok-obat/detail/"+this.id+"/"+this.formInput.value.nama_barang,this.spinner.hide("spinner1"),this.router.navigate([this.last])},600)}),this.formInput=this.fb.group({nama_barang:[null,[r.kI.required]],kemasan_terkecil:[null,[r.kI.required]],kemasan_terkecil_singkatan:[null,[r.kI.required]],komposisi:"",stok:"",harga_jual:"",harga_pokok:"",kemasan:this.fb.array([])}),this.formKemasan=this.fb.group({nama:[null,[r.kI.required]],isi:[null,[r.kI.required]],singkatan:[null,[r.kI.required]],satuan:[]})}isNumber(e){return this.validate.Number(e)}setBatch(e,a,i){this.listBatch[e][a]=i.target.value}addBatch(){this.listBatch.push({stok_batch:"",ed_batch:"",no_batch:"",harga_beli:""})}removeBatch(e){this.listBatch.splice(e,1)}submitInput(){if(this.submitted=!1,setTimeout(()=>{this.submitted=!0},300),this.formInput.invalid||this.formInput.value.harga_jual<=0)return;this.spinner.show("spinner1");let e=this.formInput.value,i=[],s=1;e.kemasan.forEach(d=>{i.push({id_obat_kemasan:d.id_obat_kemasan,nama_kemasan:d.nama,nama_kemasan_singkatan:d.singkatan,target_kemasan:d.satuan,target_qty:d.isi,kemasan_level:s+1}),s++});let l=new C.u;l.kemasan_terkecil=e.kemasan_terkecil,l.kemasan_terkecil_singkatan=e.kemasan_terkecil_singkatan,l.id_obat=this.dataObat.id_obat,l.nama_obat=e.nama_barang,l.komposisi=e.komposisi,l.harga_jual=parseInt(e.harga_jual),l.obat_kemasan=i,this.store.dispatch(T.KK({payload:l}))}ambilSingkatan(e,a){let i=e.substr(0,3);"parent"==a?(this.formInput.controls.kemasan.value[0].nama=e,this.formInput.controls.kemasan.value[0].singkatan=i,this.formInput.controls.kemasan.value[0].satuan=i,this.formInput.patchValue({kemasan_terkecil_singkatan:i})):this.formKemasan.patchValue({singkatan:i})}submitKemasan(){if(this.submittedKemasan=!1,setTimeout(()=>{this.submittedKemasan=!0},300),this.formKemasan.invalid)return!1;"add"==this.aksiModalKemasan?(this.formInput.value.kemasan.length>0?this.formInput.value.kemasan.findIndex(a=>a.nama==this.formKemasan.value.nama):-1)<0?this.insertKemasanToAray():b().fire("Error","Duplicated data","error"):this.updateKemasanArray()}insertKemasanToAray(){this.formInput.controls.kemasan.push(this.fb.group({nama:this.formKemasan.value.nama,isi:this.formKemasan.value.isi,singkatan:this.formKemasan.value.singkatan,satuan:this.formKemasan.value.satuan})),this.closeBtnTambahKemasan()}updateKemasanArray(){let e=this.indexListKemasan,a=!1;this.formInput.value.kemasan.map((i,s)=>{i.nama==this.formKemasan.value.nama&&s!=e&&(a=!0)}),a?b().fire("Error","Duplicated data","error"):(this.formInput.controls.kemasan.at(e).patchValue({nama:this.formKemasan.value.nama,isi:this.formKemasan.value.isi,singkatan:this.formKemasan.value.singkatan,satuan:this.formKemasan.value.satuan}),this.closeBtnTambahKemasan())}hapusListKemasaan(e){this.formInput.get("kemasan").removeAt(e)}editListKemasan(e){let a=this.formInput.value.kemasan[e];this.formKemasanTitle="Edit kemasan",this.indexListKemasan=e,this.aksiModalKemasan="update",this.formKemasan.reset(),this.formKemasan.patchValue({nama:a.nama,isi:a.isi,singkatan:a.singkatan,satuan:a.satuan}),this.submittedKemasan=!1,this.modalService.open("modalFormContent")}btnTambahKemasan(){this.submitted=!1,setTimeout(()=>{this.submitted=!0},300),!this.formInput.invalid&&(this.formKemasanTitle="Tambah kemasan",this.submittedKemasan=!1,this.formKemasan.reset(),this.aksiModalKemasan="add",this.submittedKemasan=!1,this.modalService.open("modalFormContent"))}closeBtnTambahKemasan(){this.modalService.close("modalFormContent")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(x.Z),t.Y36(f.t2),t.Y36(I.yh),t.Y36(c.gz),t.Y36(c.F0),t.Y36(N.p),t.Y36(J.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-buat-baru"]],decls:130,vars:40,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-kembali","mb-3","btn-lg",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[3,"formGroup","submit"],[1,"header"],[1,"body"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-red"],[1,"col-sm-4"],["type","text","formControlName","nama_barang",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","text","formControlName","kemasan_terkecil","placeholder","Contoh: tablet, kapsul, lembar",1,"form-control",3,"keyup"],[1,"col-sm-2"],["type","text","formControlName","kemasan_terkecil_singkatan","placeholder","3 huruf",1,"form-control"],["formControlName","komposisi","cols","5","rows","5",1,"form-control"],[1,"row"],[1,"col-md-6"],[1,"alert","alert-info"],["currencyMask","","formControlName","harga_jual",1,"form-control",3,"options"],[1,"judul-kemasan","mb-3"],["class","alert alert-warning",4,"ngIf"],[1,"row","mx-5"],["width","100%",1,"table","tabl-sm","table-striped","table-bordered","table-sm"],["formArrayName","kemasan",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"footer","text-center","my-3"],["type","submit",1,"btn","btn-simpan","btn-lg"],["id","modalFormContent"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"mb-3","row"],[1,"col-sm-3","col-form-label","fw-bold"],[1,"text-danger"],[1,"col-sm-7"],["type","text","formControlName","nama","placeholder","Contoh: strip, box, dus",1,"form-control",3,"keyup"],["type","text","formControlName","singkatan","placeholder","3 huruf",1,"form-control"],["type","text","formControlName","isi",1,"form-control",3,"keypress"],["formControlName","satuan",1,"form-select"],["value","","hidden",""],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-kembali",3,"click"],["type","submit","color","primary",1,"btn","btn-simpan"],[1,"fa","fa-check"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[1,"form-text","text-danger"],[1,"alert","alert-warning"],["formArrayName","kemasan"],[3,"formGroupName"],["class","btn btn-sm btn-ubah","type","button",3,"click",4,"ngIf"],["class","btn btn-sm btn-hapus","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-ubah",3,"click"],["type","button",1,"btn","btn-sm","btn-hapus",3,"click"],[3,"value",4,"ngIf"],[3,"value"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Edit Katalog"),t.qZA(),t.TgZ(6,"button",5),t._UZ(7,"i",6),t._uU(8," Kembali"),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"form",10),t.NdJ("submit",function(){return a.submitInput()}),t.TgZ(13,"div",11)(14,"h4")(15,"strong"),t._uU(16,"Edit Katalog"),t.qZA()()(),t.TgZ(17,"div",12)(18,"div",13)(19,"label",14),t._uU(20,"Nama Barang "),t.TgZ(21,"span",15),t._uU(22,"*"),t.qZA()(),t.TgZ(23,"div",16),t._UZ(24,"input",17),t.YNc(25,Ot,2,0,"div",18),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28,"Satuan Terkecil "),t.TgZ(29,"span",15),t._uU(30,"*"),t.qZA()(),t.TgZ(31,"div",16)(32,"input",19),t.NdJ("keyup",function(s){return a.ambilSingkatan(s.target.value,"parent")}),t.qZA(),t.YNc(33,Et,2,0,"div",18),t.qZA(),t.TgZ(34,"label",14),t._uU(35,"Singkatan "),t.TgZ(36,"span",15),t._uU(37,"*"),t.qZA()(),t.TgZ(38,"div",20),t._UZ(39,"input",21),t.YNc(40,St,2,0,"div",18),t.qZA()(),t.TgZ(41,"div",13)(42,"label",14),t._uU(43,"Komposisi"),t.qZA(),t.TgZ(44,"div",16),t._UZ(45,"textarea",22),t.YNc(46,Mt,2,0,"div",18),t.qZA()(),t.TgZ(47,"div",23)(48,"div",24)(49,"div",25)(50,"strong"),t._uU(51,"Info: Untuk edit stok dapat dilakukan di stokopname"),t.qZA()()()(),t.TgZ(52,"div",13)(53,"label",14),t._uU(54,"Harga Jual "),t.TgZ(55,"span",15),t._uU(56,"*"),t.qZA()(),t.TgZ(57,"div",16),t._UZ(58,"input",26),t.YNc(59,Qt,2,0,"div",18),t.qZA()(),t.TgZ(60,"h5",27)(61,"strong"),t._uU(62,"Satuan & Kemasan"),t.qZA()(),t.YNc(63,Yt,6,0,"div",28),t.TgZ(64,"div",29)(65,"table",30)(66,"thead")(67,"tr")(68,"th"),t._uU(69,"Nama"),t.qZA(),t.TgZ(70,"th"),t._uU(71,"Singkatan"),t.qZA(),t.TgZ(72,"th"),t._uU(73,"Isi"),t.qZA(),t.TgZ(74,"th"),t._uU(75,"Aksi"),t.qZA()()(),t.TgZ(76,"tbody"),t.YNc(77,jt,11,6,"tr",31),t.qZA()()(),t.TgZ(78,"button",32),t.NdJ("click",function(){return a.btnTambahKemasan()}),t._uU(79,"Tambah satuan/kemasan"),t.qZA()(),t.TgZ(80,"div",33)(81,"button",34),t._uU(82,"Simpan"),t.qZA()()()()()()()(),t.TgZ(83,"jw-modal",35)(84,"form",10),t.NdJ("submit",function(){return a.submitKemasan()}),t.TgZ(85,"div",36)(86,"h4",37),t._uU(87),t.qZA()(),t.TgZ(88,"div",38)(89,"div",39)(90,"label",40)(91,"span",41),t._uU(92,"*"),t.qZA(),t._uU(93,"Nama kemasan"),t.qZA(),t.TgZ(94,"div",42)(95,"input",43),t.NdJ("keyup",function(s){return a.ambilSingkatan(s.target.value,"child")}),t.qZA(),t.YNc(96,Dt,2,0,"div",18),t.qZA()(),t.TgZ(97,"div",39)(98,"label",40)(99,"span",41),t._uU(100,"*"),t.qZA(),t._uU(101,"Singkatan"),t.qZA(),t.TgZ(102,"div",20),t._UZ(103,"input",44),t.YNc(104,Pt,2,0,"div",18),t.qZA()(),t.TgZ(105,"div",39)(106,"label",40)(107,"span",41),t._uU(108,"*"),t.qZA(),t._uU(109,"Isi"),t.qZA(),t.TgZ(110,"div",20)(111,"input",45),t.NdJ("keypress",function(s){return a.isNumber(s)}),t.qZA(),t.YNc(112,Rt,2,0,"div",18),t.qZA()(),t.TgZ(113,"div",39)(114,"label",40),t._uU(115,"Satuan"),t.qZA(),t.TgZ(116,"div",16)(117,"select",46)(118,"option",47),t._uU(119,"---Pilih Satuan---"),t.qZA(),t.YNc(120,Gt,3,2,"ng-container",48),t.qZA()()()(),t.TgZ(121,"div",49)(122,"button",50),t.NdJ("click",function(){return a.closeBtnTambahKemasan()}),t._uU(123,"Batal"),t.qZA(),t.TgZ(124,"button",51),t._UZ(125,"i",52),t._uU(126," Simpan "),t.qZA()()()(),t.TgZ(127,"ngx-spinner",53)(128,"p",54),t._uU(129," Loading... "),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("title","Katalog Obat")("items",t.DdM(37,Xt))("active_item","Edit Katalog"),t.xp6(3),t.Q6J("routerLink",t.VKq(38,zt,a.last)),t.xp6(6),t.Q6J("formGroup",a.formInput),t.xp6(12),t.ekj("border-danger",a.formInput.controls.nama_barang.hasError("required")&&a.submitted),t.xp6(1),t.Q6J("ngIf",a.formInput.controls.nama_barang.hasError("required")&&a.submitted),t.xp6(7),t.ekj("border-danger",a.formInput.controls.kemasan_terkecil.hasError("required")&&a.submitted),t.xp6(1),t.Q6J("ngIf",a.formInput.controls.kemasan_terkecil.hasError("required")&&a.submitted),t.xp6(6),t.ekj("border-danger",a.formInput.controls.kemasan_terkecil_singkatan.hasError("required")&&a.submitted),t.xp6(1),t.Q6J("ngIf",a.formInput.controls.kemasan_terkecil_singkatan.hasError("required")&&a.submitted),t.xp6(5),t.ekj("border-danger",a.formInput.controls.komposisi.hasError("required")&&a.submitted),t.xp6(1),t.Q6J("ngIf",a.formInput.controls.komposisi.hasError("required")&&a.submitted),t.xp6(12),t.ekj("border-danger",a.formInput.controls.harga_jual.hasError("required")&&a.submitted),t.Q6J("options",a.optionsCur),t.xp6(1),t.Q6J("ngIf",(a.formInput.controls.harga_jual.hasError("required")||a.formInput.value.harga_jual<=0)&&a.submitted),t.xp6(4),t.Q6J("ngIf",0==a.formInput.value.kemasan.length),t.xp6(14),t.Q6J("ngForOf",a.formInput.get("kemasan").controls),t.xp6(7),t.Q6J("formGroup",a.formKemasan),t.xp6(3),t.Oqu(a.formKemasanTitle),t.xp6(8),t.ekj("border-danger",a.formKemasan.controls.nama.hasError("required")&&a.submittedKemasan),t.xp6(1),t.Q6J("ngIf",a.formKemasan.controls.nama.hasError("required")&&a.submittedKemasan),t.xp6(7),t.ekj("border-danger",a.formKemasan.controls.singkatan.hasError("required")&&a.submittedKemasan),t.xp6(1),t.Q6J("ngIf",a.formKemasan.controls.singkatan.hasError("required")&&a.submittedKemasan),t.xp6(7),t.ekj("border-danger",a.formKemasan.controls.isi.hasError("required")&&a.submittedKemasan),t.xp6(1),t.Q6J("ngIf",a.formKemasan.controls.isi.hasError("required")&&a.submittedKemasan),t.xp6(8),t.Q6J("ngForOf",a.formInput.value.kemasan),t.xp6(7),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[q.L,c.rH,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,g.O5,U.g1,g.sg,r.CE,r.x0,y.z,r.EJ,r.YN,r.Kr,f.Ro],styles:[""]}),n})();const $t=[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:R},{path:"buat-baru",component:Zt},{path:"edit-buat-baru/:id",component:O},{path:"edit-buat-baru/:id/:page",component:O},{path:"katalog-barang-bpom",component:Jt},{path:"import-csv",component:yt}];let Wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.Bz.forChild($t)],c.Bz]}),n})();var ta=u(60795),aa=u(16270),ea=u(36642),na=u(87046),ia=u(7039);let oa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.ez,Wt,ta.K,h.T,f.ef,r.u5,K.kn,r.UX,aa.z,U.Ud,I.Aw.forFeature("masterData_dataObat",na.E),ea.sQ.forFeature([ia.R])]]}),n})()},16270:(E,B,u)=>{u.d(B,{z:()=>h});var g=u(69808),c=u(5e3);let h=(()=>{class k{}return k.\u0275fac=function(T){return new(T||k)},k.\u0275mod=c.oAB({type:k}),k.\u0275inj=c.cJS({imports:[[g.ez]]}),k})()}}]);