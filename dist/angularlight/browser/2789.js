"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[2789],{89955:(q,C,u)=>{u.d(C,{s:()=>p});const p={url_module:{auth:"module_auth",official:"module_official",master:"module_master",resepsionis:"module_resepsionis",perawat:"module_perawat",dokter:"module_dokter",rekamMedis:"module_rekam_medis",export:"module_export",master_node:"module_master_node",gudangTransaksi:"modul_gudang_transaksi",modulImportFile:"modul_import_file",modulLaporan:"modul_laporan"}}},32789:(q,C,u)=>{u.r(C),u.d(C,{RoleModule:()=>Xe});var p=u(69808),x=u(64035),M=u(65415),c=u(65620);const B=(0,c.PH)("[ROLE] Add Role initial",(0,c.Ky)()),N=(0,c.PH)("[ROLE] add role success",(0,c.Ky)()),D=(0,c.PH)("[ROLE] add role failure",(0,c.Ky)()),Y=(0,c.PH)("[ROLE] edit role initial",(0,c.Ky)()),P=(0,c.PH)("[ROLE] edit role success",(0,c.Ky)()),Q=(0,c.PH)("[ROLE] edit role failure ",(0,c.Ky)()),I=(0,c.PH)("[ROLE] get role by id initial",(0,c.Ky)()),V=(0,c.PH)("[ROLE] get role by id success",(0,c.Ky)()),j=(0,c.PH)("[ROLE] get role by id failure",(0,c.Ky)()),G=(0,c.PH)("[ROLE] delete role initial",(0,c.Ky)()),H=(0,c.PH)("[ROLE] delete role success",(0,c.Ky)()),W=(0,c.PH)("[ROLE] delete role failure",(0,c.Ky)()),oe=(0,c.PH)("[ROLE] table data");class E{}var se=u(2454),L=u.n(se),e=u(5e3),w=u(11094),y=u(50072),z=u(33399);const de=function(){return[]},ce=function(){return["../tambah"]};let he=(()=>{class r{constructor(t,a,i,n){this.roleService=t,this.spinner=a,this.store=i,this.router=n,this.datatableElement=M.G,this.dtOptions={},this.role=new E,this.getState=this.store.select("roleAkun")}ngOnInit(){this.dtOptions=this.showDataTables(),this.getState.subscribe(t=>{this.reloadTable=t.reloadTable,this.isLoadingButton=t.isLoadingButton,this.errorMessage=t.errorMessage,!0===this.reloadTable&&this.reLoadData()})}showDataTables(){return this.spinner.show("spinner1"),{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(t,a)=>{this.roleService.getDataTables(t).subscribe(i=>{this.spinner.hide("spinner1"),a({draw:i.response.draw,recordsTotal:i.response.recordsTotal,recordsFiltered:i.response.recordsFiltered,data:i.response.data})})},columns:[{data:"no",orderable:!1,searchable:!1,render:(t,a,i,n)=>n.row+1+n.settings._iDisplayStart},{data:"nama_role"},{data:"nama_role_type"},{data:"nama_level",render:(t,a,i,n)=>"Level "+i.level_akun+"-"+t},{orderable:!1,searchable:!1,render:(t,a,i,n)=>'<button class="btn btn-sm btn-ubah update-data ">Edit</button> <button class="btn nonaktif-data btn-hapus btn-sm">Hapus</button>'}],rowCallback:(t,a,i)=>{const n=this;return $("td .update-data",t).on("click",()=>{n.editData(a)}),$("td .nonaktif-data",t).on("click",()=>{n.nonAktif(a)}),t}}}editData(t){this.router.navigate(["role-and-rights","role","ubah",t.id_akun_role])}nonAktif(t){L().fire({title:"Apakah anda yakin akan menghapus data ini ?",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Ya, Non aktifkan saja!",cancelButtonText:"Tidak, Batalkan"}).then(a=>{a.value&&(this.spinner.show("spinner1"),this.store.dispatch(G({payload:{id:t.id_akun_role}})),setTimeout(()=>{this.spinner.hide("spinner1")},400))})}reLoadData(){this.datatableElement.dtInstance.then(t=>{t.ajax.reload()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(w.N),e.Y36(y.t2),e.Y36(c.yh),e.Y36(x.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view"]],viewQuery:function(t,a){if(1&t&&e.Gf(M.G,5),2&t){let i;e.iGM(i=e.CRH())&&(a.datatableElement=i.first)}},decls:36,vars:9,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-tambah","btn-lg",3,"routerLink"],[1,"fas","fa-plus"],[1,"card"],[1,"header"],[1,"body"],["datatable","","width","100%",1,"table","table-striped","table-bordered","table-sm","table-sm",3,"dtOptions"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Role & Rights"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e._UZ(9,"i",8),e._uU(10," Tambah Role"),e.qZA(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"h2")(16,"strong"),e._uU(17,"Role"),e.qZA()()(),e.TgZ(18,"div",11)(19,"table",12)(20,"thead")(21,"tr")(22,"th"),e._uU(23,"No"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Nama Role"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Tipe Role"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Level Role"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Aksi"),e.qZA()()(),e._UZ(32,"tbody"),e.qZA()()()()()(),e.TgZ(33,"ngx-spinner",13)(34,"p",14),e._uU(35," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Role & Rights")("items",e.DdM(7,de))("active_item","Role"),e.xp6(5),e.Q6J("routerLink",e.DdM(8,ce)),e.xp6(11),e.Q6J("dtOptions",a.dtOptions),e.xp6(14),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[z.L,x.rH,M.G,y.Ro],styles:[""]}),r})();var _=u(93075),ue=u(89955),pe=u(76334),_e=u(40520);let X=(()=>{class r{constructor(t,a){this.generalService=t,this.http=a,this.URL_MODULE=this.generalService.getUrlModule(ue.s.url_module.official)}getList(){return this.http.get(this.URL_MODULE+"/akun-level/get-level-akun")}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(pe.m),e.LFG(_e.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var ee=u(4163);function fe(r,s){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id_role_type),e.xp6(1),e.Oqu(t.nama_role_type)}}function me(r,s){1&r&&(e.TgZ(0,"div",31),e._uU(1," Tipe Role tidak boleh kosong "),e.qZA())}function ge(r,s){1&r&&(e.TgZ(0,"div",31),e._uU(1," Nama role tidak boleh kosong "),e.qZA())}function be(r,s){1&r&&(e.TgZ(0,"div",31),e._uU(1," Nama role tidak valid "),e.qZA())}function ve(r,s){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id_akun_level),e.xp6(1),e.AsE("Level ",t.level_akun," - ",t.nama_level,"")}}function Re(r,s){1&r&&(e.TgZ(0,"div",31),e._uU(1," Akun level tidak boleh kosong "),e.qZA())}function xe(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",32),e.NdJ("change",function(i){const l=e.CHM(t).index,o=e.oxw().index,d=e.oxw().index,h=e.oxw().index,f=e.oxw().index;return e.oxw().fieldsChangeRepairKelima(i,f,h,d,o,l)}),e.qZA(),e.TgZ(3,"label",33),e._uU(4),e.qZA()()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama)}}function ke(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",32),e.NdJ("change",function(i){const l=e.CHM(t).index,o=e.oxw().index,d=e.oxw().index,h=e.oxw().index;return e.oxw().fieldsChangeRepairKeempat(i,h,d,o,l)}),e.qZA(),e.TgZ(3,"label",33),e._uU(4),e.qZA()(),e.TgZ(5,"ul"),e.YNc(6,xe,5,3,"li",23),e.qZA()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama),e.xp6(2),e.Q6J("ngForOf",t.child)}}function Te(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",32),e.NdJ("change",function(i){const l=e.CHM(t).index,o=e.oxw().index,d=e.oxw().index;return e.oxw().fieldsChangeRepairKetiga(i,d,o,l)}),e.qZA(),e.TgZ(3,"label",33),e._uU(4),e.qZA()(),e.TgZ(5,"ul"),e.YNc(6,ke,7,4,"li",23),e.qZA()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama),e.xp6(2),e.Q6J("ngForOf",t.child)}}function Me(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",32),e.NdJ("change",function(i){const l=e.CHM(t).index,o=e.oxw().index;return e.oxw().fieldsChangeRepairKedua(i,o,l)}),e.qZA(),e.TgZ(3,"label",33),e._uU(4),e.qZA()(),e.TgZ(5,"ul"),e.YNc(6,Te,7,4,"li",23),e.qZA()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama),e.xp6(2),e.Q6J("ngForOf",t.child)}}function Ce(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",32),e.NdJ("change",function(i){const l=e.CHM(t).index;return e.oxw().fieldsChangeRepair(i,l)}),e.qZA(),e.TgZ(3,"label",33),e._uU(4),e.qZA()(),e.TgZ(5,"ul"),e.YNc(6,Me,7,4,"li",23),e.qZA()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama),e.xp6(2),e.Q6J("ngForOf",t.child)}}const Ze=function(){return["Role","View"]},Ee=function(){return["../view"]},ye=function(r,s){return{"fa-spin fa-spinner pulse":r,"fa-save":s}};function Oe(r,s){if(1&r&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id_role_type),e.xp6(1),e.Oqu(t.nama_role_type)}}function Ue(r,s){1&r&&(e.TgZ(0,"div",30),e._uU(1," Tipe Role tidak boleh kosong "),e.qZA())}function Le(r,s){1&r&&(e.TgZ(0,"div",30),e._uU(1," Nama role tidak boleh kosong "),e.qZA())}function Fe(r,s){1&r&&(e.TgZ(0,"div",30),e._uU(1," Nama role tidak valid "),e.qZA())}function qe(r,s){if(1&r&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id_akun_level),e.xp6(1),e.AsE("Level ",t.level_akun," - ",t.nama_level,"")}}function we(r,s){1&r&&(e.TgZ(0,"div",30),e._uU(1," Akun level tidak boleh kosong "),e.qZA())}function Ke(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",31),e.NdJ("change",function(i){const l=e.CHM(t).index,o=e.oxw().index,d=e.oxw().index,h=e.oxw().index,f=e.oxw().index;return e.oxw().fieldsChangeRepairKelima(i,f,h,d,o,l)}),e.qZA(),e.TgZ(3,"label",32),e._uU(4),e.qZA()()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama)}}function Je(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",31),e.NdJ("change",function(i){const l=e.CHM(t).index,o=e.oxw().index,d=e.oxw().index,h=e.oxw().index;return e.oxw().fieldsChangeRepairKeempat(i,h,d,o,l)}),e.qZA(),e.TgZ(3,"label",32),e._uU(4),e.qZA()(),e.TgZ(5,"ul"),e.YNc(6,Ke,5,3,"li",23),e.qZA()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",!t.value_checkbox&&t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama),e.xp6(2),e.Q6J("ngForOf",t.child)}}function Se(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",31),e.NdJ("change",function(i){const l=e.CHM(t).index,o=e.oxw().index,d=e.oxw().index;return e.oxw().fieldsChangeRepairKetiga(i,d,o,l)}),e.qZA(),e.TgZ(3,"label",32),e._uU(4),e.qZA()(),e.TgZ(5,"ul"),e.YNc(6,Je,7,4,"li",23),e.qZA()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama),e.xp6(2),e.Q6J("ngForOf",t.child)}}function Be(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",31),e.NdJ("change",function(i){const l=e.CHM(t).index,o=e.oxw().index;return e.oxw().fieldsChangeRepairKedua(i,o,l)}),e.qZA(),e.TgZ(3,"label",32),e._uU(4),e.qZA()(),e.TgZ(5,"ul"),e.YNc(6,Se,7,4,"li",23),e.qZA()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama),e.xp6(2),e.Q6J("ngForOf",t.child)}}function Ne(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div")(2,"input",31),e.NdJ("change",function(i){const l=e.CHM(t).index;return e.oxw().fieldsChangeRepair(i,l)}),e.qZA(),e.TgZ(3,"label",32),e._uU(4),e.qZA()(),e.TgZ(5,"ul"),e.YNc(6,Be,7,4,"li",23),e.qZA()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Q6J("indeterminate",t.indeterminate)("checked",t.value_checkbox),e.xp6(2),e.Oqu(t.nama),e.xp6(2),e.Q6J("ngForOf",t.child)}}const De=function(){return["Role","View"]},Ye=function(){return["../../view"]},Pe=function(r,s){return{"fa-spin fa-spinner pulse":r,"fa-save":s}},Qe=[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:he},{path:"tambah",component:(()=>{class r{constructor(t,a,i,n,l,o,d,h,f){this.fb=t,this.elementRef=a,this.renderer=i,this.spinner=n,this.levelAkunService=l,this.typeRoleService=o,this.roleService=d,this.store=h,this.el=f,this.role=new E,this.submitted=!1,this.dataMenu=[],this.levelRole=[],this.typeRole=[],this.dataMenuRepair=[],this.terapkan_akun=1,this.getState=this.store.select("roleAkun")}ngOnInit(){this.spinner.show("spinner1"),this.formTambah=this.fb.group({id_role_type:["",[_.kI.required]],nama_role:["",[_.kI.required,_.kI.pattern("[a-zA-Z]+([a-zA-Z ]+)*")]],id_akun_level:["",[_.kI.required]]}),this.loadLevelAkun(),this.loadTypeRole(),setTimeout(()=>{this.spinner.hide("spinner1")},600),this.getState.subscribe(t=>{this.role=t.role,this.isLoadingButton=t.isLoadingButton,this.errorMessage=t.errorMessage})}submitForm(){if(this.submitted=!1,setTimeout(()=>{this.submitted=!0},300),this.formTambah.invalid){for(const t of Object.keys(this.formTambah.controls))if(this.formTambah.controls[t].invalid){this.el.nativeElement.querySelector('[formcontrolname="'+t+'"]').focus();break}}else this.spinner.show("spinner1"),L().fire({title:"Terapkan Akun",html:'<div class="w100 mx-2 text-left"><input type="radio" checked value="1" name="eventOption" class="radio"> Ya</div><div class="w100 mx-2 text-left"><input type="radio" value="0" name="eventOption" class="radio"> Tidak</div>',focusConfirm:!1,preConfirm:()=>$("[name='eventOption']").val(),showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"OK",cancelButtonText:"Cancel"}).then(t=>{if(t.isConfirmed){let a=new E;a.id_role_type=this.formTambah.value.id_role_type,a.nama_role=this.formTambah.value.nama_role,a.id_akun_level=this.formTambah.value.id_akun_level,a.terapkan_akun=t.value,a.detail=this.filterDataMenuMenjadiResponRepair(this.functionFilterJson(this.dataMenuRepair)),this.store.dispatch(B({payload:a})),setTimeout(()=>{this.spinner.hide("spinner1")},400)}})}filterDataMenuMenjadiResponRepair(t){let a=[];return t.forEach((i,n)=>{1==i.status_right?a.push(this.dataMenu[n]):i.child.forEach((l,o)=>{1==l.status_right&&a.push(l)})}),a}functionFilterJson(t){let a=[];return t.length>0&&t.forEach(i=>{i.child.length>0&&i.child.forEach(n=>{n.child.length>0&&n.child.forEach((l,o)=>{1==l.status_right?void 0===a.find(h=>h.id==n.id)&&a.push(n):a.push(l)})})}),a}filterDataMenuMenjadiRespon(){let t=[];return this.dataMenu.forEach((a,i)=>{1==a.status_right?t.push(this.dataMenu[i]):a.child.forEach((n,l)=>{1==n.status_right&&t.push(n)})}),t}loadLevelAkun(){this.levelAkunService.getList().subscribe(t=>{this.levelRole=t.response},t=>{console.log("error",t)})}loadTypeRole(){this.typeRoleService.getListTipeRole().subscribe(t=>{this.typeRole=t.response.sort((a,i)=>a.nama_role_type.localeCompare(i.nama_role_type))})}changeRoleType(t){this.roleService.getMenuRight(t.target.value).subscribe(a=>{a.response=a.response.sort((i,n)=>i.nama.localeCompare(n.nama)),this.dataMenuRepair=a.response,a.response.map((i,n)=>{i.child.length>1&&(this.dataMenuRepair[n].child=i.child.sort((l,o)=>l.nama.localeCompare(o.nama)),i.child.map((l,o)=>{l.child.length>1&&(this.dataMenuRepair[n].child[o].child=l.child.sort((d,h)=>d.nama.localeCompare(h.nama)),l.child.map((d,h)=>{d.child.length>1&&(this.dataMenuRepair[n].child[o].child[h].child=d.child.sort((f,A)=>f.nama.localeCompare(A.nama)))}))}))})})}ngAfterViewInit(){this.renderer.listen("document","click",t=>{t.target.hasAttribute("input-checkbox")})}fieldsChange(t,a){this.dataMenu[a].value_checkbox=t.target.checked,this.loop_pertama(t.target.checked,a)}loop_pertama(t,a){this.dataMenu[a].child.forEach((i,n)=>{i.value_checkbox=t,i.child.length>0&&i.child.forEach(l=>{l.value_checkbox=t,l.child.length>0&&l.child.forEach(o=>{o.value_checkbox=t,o.child.length>0&&o.child.forEach(d=>{d.value_checkbox=t})})})})}fieldsChange_kedua(t,a,i){this.dataMenu[a].child[i].value_checkbox=t.target.checked,this.loop_kedua(t.target.checked,a,i),void 0===this.dataMenu[a].child.find(l=>!1===l.value_checkbox)?(this.dataMenu[a].value_checkbox=!0,this.dataMenu[a].indeterminate=!1):(this.dataMenu[a].value_checkbox=!1,this.dataMenu[a].indeterminate=!0)}loop_kedua(t,a,i){this.dataMenu[a].child[i].child.forEach(n=>{n.value_checkbox=t,n.child.length>0&&n.child.forEach(l=>{l.value_checkbox=t,l.child.length>0&&l.child.forEach(o=>{o.value_checkbox=t})})})}fieldsChangeRepair(t,a){this.dataMenuRepair[a].value_checkbox=!0,this.loopPertamaRepair(t.target.checked,a)}fieldsChangeRepairKedua(t,a,i){this.dataMenuRepair[a].child[i].value_checkbox=t.target.checked,this.loopKeduaRepair(t.target.checked,a,i),void 0===this.dataMenuRepair[a].child.find(l=>!1===l.value_checkbox)?(this.dataMenuRepair[a].value_checkbox=!0,this.dataMenuRepair[a].indeterminate=!1):(this.dataMenuRepair[a].value_checkbox=!1,this.dataMenuRepair[a].indeterminate=!0)}fieldsChangeRepairKetiga(t,a,i,n){this.dataMenuRepair[a].child[i].child[n].value_checkbox=t.target.checked,this.loopKetigaRepair(t.target.checked,a,i,n),void 0===this.dataMenuRepair[a].child[i].child.find(d=>!1===d.value_checkbox)?(this.dataMenuRepair[a].child[i].value_checkbox=!0,this.dataMenuRepair[a].child[i].indeterminate=!1):(this.dataMenuRepair[a].child[i].value_checkbox=!1,this.dataMenuRepair[a].child[i].indeterminate=!0),void 0===this.dataMenuRepair[a].child.find(d=>!1===d.value_checkbox)?(this.dataMenuRepair[a].value_checkbox=!0,this.dataMenuRepair[a].indeterminate=!1):(this.dataMenuRepair[a].value_checkbox=!1,this.dataMenuRepair[a].indeterminate=!0)}fieldsChangeRepairKeempat(t,a,i,n,l){this.dataMenuRepair[a].child[i].child[n].child[l].value_checkbox=t.target.checked,this.loopKeempatRepair(t.target.checked,a,i,n,l),void 0===this.dataMenuRepair[a].child[i].child[n].child.find(f=>!1===f.value_checkbox)?(this.dataMenuRepair[a].child[i].child[n].value_checkbox=!0,this.dataMenuRepair[a].child[i].child[n].indeterminate=!1):(this.dataMenuRepair[a].child[i].child[n].value_checkbox=!1,this.dataMenuRepair[a].child[i].child[n].indeterminate=!0),void 0===this.dataMenuRepair[a].child[i].child.find(f=>!1===f.value_checkbox)?(this.dataMenuRepair[a].child[i].value_checkbox=!0,this.dataMenuRepair[a].child[i].indeterminate=!1):(this.dataMenuRepair[a].child[i].value_checkbox=!1,this.dataMenuRepair[a].child[i].indeterminate=!0),void 0===this.dataMenuRepair[a].child.find(f=>!1===f.value_checkbox)?(this.dataMenuRepair[a].value_checkbox=!0,this.dataMenuRepair[a].indeterminate=!1):(this.dataMenuRepair[a].value_checkbox=!1,this.dataMenuRepair[a].indeterminate=!0)}fieldsChangeRepairKelima(t,a,i,n,l,o){this.dataMenuRepair[a].child[i].child[n].child[l].child[o].value_checkbox=t.target.checked,this.loopKelimaRepair(t.target.checked,a,i,n,l,o),void 0===this.dataMenuRepair[a].child[i].child[n].child[l].child.find(v=>!1===v.value_checkbox)?(this.dataMenuRepair[a].child[i].child[n].child[l].value_checkbox=!0,this.dataMenuRepair[a].child[i].child[n].child[l].indeterminate=!1):(this.dataMenuRepair[a].child[i].child[n].child[l].value_checkbox=!1,this.dataMenuRepair[a].child[i].child[n].child[l].indeterminate=!0),void 0===this.dataMenuRepair[a].child[i].child[n].child.find(v=>!1===v.value_checkbox)?(this.dataMenuRepair[a].child[i].child[n].value_checkbox=!0,this.dataMenuRepair[a].child[i].child[n].indeterminate=!1):(this.dataMenuRepair[a].child[i].child[n].value_checkbox=!1,this.dataMenuRepair[a].child[i].child[n].indeterminate=!0),void 0===this.dataMenuRepair[a].child[i].child.find(v=>!1===v.value_checkbox)?(this.dataMenuRepair[a].child[i].value_checkbox=!0,this.dataMenuRepair[a].child[i].indeterminate=!1):(this.dataMenuRepair[a].child[i].value_checkbox=!1,this.dataMenuRepair[a].child[i].indeterminate=!0),void 0===this.dataMenuRepair[a].child.find(v=>!1===v.value_checkbox)?(this.dataMenuRepair[a].value_checkbox=!0,this.dataMenuRepair[a].indeterminate=!1):(this.dataMenuRepair[a].value_checkbox=!1,this.dataMenuRepair[a].indeterminate=!0)}loopPertamaRepair(t,a){this.dataMenuRepair[a].child.forEach((i,n)=>{i.value_checkbox=t,i.indeterminate=!t,i.child.length>0&&i.child.forEach(l=>{l.value_checkbox=t,l.indeterminate=!t,l.child.length>0&&l.child.forEach(o=>{o.value_checkbox=t,o.indeterminate=!t,o.child.length>0&&o.child.forEach(d=>{d.value_checkbox=t,d.indeterminate=!t})})})})}loopKeduaRepair(t,a,i){this.dataMenuRepair[a].child[i].child.forEach((n,l)=>{n.value_checkbox=t,n.indeterminate=!t,n.child.length>0&&n.child.forEach(o=>{o.value_checkbox=t,o.indeterminate=!t,o.child.length>0&&o.child.forEach(d=>{d.value_checkbox=t,d.indeterminate=!t,d.child.length>0&&d.child.forEach(h=>{h.value_checkbox=t,h.indeterminate=!t})})})})}loopKetigaRepair(t,a,i,n){this.dataMenuRepair[a].child[i].child[n].child.forEach((l,o)=>{l.value_checkbox=t,l.indeterminate=!t,l.child.length>0&&l.child.forEach(d=>{d.value_checkbox=t,d.indeterminate=!t,d.child.length>0&&d.child.forEach(h=>{h.value_checkbox=t,h.indeterminate=!t})})})}loopKeempatRepair(t,a,i,n,l){this.dataMenuRepair[a].child[i].child[n].child[l].child.forEach((o,d)=>{o.value_checkbox=t,o.indeterminate=!t,o.child.length>0&&o.child.forEach(h=>{h.value_checkbox=t,h.indeterminate=!t})})}loopKelimaRepair(t,a,i,n,l,o){this.dataMenuRepair[a].child[i].child[n].child[l].child[o].child.forEach((d,h)=>{d.value_checkbox=t,d.indeterminate=!t})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_.qu),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(y.t2),e.Y36(X),e.Y36(ee.w),e.Y36(w.N),e.Y36(c.yh),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tambah"]],decls:60,vars:27,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-kembali","btn-lg",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"card"],[1,"header"],[1,"body"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],["for","exampleFormControlInput1",1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-9"],["formControlName","id_role_type",1,"form-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["type","text","formControlName","nama_role","placeholder","Nama Role",1,"form-control"],["formControlName","id_akun_level",1,"form-select"],[1,"col-sm-10"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-simpan","btn-lg",3,"disabled"],[1,"fa",3,"ngClass"],[1,"footer","text-center"],[1,"mb-4"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[3,"value"],[1,"form-text","text-danger"],["type","checkbox",3,"indeterminate","checked","change"],[1,"ps-2"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Tambah Role"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e._UZ(9,"i",8),e._uU(10," Kembali"),e.qZA(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"h2")(16,"strong"),e._uU(17,"Form Tambah Role"),e.qZA()()(),e.TgZ(18,"div",11)(19,"form",12),e.NdJ("ngSubmit",function(){return a.submitForm()}),e.TgZ(20,"div",13)(21,"label",14),e._uU(22,"Tipe Role"),e.qZA(),e.TgZ(23,"div",15)(24,"select",16),e.NdJ("change",function(n){return a.changeRoleType(n)}),e.TgZ(25,"option",17),e._uU(26,"Pilih Tipe Role"),e.qZA(),e.YNc(27,fe,2,2,"option",18),e.qZA(),e.YNc(28,me,2,0,"div",19),e.qZA()(),e.TgZ(29,"div",13)(30,"label",14),e._uU(31,"Nama Role"),e.qZA(),e.TgZ(32,"div",15),e._UZ(33,"input",20),e.YNc(34,ge,2,0,"div",19),e.YNc(35,be,2,0,"div",19),e.qZA()(),e.TgZ(36,"div",13)(37,"label",14),e._uU(38,"Level Role"),e.qZA(),e.TgZ(39,"div",15)(40,"select",21)(41,"option",17),e._uU(42,"Pilih Level Role"),e.qZA(),e.YNc(43,ve,2,3,"option",18),e.qZA(),e.YNc(44,Re,2,0,"div",19),e.qZA()(),e.TgZ(45,"div",13)(46,"label",14),e._uU(47,"Rights"),e.qZA(),e.TgZ(48,"div",22)(49,"ul"),e.YNc(50,Ce,7,4,"li",23),e.qZA()()(),e.TgZ(51,"div",4)(52,"button",24),e._UZ(53,"i",25),e._uU(54," Simpan "),e.qZA()()()(),e.TgZ(55,"div",26),e._UZ(56,"div",27),e.qZA()()()()(),e.TgZ(57,"ngx-spinner",28)(58,"p",29),e._uU(59," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Role & Rights")("items",e.DdM(22,Ze))("active_item","Tambah"),e.xp6(5),e.Q6J("routerLink",e.DdM(23,Ee)),e.xp6(11),e.Q6J("formGroup",a.formTambah),e.xp6(5),e.ekj("border-danger",a.formTambah.controls.id_role_type.hasError("required")&&a.submitted),e.xp6(3),e.Q6J("ngForOf",a.typeRole),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.id_role_type.hasError("required")&&a.submitted),e.xp6(5),e.ekj("border-danger",a.formTambah.controls.nama_role.hasError("required")&&a.submitted),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.nama_role.hasError("required")&&a.submitted),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.nama_role.hasError("pattern")&&a.submitted),e.xp6(5),e.ekj("border-danger",a.formTambah.controls.id_akun_level.hasError("required")&&a.submitted),e.xp6(3),e.Q6J("ngForOf",a.levelRole),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.id_akun_level.hasError("required")&&a.submitted),e.xp6(6),e.Q6J("ngForOf",a.dataMenuRepair),e.xp6(2),e.Q6J("disabled",a.isLoadingButton),e.xp6(1),e.Q6J("ngClass",e.WLB(24,ye,a.isLoadingButton,!a.isLoadingButton)),e.xp6(4),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[z.L,x.rH,_._Y,_.JL,_.sg,_.EJ,_.JJ,_.u,_.YN,_.Kr,p.sg,p.O5,_.Fj,p.mk,y.Ro],styles:['ul[_ngcontent-%COMP%]{padding:5px;margin:0;list-style-type:none;position:relative}li[_ngcontent-%COMP%]{list-style-type:none;border-left:2px solid rgb(89,88,88);margin-left:2.5em}li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:1em;position:relative}li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-2px;bottom:50%;width:.75em;border:2px solid rgb(89,88,88);border-top:0 none transparent;border-right:0 none transparent}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{border-left:2px solid transparent}']}),r})()},{path:"ubah/:id",component:(()=>{class r{constructor(t,a,i,n,l,o,d,h){this.fb=t,this.store=a,this.levelAkunService=i,this.typeRoleService=n,this.roleService=l,this.spinner=o,this.activatedRoute=d,this.el=h,this.role=new E,this.dataMenu=[],this.levelRole=[],this.typeRole=[],this.submitted=!1,this.dataMenuRepair=[],this.getState=this.store.select("roleAkun")}ngOnInit(){this.formTambah=this.fb.group({id_role_type:["",[_.kI.required]],nama_role:["",[_.kI.required,_.kI.pattern("[a-zA-Z]+([a-zA-Z ]+)*")]],id_akun_level:["",[_.kI.required]]}),this.spinner.show("spinner1"),this.loadLevelAkun(),this.loadTypeRole(),this.getState.subscribe(t=>{this.role=t.role,this.isLoadingButton=t.isLoadingButton,this.errorMessage=t.errorMessage,this.isEdit=t.isEdit,this.isEdit&&(null!=this.role&&(this.formTambah.patchValue({id_role_type:this.role.id_role_type,nama_role:this.role.nama_role,id_akun_level:this.role.id_akun_level}),!0===Array.isArray(this.role.detail)&&void 0!==this.role.detail&&(this.dataMenuRepair=JSON.parse(JSON.stringify(this.role.detail)),this.dataMenuRepair=this.dataMenuRepair.sort((a,i)=>a.nama.localeCompare(i.nama)),this.dataMenuRepair.map((a,i)=>{let n=a.child;if(n.length>1){n=n.sort((o,d)=>o.nama.localeCompare(d.nama));let l=null;n.map((o,d)=>{o.child.length>1&&(o.child=o.child.sort((h,f)=>h.nama.localeCompare(f.nama)),o.child.map((h,f)=>{h.child.length>1&&(h.child=h.child.sort((A,v)=>A.nama.localeCompare(v.nama)))}),l=o)}),n=l}this.dataMenuRepair[i][a]=n}))),this.spinner.hide("spinner1"))}),this.activatedRoute.params.subscribe(t=>{t&&(this.store.dispatch(I({payload:{id:t.id}})),setTimeout(()=>{this.spinner.show("spinner1")},400))})}submitForm(){if(this.submitted=!1,setTimeout(()=>{this.submitted=!0},300),this.formTambah.invalid){for(const t of Object.keys(this.formTambah.controls))if(this.formTambah.controls[t].invalid){this.el.nativeElement.querySelector('[formcontrolname="'+t+'"]').focus();break}}else L().fire({title:"Terapkan Akun",html:'<div class=" mx-2 text-left"><input type="radio" checked value="1" name="eventOption" class="radio"> Ya</div><div class=" mx-2 text-left"><input type="radio" value="0" name="eventOption" class="radio"> Tidak</div>',focusConfirm:!1,preConfirm:()=>$("[name='eventOption']").val(),showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"OK",cancelButtonText:"Cancel"}).then(t=>{if(t.isConfirmed){let a=new E;a.id_akun_role=this.role.id_akun_role,a.id_role_type=this.formTambah.value.id_role_type,a.nama_role=this.formTambah.value.nama_role,a.id_akun_level=this.formTambah.value.id_akun_level,a.terapkan_akun=t.value,a.detail=this.filterDataMenuMenjadiResponRepair(this.functionFilterJson(this.dataMenuRepair)),this.store.dispatch(Y({payload:a}))}})}filterDataMenuMenjadiResponRepair(t){let a=[];return t.forEach((i,n)=>{1==i.status_right?a.push(this.dataMenu[n]):i.child.forEach((l,o)=>{1==l.status_right&&a.push(l)})}),a}functionFilterJson(t){let a=[];return t.length>0&&t.forEach(i=>{i.child.length>0&&i.child.forEach(n=>{n.child.length>0&&n.child.forEach((l,o)=>{1==l.status_right?void 0===a.find(h=>h.id==n.id)&&a.push(n):a.push(l)})})}),a}loadLevelAkun(){this.levelAkunService.getList().subscribe(t=>{this.levelRole=t.response},t=>{console.log("error",t)})}loadTypeRole(){this.typeRoleService.getListTipeRole().subscribe(t=>{this.typeRole=t.response})}changeRoleType(t){this.roleService.getMenuRight(t.target.value).subscribe(a=>{this.dataMenuRepair=a.response})}fieldsChange(t,a){this.dataMenu[a].value_checkbox=t.target.checked,this.loop_pertama(t.target.checked,a)}loop_pertama(t,a){this.dataMenu[a].child.forEach((i,n)=>{i.value_checkbox=t,i.child.length>0&&i.child.forEach(l=>{l.value_checkbox=t,l.child.length>0&&l.child.forEach(o=>{o.value_checkbox=t,o.child.length>0&&o.child.forEach(d=>{d.value_checkbox=t})})})})}fieldsChange_kedua(t,a,i){this.dataMenu[a].child[i].value_checkbox=t.target.checked,this.loop_kedua(t.target.checked,a,i),void 0===this.dataMenu[a].child.find(l=>!1===l.value_checkbox)?(this.dataMenu[a].value_checkbox=!0,this.dataMenu[a].indeterminate=!1):(this.dataMenu[a].value_checkbox=!1,this.dataMenu[a].indeterminate=!0)}loop_kedua(t,a,i){this.dataMenu[a].child[i].child.forEach(n=>{n.value_checkbox=t,n.child.length>0&&n.child.forEach(l=>{l.value_checkbox=t,l.child.length>0&&l.child.forEach(o=>{o.value_checkbox=t})})})}fieldsChangeRepair(t,a){this.dataMenuRepair[a].value_checkbox=!0,this.loopPertamaRepair(t.target.checked,a)}fieldsChangeRepairKedua(t,a,i){this.dataMenuRepair[a].child[i].value_checkbox=t.target.checked,this.loopKeduaRepair(t.target.checked,a,i),void 0===this.dataMenuRepair[a].child.find(l=>!1===l.value_checkbox)?(this.dataMenuRepair[a].value_checkbox=!0,this.dataMenuRepair[a].indeterminate=!1):(this.dataMenuRepair[a].value_checkbox=!1,this.dataMenuRepair[a].indeterminate=!0)}fieldsChangeRepairKetiga(t,a,i,n){this.dataMenuRepair[a].child[i].child[n].value_checkbox=t.target.checked,this.loopKetigaRepair(t.target.checked,a,i,n),void 0===this.dataMenuRepair[a].child[i].child.find(d=>!1===d.value_checkbox)?(this.dataMenuRepair[a].child[i].value_checkbox=!0,this.dataMenuRepair[a].child[i].indeterminate=!1):(this.dataMenuRepair[a].child[i].value_checkbox=!1,this.dataMenuRepair[a].child[i].indeterminate=!0),void 0===this.dataMenuRepair[a].child.find(d=>!1===d.value_checkbox)?(this.dataMenuRepair[a].value_checkbox=!0,this.dataMenuRepair[a].indeterminate=!1):(this.dataMenuRepair[a].value_checkbox=!1,this.dataMenuRepair[a].indeterminate=!0)}fieldsChangeRepairKeempat(t,a,i,n,l){this.dataMenuRepair[a].child[i].child[n].child[l].value_checkbox=t.target.checked,this.loopKeempatRepair(t.target.checked,a,i,n,l),void 0===this.dataMenuRepair[a].child[i].child[n].child.find(f=>!1===f.value_checkbox)?(this.dataMenuRepair[a].child[i].child[n].value_checkbox=!0,this.dataMenuRepair[a].child[i].child[n].indeterminate=!1):(this.dataMenuRepair[a].child[i].child[n].value_checkbox=!1,this.dataMenuRepair[a].child[i].child[n].indeterminate=!0),void 0===this.dataMenuRepair[a].child[i].child.find(f=>!1===f.value_checkbox)?(this.dataMenuRepair[a].child[i].value_checkbox=!0,this.dataMenuRepair[a].child[i].indeterminate=!1):(this.dataMenuRepair[a].child[i].value_checkbox=!1,this.dataMenuRepair[a].child[i].indeterminate=!0),void 0===this.dataMenuRepair[a].child.find(f=>!1===f.value_checkbox)?(this.dataMenuRepair[a].value_checkbox=!0,this.dataMenuRepair[a].indeterminate=!1):(this.dataMenuRepair[a].value_checkbox=!1,this.dataMenuRepair[a].indeterminate=!0)}fieldsChangeRepairKelima(t,a,i,n,l,o){this.dataMenuRepair[a].child[i].child[n].child[l].child[o].value_checkbox=t.target.checked,this.loopKelimaRepair(t.target.checked,a,i,n,l,o),void 0===this.dataMenuRepair[a].child[i].child[n].child[l].child.find(v=>!1===v.value_checkbox)?(this.dataMenuRepair[a].child[i].child[n].child[l].value_checkbox=!0,this.dataMenuRepair[a].child[i].child[n].child[l].indeterminate=!1):(this.dataMenuRepair[a].child[i].child[n].child[l].value_checkbox=!1,this.dataMenuRepair[a].child[i].child[n].child[l].indeterminate=!0),void 0===this.dataMenuRepair[a].child[i].child[n].child.find(v=>!1===v.value_checkbox)?(this.dataMenuRepair[a].child[i].child[n].value_checkbox=!0,this.dataMenuRepair[a].child[i].child[n].indeterminate=!1):(this.dataMenuRepair[a].child[i].child[n].value_checkbox=!1,this.dataMenuRepair[a].child[i].child[n].indeterminate=!0),void 0===this.dataMenuRepair[a].child[i].child.find(v=>!1===v.value_checkbox)?(this.dataMenuRepair[a].child[i].value_checkbox=!0,this.dataMenuRepair[a].child[i].indeterminate=!1):(this.dataMenuRepair[a].child[i].value_checkbox=!1,this.dataMenuRepair[a].child[i].indeterminate=!0),void 0===this.dataMenuRepair[a].child.find(v=>!1===v.value_checkbox)?(this.dataMenuRepair[a].value_checkbox=!0,this.dataMenuRepair[a].indeterminate=!1):(this.dataMenuRepair[a].value_checkbox=!1,this.dataMenuRepair[a].indeterminate=!0)}loopPertamaRepair(t,a){this.dataMenuRepair[a].child.forEach((i,n)=>{i.value_checkbox=t,i.indeterminate=!t,i.child.length>0&&i.child.forEach(l=>{l.value_checkbox=t,l.indeterminate=!t,l.child.length>0&&l.child.forEach(o=>{o.value_checkbox=t,o.indeterminate=!t,o.child.length>0&&o.child.forEach(d=>{d.value_checkbox=t,d.indeterminate=!t})})})})}loopKeduaRepair(t,a,i){this.dataMenuRepair[a].child[i].child.forEach((n,l)=>{n.value_checkbox=t,n.indeterminate=!t,n.child.length>0&&n.child.forEach(o=>{o.value_checkbox=t,o.indeterminate=!t,o.child.length>0&&o.child.forEach(d=>{d.value_checkbox=t,d.indeterminate=!t,d.child.length>0&&d.child.forEach(h=>{h.value_checkbox=t,h.indeterminate=!t})})})})}loopKetigaRepair(t,a,i,n){this.dataMenuRepair[a].child[i].child[n].child.forEach((l,o)=>{l.value_checkbox=t,l.indeterminate=!t,l.child.length>0&&l.child.forEach(d=>{d.value_checkbox=t,d.indeterminate=!t,d.child.length>0&&d.child.forEach(h=>{h.value_checkbox=t,h.indeterminate=!t})})})}loopKeempatRepair(t,a,i,n,l){this.dataMenuRepair[a].child[i].child[n].child[l].child.forEach((o,d)=>{o.value_checkbox=t,o.indeterminate=!t,o.child.length>0&&o.child.forEach(h=>{h.value_checkbox=t,h.indeterminate=!t})})}loopKelimaRepair(t,a,i,n,l,o){this.dataMenuRepair[a].child[i].child[n].child[l].child[o].child.forEach((d,h)=>{d.value_checkbox=t,d.indeterminate=!t})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_.qu),e.Y36(c.yh),e.Y36(X),e.Y36(ee.w),e.Y36(w.N),e.Y36(y.t2),e.Y36(x.gz),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ubah"]],decls:59,vars:28,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-kembali","btn-lg",3,"routerLink","disabled"],[1,"fas","fa-arrow-left"],[1,"card"],[1,"header"],[1,"body"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],["for","exampleFormControlInput1",1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-9"],["formControlName","id_role_type",1,"form-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["type","text","formControlName","nama_role","placeholder","Nama Role",1,"form-control"],["formControlName","id_akun_level",1,"form-select"],[1,"col-sm-10"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-simpan","btn-lg",3,"disabled"],[1,"fa",3,"ngClass"],[1,"footer"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],[3,"value"],[1,"form-text","text-danger"],["type","checkbox",3,"indeterminate","checked","change"],[1,"ps-2"]],template:function(t,a){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"h3",4),e._uU(5,"Ubah Role"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e._UZ(9,"i",8),e._uU(10," Kembali"),e.qZA(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"h2")(16,"strong"),e._uU(17,"Form Ubah Role"),e.qZA()()(),e.TgZ(18,"div",11)(19,"form",12),e.NdJ("ngSubmit",function(){return a.submitForm()}),e.TgZ(20,"div",13)(21,"label",14),e._uU(22,"Tipe Role"),e.qZA(),e.TgZ(23,"div",15)(24,"select",16),e.NdJ("change",function(n){return a.changeRoleType(n)}),e.TgZ(25,"option",17),e._uU(26,"Pilih Tipe Role"),e.qZA(),e.YNc(27,Oe,2,2,"option",18),e.qZA(),e.YNc(28,Ue,2,0,"div",19),e.qZA()(),e.TgZ(29,"div",13)(30,"label",14),e._uU(31,"Nama Role"),e.qZA(),e.TgZ(32,"div",15),e._UZ(33,"input",20),e.YNc(34,Le,2,0,"div",19),e.YNc(35,Fe,2,0,"div",19),e.qZA()(),e.TgZ(36,"div",13)(37,"label",14),e._uU(38,"Level Role"),e.qZA(),e.TgZ(39,"div",15)(40,"select",21)(41,"option",17),e._uU(42,"Pilih Level Role"),e.qZA(),e.YNc(43,qe,2,3,"option",18),e.qZA(),e.YNc(44,we,2,0,"div",19),e.qZA()(),e.TgZ(45,"div",13)(46,"label",14),e._uU(47,"Rights"),e.qZA(),e.TgZ(48,"div",22)(49,"ul"),e.YNc(50,Ne,7,4,"li",23),e.qZA()()(),e.TgZ(51,"div",4)(52,"button",24),e._UZ(53,"i",25),e._uU(54," Simpan "),e.qZA()()()(),e._UZ(55,"div",26),e.qZA()()()(),e.TgZ(56,"ngx-spinner",27)(57,"p",28),e._uU(58," Loading... "),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("title","Role & Rights")("items",e.DdM(23,De))("active_item","Ubah"),e.xp6(5),e.Q6J("routerLink",e.DdM(24,Ye))("disabled",a.isLoadingButton),e.xp6(11),e.Q6J("formGroup",a.formTambah),e.xp6(5),e.ekj("border-danger",a.formTambah.controls.id_role_type.hasError("required")&&a.submitted),e.xp6(3),e.Q6J("ngForOf",a.typeRole),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.id_role_type.hasError("required")&&a.submitted),e.xp6(5),e.ekj("border-danger",a.formTambah.controls.nama_role.hasError("required")&&a.submitted),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.nama_role.hasError("required")&&a.submitted),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.nama_role.hasError("pattern")&&a.submitted),e.xp6(5),e.ekj("border-danger",a.formTambah.controls.id_akun_level.hasError("required")&&a.submitted),e.xp6(3),e.Q6J("ngForOf",a.levelRole),e.xp6(1),e.Q6J("ngIf",a.formTambah.controls.id_akun_level.hasError("required")&&a.submitted),e.xp6(6),e.Q6J("ngForOf",a.dataMenuRepair),e.xp6(2),e.Q6J("disabled",a.isLoadingButton),e.xp6(1),e.Q6J("ngClass",e.WLB(25,Pe,a.isLoadingButton,!a.isLoadingButton)),e.xp6(3),e.Q6J("name","spinner1")("fullScreen",!0))},directives:[z.L,x.rH,_._Y,_.JL,_.sg,_.EJ,_.JJ,_.u,_.YN,_.Kr,p.sg,p.O5,_.Fj,p.mk,y.Ro],styles:['ul[_ngcontent-%COMP%]{padding:5px;margin:0;list-style-type:none;position:relative}li[_ngcontent-%COMP%]{list-style-type:none;border-left:2px solid rgb(89,88,88);margin-left:2.5em}li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:1em;position:relative}li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-2px;bottom:50%;width:.75em;border:2px solid rgb(89,88,88);border-top:0 none transparent;border-right:0 none transparent}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{border-left:2px solid transparent}']}),r})()}];let Ie=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[x.Bz.forChild(Qe)],x.Bz]}),r})();var je=u(47423),Ge=u(60795),$e=u(77531),m=u(36642),K=u(63900),F=u(54004),J=u(70262),te=u(18505),S=u(39646);let He=(()=>{class r{constructor(t,a,i){this.actions$=t,this.router=a,this.roleService=i,this.addRole$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(B),(0,K.w)(n=>this.roleService.insert(n.payload).pipe((0,F.U)(l=>N({payload:l.response})),(0,J.K)(l=>(0,S.of)(D({message:l.metaData.message}))))))),this.addRoleSuccess$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(N),(0,te.b)(n=>{L().fire({title:"Data berhasil disimpan",icon:"success",showCancelButton:!1,allowOutsideClick:!1,confirmButtonText:"Ya, lanjutkan!"}).then(l=>{l.value&&this.router.navigate(["role-and-rights","role","view"])})})),{dispatch:!1}),this.addRoleFailure$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(D)),{dispatch:!1}),this.editRole$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Y),(0,K.w)(n=>this.roleService.update(n.payload.id_akun_role,n.payload).pipe((0,F.U)(l=>P({payload:l.response})),(0,J.K)(l=>(0,S.of)(Q({message:l.metaData.message}))))))),this.editRoleSuccess$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(P),(0,te.b)(n=>{L().fire({title:"Data berhasil diubah",icon:"success",showCancelButton:!1,allowOutsideClick:!1,confirmButtonText:"Ya, lanjutkan!"}).then(l=>{l.value&&this.router.navigate(["role-and-rights","role","view"])})})),{dispatch:!1}),this.editRoleFailure$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(Q)),{dispatch:!1}),this.getRoleById$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(I),(0,K.w)(n=>this.roleService.show(n.payload.id).pipe((0,F.U)(l=>V({payload:l.response})),(0,J.K)(l=>(0,S.of)(j({message:l.metaData.message}))))))),this.getRoleByIdFailure$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(j)),{dispatch:!1}),this.deleteRole$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(G),(0,K.w)(n=>this.roleService.delete(n.payload.id).pipe((0,F.U)(l=>H({payload:l.response})),(0,J.K)(l=>(0,S.of)(W({message:l.metaData.message}))))))),this.deleteRoleSuccess$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(H),(0,F.U)(n=>oe())),{dispatch:!1}),this.deleteRoleFailure$=(0,m.GW)(()=>this.actions$.pipe((0,m.l4)(W)),{dispatch:!1})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(m.eX),e.LFG(x.F0),e.LFG(w.N))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const ze=(0,c.Lq)({role:null,isLoadingButton:!1,errorMessage:null,reloadTable:!1,isEdit:!1},(0,c.on)(B,(r,s)=>Object.assign(Object.assign({},r),{isLoadingButton:!0,errorMessage:null})),(0,c.on)(N,(r,s)=>Object.assign(Object.assign({},r),{role:s.payload,errorMessage:null})),(0,c.on)(D,(r,s)=>Object.assign(Object.assign({},r),{errorMessage:s.message})),(0,c.on)(Y,(r,s)=>Object.assign(Object.assign({},r),{errorMessage:null,isLoadingButton:!0,isEdit:!1})),(0,c.on)(P,(r,s)=>Object.assign(Object.assign({},r),{role:s.payload,isLoadingButton:!1,isEdit:!1})),(0,c.on)(Q,(r,s)=>Object.assign(Object.assign({},r),{errorMessage:s.message,isLoadingButton:!1})),(0,c.on)(I,(r,s)=>Object.assign(Object.assign({},r),{role:new E,errorMessage:null,isLoadingButton:!0,isEdit:!1})),(0,c.on)(V,(r,s)=>Object.assign(Object.assign({},r),{role:s.payload,isLoadingButton:!1,isEdit:!0})),(0,c.on)(j,(r,s)=>Object.assign(Object.assign({},r),{errorMessage:s.message,isLoadingButton:!1,isEdit:!1})),(0,c.on)(G,(r,s)=>Object.assign(Object.assign({},r),{errorMessage:null,role:new E})),(0,c.on)(H,(r,s)=>Object.assign(Object.assign({},r),{role:s.payload,reloadTable:!0})),(0,c.on)(W,(r,s)=>Object.assign(Object.assign({},r),{errorMessage:s.message,reloadTable:!1})));function Ve(r,s){return ze(r,s)}let Xe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,Ie,y.ef,_.UX,_.u5,je.ot,Ge.K,$e.c,M.T,c.Aw.forFeature("roleAkun",Ve),m.sQ.forFeature([He])]]}),r})()},76334:(q,C,u)=>{u.d(C,{m:()=>M});var p=u(5e3),x=u(95305);let M=(()=>{class c{constructor(g){this.authService=g}getUrlModule(g){return this.authService.currentUserValue.repo.find(R=>R.key_repo==g).url_repo}list24Hours(g=60,b="05:00"){let k=this.generateHoursInterval(0,1440,g),R=k.findIndex(O=>O==b),Z=k.slice(R,k.length-1),U=k.slice(0,R);return Z.concat(U)}generateHoursInterval(g,b,k){const R=[];for(let O=0;g<1440&&!(g>b);O++){var Z=Math.floor(g/60),U=g%60;R[O]=("0"+Z%24).slice(-2)+":"+("0"+U).slice(-2),g+=k}return R}}return c.\u0275fac=function(g){return new(g||c)(p.LFG(x.e))},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},33399:(q,C,u)=>{u.d(C,{L:()=>g});var p=u(5e3),x=u(64035),M=u(66541),c=u(69808);function T(b,k){if(1&b&&(p.TgZ(0,"li",9),p._uU(1),p.qZA()),2&b){const R=k.$implicit;p.xp6(1),p.Oqu(R)}}let g=(()=>{class b{constructor(){}ngOnInit(){}}return b.\u0275fac=function(R){return new(R||b)},b.\u0275cmp=p.Xpm({type:b,selectors:[["app-breadcrumb"]],inputs:{title:"title",items:"items",active_item:"active_item"},decls:12,vars:4,consts:[[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[3,"routerLink"],["name","home",1,"breadcrumb-icon"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"]],template:function(R,Z){1&R&&(p.TgZ(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"h4",3),p._uU(5),p.qZA()(),p.TgZ(6,"li",4)(7,"a",5),p._UZ(8,"i-feather",6),p.qZA()(),p.YNc(9,T,2,1,"li",7),p.TgZ(10,"li",8),p._uU(11),p.qZA()()()()),2&R&&(p.xp6(5),p.Oqu(Z.title),p.xp6(2),p.Q6J("routerLink","/admin/welcome"),p.xp6(2),p.Q6J("ngForOf",Z.items),p.xp6(2),p.Oqu(Z.active_item))},directives:[x.yS,M.uy,c.sg],styles:[""]}),b})()},60795:(q,C,u)=>{u.d(C,{K:()=>c});var p=u(32471),x=u(65415),M=u(5e3);let c=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275mod=M.oAB({type:T}),T.\u0275inj=M.cJS({imports:[[p.m,x.T]]}),T})()}}]);