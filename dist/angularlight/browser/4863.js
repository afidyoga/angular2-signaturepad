"use strict";(self.webpackChunkangularlight=self.webpackChunkangularlight||[]).push([[4863],{86307:(R,f,u)=>{u.d(f,{m:()=>d});var g=u(5e3),l=u(95305);let d=(()=>{class p{constructor(_){this.authService=_}getUrlModule(_){return this.authService.currentUserValue.repo.find(U=>U.key_repo==_).url_repo}}return p.\u0275fac=function(_){return new(_||p)(g.LFG(l.e))},p.\u0275prov=g.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},54863:(R,f,u)=>{u.r(f),u.d(f,{ReturPenjualanModule:()=>Vt});var g=u(69808),l=u(65620),d=u(36642),p=u(64035),c=u(65415),_=u(2454),m=u.n(_);const w=(0,l.PH)("[RETUR PENJUALAN] add initial",(0,l.Ky)()),S=(0,l.PH)("[RETUR PENJUALAN] add success",(0,l.Ky)()),k=(0,l.PH)("[RETUR PENJUALAN] add failure ",(0,l.Ky)()),B=(0,l.PH)("[RETUR PENJUALAN] add initial",(0,l.Ky)()),N=(0,l.PH)("[RETUR PENJUALAN] add success",(0,l.Ky)()),L=(0,l.PH)("[RETUR PENJUALAN] add failure ",(0,l.Ky)()),rt=(0,l.PH)("[RETUR PENJUALAN] get byid initial",(0,l.Ky)()),ot=(0,l.PH)("[RETUR PENJUALAN] get byid success",(0,l.Ky)()),Q=(0,l.PH)("[RETUR PENJUALAN] get byid failure",(0,l.Ky)()),I=(0,l.PH)("[RETUR PENJUALAN] delete initial",(0,l.Ky)()),J=(0,l.PH)("[RETUR PENJUALAN] delete success",(0,l.Ky)()),F=(0,l.PH)("[RETUR PENJUALAN] delete failure",(0,l.Ky)()),lt=(0,l.PH)("[RETUR PENJUALAN] clear data "),C=(0,l.PH)("[RETUR PENJUALAN] table data");class y{}var t=u(5e3),A=u(50072),M=u(44151),ut=u(89955),dt=u(86307),ct=u(40520);let O=(()=>{class n{constructor(e,a){this.generalService=e,this.http=a,this.urlBase="retur",this.urlModule=this.generalService.getUrlModule(ut.s.url_module.gudangTransaksi)}show(e){return this.http.get(this.urlModule+"/"+this.urlBase+"/get-byid/"+e)}listDatatables(e){return this.http.post(this.urlModule+"/"+this.urlBase+"/get-datatables",e)}add(e){return this.http.post(this.urlModule+"/"+this.urlBase+"/create-from-penjualan",e)}addResep(e){return this.http.post(this.urlModule+"/"+this.urlBase+"/create-from-resep-dokter",e)}delete(e){return this.http.delete(this.urlModule+"/"+this.urlBase+"/delete/"+e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(dt.m),t.LFG(ct.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var G=u(94554),E=u(33399);const pt=function(){return["../list-penjualan"]};function ht(n,r){1&n&&(t.TgZ(0,"button",15),t._UZ(1,"i",16),t._uU(2," Ajukan Retur "),t.qZA()),2&n&&t.Q6J("routerLink",t.DdM(1,pt))}const _t=function(){return[]};let gt=(()=>{class n{constructor(e,a,i,s,o,h){this.spinner=e,this.modalService=a,this.ModulReturService=i,this.router=s,this.money=o,this.store=h,this.datatableElement=c.G,this.dtOptions={},this.dataBarang=new y,this.btnDetail=!1,this.btnDelete=!1,this.btnEdit=!1,this.btnSetting=!1,this.btnAdd=!1,this.view=!1,this.getState=this.store.select("retur")}ngOnInit(){this.spinner.show("spinner1");let e=JSON.parse(localStorage.getItem("currentUser"));e=e.menu_right,this.btnAdd=this.btnDelete=this.btnEdit=-1!=e.findIndex(a=>"ATRTPJ2"==a.kode),this.btnDetail=this.view=-1!=e.findIndex(a=>"ATRTPJ1"==a.kode),this.view||m().fire("Warning","Anda tidak mempunyai akses halaman ini","warning").then(()=>{window.location.href="/"}),this.dtOptions=this.showDataTables(),this.getState.subscribe(a=>{this.reloadTable=a.reloadTable,!0===this.reloadTable&&this.reLoadData()}),setTimeout(()=>{this.spinner.hide("spinner1")},600)}reLoadData(){this.datatableElement.dtInstance.then(e=>{e.ajax.reload()})}showDataTables(){let e=this;return{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(a,i)=>{this.ModulReturService.listDatatables(a).subscribe(s=>{i({draw:s.response.draw,recordsTotal:s.response.recordsTotal,recordsFiltered:s.response.recordsFiltered,data:s.response.data})})},columns:[{orderable:!1,searchable:!1,render:(a,i,s,o)=>o.row+1+o.settings._iDisplayStart},{data:"created_at",render(a,i,s,o){let h=new Date(a),b=h.getMonth()+1>10?h.getMonth()+1:"0"+(h.getMonth()+1);return(h.getDate()>10?h.getDate():"0"+h.getDate())+"/"+b+"/"+h.getFullYear()}},{data:"kode_invoice"},{data:"total_bayar",render:(a,i,s,o)=>e.money.formatRupiah(parseInt(a.replace(".",",")))},{data:"metode_pembayaran"},{orderable:!1,searchable:!1,render:(a,i,s,o)=>'<button class="btn btn-sm btn-ubah detail mb-2">Detail</button>\n                    <button class="btn nonaktif-data btn-hapus btn-sm mb-2">Hapus</button>'}],rowCallback:(a,i,s)=>{const o=this;return $("td .detail",a).on("click",()=>{o.detail(i)}),$("td .nonaktif-data",a).on("click",()=>{o.nonAktif(i)}),a}}}detail(e){this.router.navigate(["retur/retur-penjualan/detail/"+e.id_retur])}nonAktif(e){m().fire({title:"Apakah anda yakin akan menghapus data ini ?",icon:"warning",showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"Ya, hapus saja!",cancelButtonText:"Tidak, Batalkan"}).then(a=>{a.value&&this.store.dispatch(I({payload:{id:e.id_retur}}))})}ConvertDate(e){let a=new Date(e),i=a.getMonth()+1>10?a.getMonth()+1:"0"+a.getMonth()+1;return(a.getDate()>10?a.getDate():"0"+a.getDate())+"/"+i+"/"+a.getFullYear()}ngOnDestroy(){document.body.classList.remove("jw-modal-open")}btnOpenModal(){this.modalService.open("modalFormContent")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.t2),t.Y36(M.Z),t.Y36(O),t.Y36(p.F0),t.Y36(G.r),t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view"]],viewQuery:function(e,a){if(1&e&&t.Gf(c.G,5),2&e){let i;t.iGM(i=t.CRH())&&(a.datatableElement=i.first)}},decls:34,vars:8,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-3"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button","class","btn btn-tambah btn-lg mb-3",3,"routerLink",4,"ngIf"],[1,"card"],[1,"header"],[1,"body"],["width","100%","datatable","",1,"table","table-striped","table-bordered","table-sm",3,"dtOptions"],["width","30"],["width","130"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-tambah","btn-lg","mb-3",3,"routerLink"],[1,"fas","fa-plus"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Retur Penjualan"),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,ht,3,2,"button",6),t.TgZ(8,"div",7)(9,"div",8)(10,"h2")(11,"strong"),t._uU(12,"Penjualan yang sudah pernah diretur"),t.qZA()()(),t.TgZ(13,"div",9)(14,"table",10)(15,"thead")(16,"tr")(17,"th",11),t._uU(18,"No"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Tanggal"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"No Retur"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Total"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Metode Pembayaran"),t.qZA(),t.TgZ(27,"th",12),t._uU(28,"Aksi"),t.qZA()()(),t.TgZ(29,"tbody"),t._UZ(30,"tr"),t.qZA()()()()()(),t.TgZ(31,"ngx-spinner",13)(32,"p",14),t._uU(33," Loading... "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("title","Retur")("items",t.DdM(7,_t))("active_item","Retur Penjualan"),t.xp6(4),t.Q6J("ngIf",a.btnAdd),t.xp6(7),t.Q6J("dtOptions",a.dtOptions),t.xp6(17),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[E.L,g.O5,p.rH,c.G,A.Ro],styles:["th[_ngcontent-%COMP%]{font-weight:bolder!important}"]}),n})();var H=u(8202),mt=u(88544),Z=u(93075),K=u(8242);function bt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(),s=i.$implicit,o=i.index;return t.oxw().addRetur(s,o,"obat")}),t._uU(1,"Pilih"),t.qZA()}}function ft(n,r){1&n&&(t.TgZ(0,"button",36),t._uU(1,"Pilih"),t.qZA())}function Zt(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.YNc(14,bt,2,0,"button",33),t.YNc(15,ft,2,0,"button",34),t.qZA()()),2&n){const e=r.$implicit,a=r.index;t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.nama_obat),t.xp6(2),t.Oqu(e.satuan_qty),t.xp6(2),t.Oqu(e.satuan),t.xp6(2),t.Oqu(e.satuan_harga),t.xp6(2),t.Oqu(e.total_harga),t.xp6(2),t.Q6J("ngIf",!e.isDisable),t.xp6(1),t.Q6J("ngIf",e.isDisable)}}function At(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(),s=i.$implicit,o=i.index;return t.oxw().addRetur(s,o,"alat")}),t._uU(1,"Pilih"),t.qZA()}}function Tt(n,r){1&n&&(t.TgZ(0,"button",36),t._uU(1,"Pilih"),t.qZA())}function vt(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t.YNc(14,At,2,0,"button",33),t.YNc(15,Tt,2,0,"button",34),t.qZA()()),2&n){const e=r.$implicit,a=r.index;t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.nama_alat_kesehatan),t.xp6(2),t.Oqu(e.satuan_qty),t.xp6(2),t.Oqu(e.satuan),t.xp6(2),t.Oqu(e.satuan_harga),t.xp6(2),t.Oqu(e.total_harga),t.xp6(2),t.Q6J("ngIf",!e.isDisable),t.xp6(1),t.Q6J("ngIf",e.isDisable)}}function Ut(n,r){1&n&&(t.TgZ(0,"div",43),t._uU(1,"Jumlah item tidak boleh kosong"),t.qZA())}function qt(n,r){if(1&n&&(t.TgZ(0,"div",44),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" Jumlah maksimal ",e.satuan_qty," ")}}function yt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",37)(7,"div",38)(8,"input",39),t.NdJ("keypress",function(i){return t.CHM(e),t.oxw().isNumber(i)})("change",function(){return t.CHM(e),t.oxw().setTotalRetur()})("keyup",function(){return t.CHM(e),t.oxw().setTotalRetur()})("ngModelChange",function(i){const o=t.CHM(e).index;return t.oxw().satuan_qty_obat[o]=i}),t.qZA(),t.YNc(9,Ut,2,0,"div",40),t.qZA(),t.TgZ(10,"div",38),t._uU(11),t.qZA(),t.YNc(12,qt,2,1,"div",41),t.qZA()(),t.TgZ(13,"td")(14,"button",42),t.NdJ("click",function(){const i=t.CHM(e),s=i.index,o=i.$implicit;return t.oxw().hapusRetur(s,o,"obat")}),t._uU(15,"Hapus"),t.qZA()()()}if(2&n){const e=r.$implicit,a=r.index,i=t.oxw();t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.nama_obat),t.xp6(4),t.Q6J("ngModel",i.satuan_qty_obat[a])("max",e.satuan_qty),t.xp6(1),t.Q6J("ngIf",i.submitted&&(0==i.satuan_qty_obat[a]||null==i.satuan_qty_obat[a])),t.xp6(2),t.hij(" / ",e.satuan," "),t.xp6(1),t.Q6J("ngIf",i.satuan_qty_obat[a]>e.satuan_qty)}}function Rt(n,r){1&n&&(t.TgZ(0,"div",43),t._uU(1,"Jumlah item tidak boleh kosong"),t.qZA())}function xt(n,r){if(1&n&&(t.TgZ(0,"div",44),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" Jumlah maksimal ",e.satuan_qty," ")}}function Ct(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",37)(7,"div",38)(8,"input",45),t.NdJ("keypress",function(i){return t.CHM(e),t.oxw().isNumber(i)})("keyup",function(){return t.CHM(e),t.oxw().setTotalRetur()})("change",function(){return t.CHM(e),t.oxw().setTotalRetur()})("ngModelChange",function(i){const o=t.CHM(e).index;return t.oxw().satuan_qty_alat[o]=i}),t.qZA(),t.YNc(9,Rt,2,0,"div",40),t.qZA(),t.TgZ(10,"div",38),t._uU(11),t.qZA(),t.YNc(12,xt,2,1,"div",41),t.qZA()(),t.TgZ(13,"td")(14,"button",42),t.NdJ("click",function(){const i=t.CHM(e),s=i.index,o=i.$implicit;return t.oxw().hapusRetur(s,o,"alat")}),t._uU(15,"Hapus"),t.qZA()()()}if(2&n){const e=r.$implicit,a=r.index,i=t.oxw();t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.nama_alat_kesehatan),t.xp6(4),t.Q6J("ngModel",i.satuan_qty_alat[a])("max",e.satuan_qty),t.xp6(1),t.Q6J("ngIf",i.submitted&&(0==i.satuan_qty_alat[a]||null==i.satuan_qty_alat[a])),t.xp6(2),t.hij(" / ",e.satuan," "),t.xp6(1),t.Q6J("ngIf",i.satuan_qty_alat[a]>e.satuan_qty)}}function Mt(n,r){1&n&&(t.TgZ(0,"div",46),t._uU(1," Retur obat dan alat kesehatan masih kosong "),t.qZA())}function Ot(n,r){1&n&&(t.TgZ(0,"div",46),t._uU(1," Alasan retur tida boleh kosong "),t.qZA())}function Et(n,r){1&n&&(t.TgZ(0,"div",46),t._uU(1," Tindakan retur tidak boleh kosong "),t.qZA())}const Dt=function(){return[]},jt=function(){return["../../list-penjualan"]};let Pt=(()=>{class n{constructor(e,a,i,s,o,h,b,W,Xt){this.modalService=e,this.ModulReturService=a,this.router=i,this.validate=s,this.fb=o,this.spinner=h,this.ModulPenjualanService=b,this.activatedRoute=W,this.store=Xt,this.optionsCur={prefix:"",align:"left",thousands:".",precision:"0",inputMode:H.fF.NATURAL},this.datatableElement=c.G,this.dtOptions={},this.listPenjualanObat=[],this.listPenjualanAlat=[],this.totalBayar=0,this.totalRetur=0,this.metode="",this.listReturObat=[],this.listReturAlat=[],this.satuan_qty_obat=[],this.satuan_qty_alat=[],this.alasan="",this.action="",this.id_penjualan="",this.submitted=!1,this.getState=this.store.select("retur")}ngOnInit(){this.activatedRoute.params.subscribe(e=>{e&&(this.spinner.show("spinner1"),this.id_penjualan=e.id,this.ModulPenjualanService.show(e.id).subscribe(a=>{setTimeout(()=>{this.metode=a.response.metode_pembayaran,this.setData(a.response.penjualan_detail,a.response.penjualan_alat_kesehatan)},400)}),setTimeout(()=>{this.spinner.hide("spinner1")},600))})}isNumber(e){return this.validate.Number(e)}setData(e,a){this.listPenjualanObat=e,this.listPenjualanAlat=a,e.map((i,s)=>{this.listPenjualanObat[s].isDisable=!1,this.totalBayar+=parseInt(i.total_harga)}),a.map((i,s)=>{this.listPenjualanAlat[s].isDisable=!1,this.totalBayar+=parseInt(i.total_harga)})}addRetur(e,a,i){"obat"==i?(this.listPenjualanObat[a].isDisable=!0,this.listReturObat.push(e)):(this.listPenjualanAlat[a].isDisable=!0,this.listReturAlat.push(e))}setTotalRetur(){this.totalRetur=0,this.listReturObat.map((e,a)=>{this.totalRetur+=parseInt(e.satuan_harga)*this.satuan_qty_obat[a]}),this.listReturAlat.map((e,a)=>{this.totalRetur+=parseInt(e.satuan_harga)*this.satuan_qty_alat[a]})}hapusRetur(e,a,i){if("obat"==i){this.listReturObat.splice(e,1);let s=this.listPenjualanObat.indexOf(a);this.listPenjualanObat[s].isDisable=!1}else{this.listReturAlat.splice(e,1);let s=this.listPenjualanAlat.indexOf(a);this.listPenjualanAlat[s].isDisable=!1}}simpan(){this.submitted=!1,setTimeout(()=>{this.submitted=!0},400);let e=[],a=[],i=!1,s=!1;if(this.listReturObat.map((h,b)=>{(null==this.satuan_qty_obat[b]||0==this.satuan_qty_obat[b])&&(i=!0),e.push({id_penjualan_detail:h.id_penjualan_detail,satuan_qty:this.satuan_qty_obat[b]})}),this.listReturAlat.map((h,b)=>{(null==this.satuan_qty_alat[b]||0==this.satuan_qty_alat[b])&&(s=!0),a.push({id_penjualan_alat_kesehatan:h.id_penjualan_alat_kesehatan,satuan_qty:this.satuan_qty_alat[b]})}),""==this.alasan||""==this.action||0==this.listReturObat.length&&0==this.listReturAlat.length||s||i)return!1;this.spinner.show("spinner1"),this.store.dispatch(w({payload:{id_penjualan:this.id_penjualan,retur_tujuan:this.action,alasan_retur:this.alasan,obat:e,alat_kesehatan:a}})),setTimeout(()=>{this.spinner.hide("spinner1")},400)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.Z),t.Y36(O),t.Y36(p.F0),t.Y36(mt.p),t.Y36(Z.qu),t.Y36(A.t2),t.Y36(K.Y),t.Y36(p.gz),t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add"]],viewQuery:function(e,a){if(1&e&&t.Gf(c.G,5),2&e){let i;t.iGM(i=t.CRH())&&(a.datatableElement=i.first)}},decls:152,vars:22,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-3"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-kembali","btn-lg","mb-3",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"card"],[1,"header"],[1,"body"],[1,"table","table-sm","table-striped","table-bordered","table-sm"],[4,"ngFor","ngForOf"],[1,"table","table-striped","table-bordered","table-sm"],[1,"col-sm-4","offset-sm-8"],["width","100%",1,"table","table-striped","table-bordered","table-sm"],["width","100%",1,"table","table-sm","table-striped","table-bordered","table-sm"],["width","100%",1,"table","table-sm"],["class","form-text text-danger",4,"ngIf"],[1,"mb-3","col-sm-6"],["for","text-alasanretur",1,"form-label","fw-bold"],["name","alasan","id","text-alasanretur","rows","5",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-check"],["type","radio","id","radio1","name","returStok","value","gudang","checked","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","radio1",1,"form-check-label"],["type","radio","id","radio2","name","returGudang","value","supplier","checked","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","radio2",1,"form-check-label"],["type","radio","id","radio3","name","returHapus","value","buang","checked","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","radio3",1,"form-check-label"],[1,"col-sm-12","text-center"],[1,"btn","btn-lg","btn-simpan",3,"click"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm","disabled","",4,"ngIf"],[1,"btn","btn-secondary","btn-sm",3,"click"],["disabled","",1,"btn","btn-secondary","btn-sm"],[1,"row"],[1,"col-sm-4"],["type","text","type","text","min","0","name","satuan","value","0",1,"form-control",3,"ngModel","max","keypress","change","keyup","ngModelChange"],["class","text-danger",4,"ngIf"],["class","col-md-12 text-danger",4,"ngIf"],[1,"btn","btn-hapus","btn-sm",3,"click"],[1,"text-danger"],[1,"col-md-12","text-danger"],["type","text","value","0","name","satuan",1,"form-control",3,"ngModel","max","keypress","keyup","change","ngModelChange"],[1,"form-text","text-danger"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Retur Penjualan"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t._UZ(8,"i",7),t._uU(9," Kembali"),t.qZA(),t.TgZ(10,"div",8)(11,"div",9)(12,"h2")(13,"strong"),t._uU(14,"Info Penjualan Obat"),t.qZA()()(),t.TgZ(15,"div",10)(16,"table",11)(17,"thead")(18,"tr")(19,"td"),t._uU(20,"No"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Barang"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Jumlah"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Satuan"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Harga"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Total"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Aksi"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,Zt,16,8,"tr",12),t.qZA()()(),t.TgZ(35,"div",9)(36,"h2")(37,"strong"),t._uU(38,"Info Penjualan Alat Kesehatan"),t.qZA()()(),t.TgZ(39,"div",10)(40,"table",13)(41,"thead")(42,"tr")(43,"td"),t._uU(44,"No"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Barang"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Jumlah"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Satuan"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"Harga"),t.qZA(),t.TgZ(53,"th"),t._uU(54,"Total"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Aksi"),t.qZA()()(),t.TgZ(57,"tbody"),t.YNc(58,vt,16,8,"tr",12),t.qZA()(),t.TgZ(59,"div",14)(60,"table",15)(61,"tbody")(62,"tr")(63,"td"),t._uU(64,"Total"),t.qZA(),t._UZ(65,"td"),t.TgZ(66,"td"),t._uU(67),t.qZA()(),t.TgZ(68,"tr")(69,"td"),t._uU(70,"Pembayaran"),t.qZA(),t._UZ(71,"td"),t.TgZ(72,"td"),t._uU(73),t.qZA()()()()()()(),t.TgZ(74,"div",8)(75,"div",9)(76,"h2")(77,"strong"),t._uU(78,"Obat yang diretur"),t.qZA()()(),t.TgZ(79,"div",10)(80,"table",16)(81,"thead")(82,"tr")(83,"th"),t._uU(84,"No"),t.qZA(),t.TgZ(85,"th"),t._uU(86,"Barang"),t.qZA(),t.TgZ(87,"th"),t._uU(88,"Jumlah diretur"),t.qZA(),t.TgZ(89,"th"),t._uU(90,"Aksi"),t.qZA()()(),t.TgZ(91,"tbody"),t.YNc(92,yt,16,7,"tr",12),t.qZA()()(),t.TgZ(93,"div",9)(94,"h2")(95,"strong"),t._uU(96,"Alat kesehatan yang diretur"),t.qZA()()(),t.TgZ(97,"div",10)(98,"table",15)(99,"thead")(100,"tr")(101,"th"),t._uU(102,"No"),t.qZA(),t.TgZ(103,"th"),t._uU(104,"Barang"),t.qZA(),t.TgZ(105,"th"),t._uU(106,"Jumlah diretur"),t.qZA(),t.TgZ(107,"th"),t._uU(108,"Aksi"),t.qZA()()(),t.TgZ(109,"tbody"),t.YNc(110,Ct,16,7,"tr",12),t.qZA()(),t.TgZ(111,"div",14)(112,"table",17)(113,"tbody")(114,"tr")(115,"td"),t._uU(116,"Total Kembalikan"),t.qZA(),t._UZ(117,"td"),t.TgZ(118,"td"),t._uU(119),t.qZA()()()()()(),t.TgZ(120,"div",10),t.YNc(121,Mt,2,0,"div",18),t.qZA()(),t.TgZ(122,"div",8)(123,"div",10)(124,"form")(125,"div",19)(126,"label",20),t._uU(127,"Alasan retur"),t.qZA(),t.TgZ(128,"textarea",21),t.NdJ("ngModelChange",function(s){return a.alasan=s}),t.qZA(),t.YNc(129,Ot,2,0,"div",18),t.qZA(),t.TgZ(130,"div",19)(131,"label",20),t._uU(132,"Tindakan retur"),t.qZA(),t.TgZ(133,"div",22)(134,"input",23),t.NdJ("ngModelChange",function(s){return a.action=s}),t.qZA(),t._uU(135,"Kembali ke Stok "),t._UZ(136,"label",24),t.qZA(),t.TgZ(137,"div",22)(138,"input",25),t.NdJ("ngModelChange",function(s){return a.action=s}),t.qZA(),t._uU(139,"Kembali ke PBF "),t._UZ(140,"label",26),t.qZA(),t.TgZ(141,"div",22)(142,"input",27),t.NdJ("ngModelChange",function(s){return a.action=s}),t.qZA(),t._uU(143,"Dihapus/Dibuang "),t._UZ(144,"label",28),t.qZA(),t.YNc(145,Et,2,0,"div",18),t.qZA(),t.TgZ(146,"div",29)(147,"button",30),t.NdJ("click",function(){return a.simpan()}),t._uU(148,"Retur"),t.qZA()()()()()()(),t.TgZ(149,"ngx-spinner",31)(150,"p",32),t._uU(151," Loading... "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("title","Retur")("items",t.DdM(20,Dt))("active_item","Retur Penjualan"),t.xp6(4),t.Q6J("routerLink",t.DdM(21,jt)),t.xp6(27),t.Q6J("ngForOf",a.listPenjualanObat),t.xp6(24),t.Q6J("ngForOf",a.listPenjualanAlat),t.xp6(9),t.Oqu(a.totalBayar),t.xp6(6),t.Oqu(a.metode),t.xp6(19),t.Q6J("ngForOf",a.listReturObat),t.xp6(18),t.Q6J("ngForOf",a.listReturAlat),t.xp6(9),t.Oqu(a.totalRetur),t.xp6(2),t.Q6J("ngIf",0==a.listReturObat.length&&0==a.listReturAlat.length&&a.submitted),t.xp6(7),t.Q6J("ngModel",a.alasan),t.xp6(1),t.Q6J("ngIf",""==a.alasan&&a.submitted),t.xp6(5),t.Q6J("ngModel",a.action),t.xp6(4),t.Q6J("ngModel",a.action),t.xp6(4),t.Q6J("ngModel",a.action),t.xp6(3),t.Q6J("ngIf",""==a.action&&a.submitted),t.xp6(4),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[E.L,p.rH,g.sg,g.O5,Z.Fj,Z.JJ,Z.On,Z._Y,Z.JL,Z.F,Z._,A.Ro],styles:["th[_ngcontent-%COMP%]{font-weight:bolder!important}"]}),n})();var wt=u(15439);const St=function(){return[]},kt=function(){return["../view"]};function Lt(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()()),2&n){const e=r.$implicit,a=r.index;t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.nama_obat),t.xp6(2),t.Oqu(e.satuan_qty),t.xp6(2),t.Oqu(e.satuan_konversi),t.xp6(2),t.Oqu(e.satuan_harga),t.xp6(2),t.Oqu(e.diskon_rupiah),t.xp6(2),t.Oqu(e.total_harga)}}function It(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()()),2&n){const e=r.$implicit,a=r.index;t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.nama_alat_kesehatan),t.xp6(2),t.Oqu(e.satuan_qty),t.xp6(2),t.Oqu(e.satuan_konversi),t.xp6(2),t.Oqu(e.satuan_harga),t.xp6(2),t.Oqu(e.diskon_rupiah),t.xp6(2),t.Oqu(e.total_harga)}}const Jt=function(){return[]},Ft=function(){return["../../"]},Yt=[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:gt},{path:"add/:id",component:Pt},{path:"list-penjualan",component:(()=>{class n{constructor(e,a,i,s,o,h){this.modalService=e,this.ModulPenjualanService=a,this.router=i,this.money=s,this.spinner=o,this.store=h,this.datatableElement=c.G,this.dtOptions={},this.getState=this.store.select("retur")}ngOnInit(){this.spinner.show("spinner1"),this.dtOptions=this.showDataTables(),this.getState.subscribe(e=>{this.reloadTable=e.reloadTable,!0===this.reloadTable&&this.reLoadData()}),setTimeout(()=>{this.spinner.hide("spinner1")},600)}reLoadData(){this.datatableElement.dtInstance.then(e=>{e.ajax.reload()})}showDataTables(){let e=this;return{pageLength:10,serverSide:!0,processing:!0,order:[],ajax:(a,i)=>{this.ModulPenjualanService.listRiwayat(a).subscribe(s=>{i({draw:s.response.draw,recordsTotal:s.response.recordsTotal,recordsFiltered:s.response.recordsFiltered,data:s.response.data})})},columns:[{orderable:!1,searchable:!1,render:(a,i,s,o)=>o.row+1+o.settings._iDisplayStart},{data:"created_at_unix",render:(a,i,s,o)=>wt(new Date(a)).format("DD-MM-YYYY")},{data:"kode_invoice"},{data:"total_harga",render:(a,i,s,o)=>e.money.formatRupiah(parseInt(a))},{data:"metode_pembayaran"},{orderable:!1,searchable:!1,render:(a,i,s,o)=>'<button class="btn btn-sm btn-ubah detail">Retur</button>'}],rowCallback:(a,i,s)=>{const o=this;return $("td .detail",a).on("click",()=>{o.detail(i)}),a}}}detail(e){this.router.navigate(["retur","retur-penjualan","add",e.id_penjualan])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.Z),t.Y36(K.Y),t.Y36(p.F0),t.Y36(G.r),t.Y36(A.t2),t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-penjualan"]],viewQuery:function(e,a){if(1&e&&t.Gf(c.G,5),2&e){let i;t.iGM(i=t.CRH())&&(a.datatableElement=i.first)}},decls:36,vars:9,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-3"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-kembali","btn-lg","mb-3",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"card"],[1,"header"],[1,"body"],["width","100%","datatable","",1,"table","table-striped","table-bordered","table-sm",3,"dtOptions"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Buat Retur"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t._UZ(8,"i",7),t._uU(9," Kembali "),t.qZA(),t.TgZ(10,"div",8)(11,"div",9)(12,"h2")(13,"strong"),t._uU(14,"List Penjualan"),t.qZA()()(),t.TgZ(15,"div",10)(16,"table",11)(17,"thead")(18,"tr")(19,"th"),t._uU(20,"No"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Tanggal"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"No Transaksi"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Total"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Metode Pembayaran"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Aksi"),t.qZA()()(),t.TgZ(31,"tbody"),t._UZ(32,"tr"),t.qZA()()()()()(),t.TgZ(33,"ngx-spinner",12)(34,"p",13),t._uU(35," Loading... "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("title","Retur")("items",t.DdM(7,St))("active_item","Buat Retur"),t.xp6(4),t.Q6J("routerLink",t.DdM(8,kt)),t.xp6(9),t.Q6J("dtOptions",a.dtOptions),t.xp6(17),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[E.L,p.rH,c.G,A.Ro],styles:[""]}),n})()},{path:"detail/:id",component:(()=>{class n{constructor(e,a,i,s,o,h){this.modalService=e,this.spinner=a,this.ModulReturService=i,this.router=s,this.activatedRoute=o,this.store=h,this.datatableElement=c.G,this.dtOptions={},this.dataBarang=new y,this.total_obat=0,this.total_alat=0,this.detailRetur=[],this.getState=this.store.select("retur")}ngOnInit(){this.activatedRoute.params.subscribe(e=>{e&&(this.spinner.show("spinner1"),this.ModulReturService.show(e.id).subscribe(a=>{this.setDetail(a.response)}),setTimeout(()=>{this.spinner.hide("spinner1")},600))})}setDetail(e){setTimeout(()=>{this.detailRetur=e,e.retur_obat.map(a=>{this.total_obat+=parseInt(a.total_harga)}),e.retur_alat_kesehatan.map(a=>{this.total_alat+=parseInt(a.total_harga)})},300)}ngOnDestroy(){document.body.classList.remove("jw-modal-open")}btnOpenModal(){this.modalService.open("modalFormContent")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.Z),t.Y36(A.t2),t.Y36(O),t.Y36(p.F0),t.Y36(p.gz),t.Y36(l.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detail"]],viewQuery:function(e,a){if(1&e&&t.Gf(c.G,5),2&e){let i;t.iGM(i=t.CRH())&&(a.datatableElement=i.first)}},decls:88,vars:15,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"text-center","mb-3"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["type","button",1,"btn","btn-kembali","btn-lg","mb-3",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"card"],[1,"body"],[1,"row","mb-2"],[1,"col-2"],[1,"col-3"],[1,"header"],["width","100%",1,"table","table-striped","table-bordered","table-sm"],[4,"ngFor","ngForOf"],["colspan","6"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate-multiple",3,"name","fullScreen"],[2,"color","white"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-breadcrumb",3),t.qZA(),t.TgZ(4,"h3",4),t._uU(5,"Detail Retur Penjualan"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t._UZ(8,"i",7),t._uU(9," Kembali "),t.qZA(),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11),t._uU(14,"No Retur"),t.qZA(),t.TgZ(15,"div",12),t._uU(16),t.qZA()(),t.TgZ(17,"div",10)(18,"div",11),t._uU(19,"Retur Tujuan"),t.qZA(),t.TgZ(20,"div",12),t._uU(21),t.qZA()(),t.TgZ(22,"div",10)(23,"div",11),t._uU(24,"Alasan Retur"),t.qZA(),t.TgZ(25,"div",12),t._uU(26),t.qZA()()(),t.TgZ(27,"div",13)(28,"h2")(29,"strong"),t._uU(30,"Detail Retur Penjualan Obat"),t.qZA()()(),t.TgZ(31,"div",9)(32,"table",14)(33,"thead")(34,"tr")(35,"th"),t._uU(36,"No"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Nama Obat"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Jumlah"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"Satuan"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Harga"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Dsikon"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Sub total"),t.qZA()()(),t.TgZ(49,"tbody"),t.YNc(50,Lt,15,7,"tr",15),t.TgZ(51,"tr")(52,"td",16),t._uU(53,"Total"),t.qZA(),t.TgZ(54,"td"),t._uU(55),t.qZA()()()()(),t.TgZ(56,"div",13)(57,"h2")(58,"strong"),t._uU(59,"Detail Retur Penjualan Alat Kesehatan"),t.qZA()()(),t.TgZ(60,"div",9)(61,"table",14)(62,"thead")(63,"tr")(64,"th"),t._uU(65,"No"),t.qZA(),t.TgZ(66,"th"),t._uU(67,"Nama Alat Kesehatan"),t.qZA(),t.TgZ(68,"th"),t._uU(69,"Jumlah"),t.qZA(),t.TgZ(70,"th"),t._uU(71,"Satuan"),t.qZA(),t.TgZ(72,"th"),t._uU(73,"Harga"),t.qZA(),t.TgZ(74,"th"),t._uU(75,"Dsikon"),t.qZA(),t.TgZ(76,"th"),t._uU(77,"Sub total"),t.qZA()()(),t.TgZ(78,"tbody"),t.YNc(79,It,15,7,"tr",15),t.TgZ(80,"tr")(81,"td",16),t._uU(82,"Total"),t.qZA(),t.TgZ(83,"td"),t._uU(84),t.qZA()()()()()()()(),t.TgZ(85,"ngx-spinner",17)(86,"p",18),t._uU(87," Loading... "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("title","Retur")("items",t.DdM(13,Jt))("active_item","Detail Retur Penjualan"),t.xp6(4),t.Q6J("routerLink",t.DdM(14,Ft)),t.xp6(9),t.hij(": ",a.detailRetur.kode_invoice,""),t.xp6(5),t.hij(": ",a.detailRetur.retur_tujuan,""),t.xp6(5),t.hij(": ",a.detailRetur.alasan_retur,""),t.xp6(24),t.Q6J("ngForOf",a.detailRetur.retur_obat),t.xp6(5),t.Oqu(a.total_obat),t.xp6(24),t.Q6J("ngForOf",a.detailRetur.retur_alat_kesehatan),t.xp6(5),t.Oqu(a.total_alat),t.xp6(1),t.Q6J("name","spinner1")("fullScreen",!0))},directives:[E.L,p.rH,g.sg,A.Ro],styles:["th[_ngcontent-%COMP%]{font-weight:bolder!important}"]}),n})()}];let Bt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Yt)],p.Bz]}),n})();var Qt=u(60795),Gt=u(67236);const $t=(0,l.Lq)({retur:null,returResep:null,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1},(0,l.on)(w,(n,r)=>Object.assign(Object.assign({},n),{isLoadingButton:!0,errorMessage:null,reloadTable:!1,isEdit:!1})),(0,l.on)(S,(n,r)=>Object.assign(Object.assign({},n),{isLoadingButton:!1,reloadTable:!1,errorMessage:null})),(0,l.on)(k,(n,r)=>Object.assign(Object.assign({},n),{errorMessage:r.message,reloadTable:!1,isLoadingButton:!1})),(0,l.on)(B,(n,r)=>Object.assign(Object.assign({},n),{isLoadingButton:!0,errorMessage:null,reloadTable:!1,isEdit:!1})),(0,l.on)(N,(n,r)=>Object.assign(Object.assign({},n),{isLoadingButton:!1,reloadTable:!1,errorMessage:null})),(0,l.on)(L,(n,r)=>Object.assign(Object.assign({},n),{errorMessage:r.message,reloadTable:!1,isLoadingButton:!1})),(0,l.on)(I,(n,r)=>Object.assign(Object.assign({},n),{retur:new y,errorMessage:null,isEdit:!1,reloadTable:!1})),(0,l.on)(J,(n,r)=>Object.assign(Object.assign({},n),{reloadTable:!1,errorMessage:null,isEdit:!1})),(0,l.on)(F,(n,r)=>Object.assign(Object.assign({},n),{errorMessage:r.message,reloadTable:!1,isLoadingButton:!1})),(0,l.on)(C,(n,r)=>Object.assign(Object.assign({},n),{retur:new y,reloadTable:!0})),(0,l.on)(lt,(n,r)=>Object.assign(Object.assign({},n),{retur:new y,isLoadingButton:!1,errorMessage:null,reloadTable:!1,submitButton:!1,isEdit:!1})));function Kt(n,r){return $t(n,r)}var D=u(63900),q=u(54004),j=u(70262),P=u(39646);let Wt=(()=>{class n{constructor(e,a,i){this.actions$=e,this.ModulReturService=a,this.router=i,this.urlBacktoView=["retur","retur-penjualan","view"],this.Toast=m().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:s=>{s.addEventListener("mouseenter",m().stopTimer),s.addEventListener("mouseleave",m().resumeTimer)}}),this.addInitial$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(w),(0,D.w)(s=>this.ModulReturService.add(s.payload).pipe((0,q.U)(o=>S({payload:o.response})),(0,j.K)(o=>(0,P.of)(k({message:o}))))))),this.addSuccess$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(S),(0,q.U)(s=>(this.Toast.fire({icon:"success",title:"Data berhasil disimpan"}),this.router.navigate(this.urlBacktoView),C())))),this.addFailure$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(k)),{dispatch:!1}),this.addResepInitial$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(B),(0,D.w)(s=>this.ModulReturService.addResep(s.payload).pipe((0,q.U)(o=>N({payload:o.response})),(0,j.K)(o=>(0,P.of)(L({message:o}))))))),this.addResepSuccess$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(N),(0,q.U)(s=>(this.Toast.fire({icon:"success",title:"Data berhasil disimpan"}),C())))),this.addResepFailure$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(L)),{dispatch:!1}),this.getByIdInitial$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(rt),(0,D.w)(s=>this.ModulReturService.show(s.payload.id).pipe((0,q.U)(o=>ot({payload:o.response})),(0,j.K)(o=>(0,P.of)(Q({message:o}))))))),this.getByIdFailure$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(Q)),{dispatch:!1}),this.deleteInitial$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(I),(0,D.w)(s=>this.ModulReturService.delete(s.payload.id).pipe((0,q.U)(o=>J({payload:o.response})),(0,j.K)(o=>(0,P.of)(F({message:o}))))))),this.deleteSuccess$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(J),(0,q.U)(s=>(this.Toast.fire({icon:"success",title:"Data berhasil dihapus"}),C())))),this.deleteFailure$=(0,d.GW)(()=>this.actions$.pipe((0,d.l4)(F)),{dispatch:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(d.eX),t.LFG(O),t.LFG(p.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var zt=u(24376);let Vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.ez,Qt.K,A.ef,Bt,c.T,Z.u5,Z.UX,Gt.kn.forRoot(),H.Ud,zt.A0,l.Aw.forFeature("retur",Kt),d.sQ.forFeature([Wt])]]}),n})()},94554:(R,f,u)=>{u.d(f,{r:()=>d});var g=u(8202),l=u(5e3);let d=(()=>{class p{formatRupiah(_){if(""!=_&&null!=_&&null!=_&&0!=_){var T=(_=_.toString().replace(".00")).replace(/[^,\d]/g,"").toString().split(","),U=T[0].length%3,v=T[0].substr(0,U),x=T[0].substr(U).match(/\d{3}/gi);return x&&(v+=(U?".":"")+x.join(".")),(v=null!=T[1]?v+","+T[1]:v)?"Rp "+v+",00":""}return"Rp 0,00"}currency(){return{align:"left",allowNegative:!0,allowZero:!0,decimal:",",precision:2,prefix:"Rp ",suffix:"",thousands:".",nullable:!0,min:null,max:null,inputMode:g.fF.NATURAL}}}return p.\u0275fac=function(_){return new(_||p)},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},88544:(R,f,u)=>{u.d(f,{p:()=>l});var g=u(5e3);let l=(()=>{class d{isNumber(c){return c.match(/^[0-9]+$/)?c:c.replace(/[^0-9]/g,"")}isAlpha(c){return c.match(/^[A-Za-z]+$/)?c:c.replace(/[^A-Za-z]/g,"")}Number(c){const _=c.which?c.which:c.keyCode;return!(46!=_||c.target.value.indexOf(".")>-1)||!(_>31&&(_<48||_>57))}}return d.\u0275fac=function(c){return new(c||d)},d.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},44151:(R,f,u)=>{u.d(f,{Z:()=>l});var g=u(5e3);let l=(()=>{class d{constructor(){this.modals=[]}add(c){this.modals.push(c)}remove(c){this.modals=this.modals.filter(_=>_.id!==c)}open(c){this.modals.find(m=>m.id===c).open()}close(c){this.modals.find(m=>m.id===c).close()}}return d.\u0275fac=function(c){return new(c||d)},d.\u0275prov=g.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);